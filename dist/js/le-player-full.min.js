!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/dist/js/",t(0)}([function(e,t,n){e.exports=n(76)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=[].concat(e);return t.forEach(function(e){var t=n.indexOf(e);if(t>-1)return void n.splice(t,1)}),n}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(2),p=r(f),y=n(3),d=r(y),h=n(4),v=r(h),m=n(6),b=r(m),g=n(9),_=r(g),w=n(5),k=r(w),O=n(10),P=r(O),C=n(11),j=r(C),S=n(12),T=r(S),E=n(13),x=r(E),I=n(14),A=r(I),q=n(15),M=r(q),D=n(7),R=n(8),N=n(16),$=r(N),F=n(17),B=r(F);n(18),n(19),n(21),n(25),n(27),n(28),n(29),n(30),n(32),n(33),n(34),n(35),n(36),n(38),d.default.registerControl("divider",function(){return{element:(0,p.default)("<div/>").addClass("divider")}});var V={entity:"Html5",autoplay:!1,height:"auto",loop:!1,muted:!1,preload:"metadata",poster:null,svgPath:"",innactivityTimeout:5e3,rate:{step:.25,min:.5,max:4,default:1},playback:{step:{short:5,medium:10,long:30}},controls:{common:[["play","volume","divider","timeline","divider","section","divider","fullscreen"],["rate","divider","backward","divider","source","divider","subtitle","divider","download","divider","keybinding info"]],fullscreen:[["play","volume","divider","timeline","divider","rate","divider","keybinding info","divider","backward","divider","source","divider","subtitle","divider","download","divider","section","divider","fullscreen"]],mini:[["play","volume","divider","fullscreen","divider","timeinfo"]],"common:android":[["play","timeline","fullscreen"],["rate","source","section"]],"fullscreen:mobile":[["play","timeline","fullscreen"],["rate","source","section"]],"common:ios":[["play","rate","timeline","source"]]},controlsOptions:{common:{align:["justify","left"]},fullscreen:{align:"justify"},"common:android":{align:["justify","right"]},"fullscreen:mobile":{align:["justify","right"]}},volume:{default:.4,mutelimit:.05,step:.1},keyBinding:[{key:32,info:["Space"],description:"Начать проигрывание / поставить на паузу",fn:function(e){e.video.togglePlay()}},{key:37,info:["←"],description:"Перемотать на 10 секунд назад",fn:function(e){e.video.currentTime-=e.options.playback.step.medium,e.splashIcon.show("undo")}},{key:39,info:["→"],description:"Перемотать на 10 секунд вперёд",fn:function(e){e.video.currentTime+=e.options.playback.step.medium,e.splashIcon.show("redo")}},{shiftKey:!0,info:["Shift","←"],description:"Перейти на предыдущую секцию",key:37,fn:function(e){null!=e.sections&&e.sections.prev()}},{shiftKey:!0,key:39,info:["Shift","→"],description:"Перейти на следующую секцию",fn:function(e){null!=e.sections&&e.sections.next()}},{key:38,info:["↑"],description:"Увеличить громкость",fn:function(e){e.video.volume+=e.options.volume.step,e.splashIcon.show(e.calcVolumeIcon(e.video.volume))}},{key:40,info:["↓"],description:"Уменьшить громкость",fn:function(e){e.video.volume-=e.options.volume.step,e.splashIcon.show(e.calcVolumeIcon(e.video.volume))}},{key:70,info:["f"],description:"Открыть/закрыть полноэкраный режим",fn:function(e){e.toggleFullscreen()}}],plugins:{miniplayer:{}},onPlayerInited:D.noop},U=function(e){function t(e,n){i(this,t),n.createElement=!1;var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,null,n));return r._element=e,r.innerElement=(0,D.createEl)("div"),r._userOptions=n,r._initOptions(),""===r.options.svgPath&&t._loadSVGSprite(t.defaultSprite),r._view="common",r.element=r.createElement(),r.loadEntity(r.options.entity,{ctx:e}),r.video=r.entity,r.controls={},r._initControls(),r._dblclickTimeout=null,r._initSections().then(function(e){r.trigger("sectionsinit",e)}),r._initPlugins(),r._listenHotKeys(),r._userActivity=!1,r._listenUserActivity(),r._waitingTimeouts=[],["durationchange","progress","dblclick","click","canplay","qualitychange","trackschange"].forEach(function(e){r.video.on(e,function(){r.trigger(e)})}),r.video.one("play",function(){r.trigger("firstplay"),r.removeClass("leplayer--virgin")}),r.video.on("timeupdate",function(){r.video.currentTime>0&&r.removeClass("leplayer--virgin"),r.trigger("timeupdate",{time:r.video.currentTime,duration:r.video.duration})}),r.video.on("loadstart",function(){r.removeClass("leplayer--ended"),r.error=null,r.trigger("loadstart")}),r.video.on("seeking",function(){r._startWaiting(),r.trigger("seeking")}),r.video.on("seeked",function(){r._stopWayting(),r.trigger("seeked")}),r.video.on("volumechange",function(){r.trigger("volumechange",{volume:r.video.volume})}),r.video.on("posterchange",function(e,t){var n=t.url;r.poster.url=n,r.trigger("posterchange")}),r.video.on("play",function(e){r.removeClass("leplayer--ended"),r.removeClass("leplayer--paused"),r.addClass("leplayer--playing"),r.trigger("play")}),r.video.on("pause",function(){r.removeClass("leplayer--playing"),r.addClass("leplayer--paused"),r.trigger("pause")}),r.video.on("playing",function(){r._stopWayting(),r.trigger("playing")}),r.video.on("ratechange",function(){r.trigger("ratechange",{rate:r.video.rate})}),r.video.on("ended",function(){r.addClass("leplayer--ended"),r.options.loop?(r.currentTime=0,r.video.play()):r.video.paused||r.video.pause(),r.trigger("ended")}),r.video.on("canplaythrough",function(){r._stopWayting(),r.trigger("canplaythrough")}),r.video.on("waiting",function(){r._startWaiting(),r.video.one("timeupdate",function(){return r._stopWayting()}),r.trigger("waiting")}),r.video.on("error",function(e,t){r.error=new B.default(t.code)}),r.video.init().then(function(){r.trigger("inited"),r.options.time&&(r.currentTime=r.options.time),null!=r.video.src&&r.options.autoplay&&r.play()}),r.on("fullscreenchange",r._onFullscreenChange.bind(r)),r.on("click",r._onClick.bind(r)),r.on("dblclick",r._onDbclick.bind(r)),r.on("inited",r._onInited.bind(r)),r.on("play",r._onPlay.bind(r)),r.on("pause",r._onPause.bind(r)),(0,p.default)(document).on(M.default.fullscreenchange,r._onEntityFullscrenChange.bind(r)),r}return l(t,e),c(t,[{key:"loadEntity",value:function(e,n){var r=t.getComponent(e);this._entity=new r(this,n)}},{key:"play",value:function(){return this.video.play()}},{key:"pause",value:function(){return this.video.pause()}},{key:"togglePlay",value:function(){return this.video.togglePlay()}},{key:"load",value:function(){return this.video.load()}},{key:"onSetView",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.on.apply(this,["setview."+e].concat(n)),this}},{key:"changeQuality",value:function(e){var t=this.video;if(null!=e){var n=this.currentTime,r=this.rate,o=this.paused;t.src=e,this.playbackRate=r,this.currentTime=n,o?this.pause():this.play()}}},{key:"onDelView",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.on.apply(this,["delview."+e].concat(n)),this}},{key:"getData",value:function(){var e=new p.default.Deferred;return void 0!==this._data?(e.resolve(this._data),e.promise()):"string"==typeof this.options.data?p.default.ajax({url:this.options.data,method:"GET",dataType:"json"}).promise():"object"===u(this.options.data)?(e.resolve(this.options.data),e.promise()):void 0}},{key:"getSectionData",value:function(){return this.getData().then(function(e){return e.sections})}},{key:"requestFullscreen",value:function(){var e=M.default;e.requestFullscreen?(this.element[0][e.requestFullscreen](),this.trigger("fullscreenchange",!0)):this.video.supportsFullScreen()&&this.video.enterFullscreen()}},{key:"exitFullscreen",value:function(){var e=M.default;e.exitFullscreen?document[e.exitFullscreen]():this.video.supportsFullScreen()&&this.video.exitFullscreen(),this.trigger("fullscreenchange",!1)}},{key:"toggleFullscreen",value:function(){"fullscreen"===this.view?this.exitFullscreen():this.requestFullscreen()}},{key:"getControls",value:function(e){return this.controls[e]}},{key:"getWidth",value:function(){return this.element.width()}},{key:"_completeSections",value:function(e){if(null!=e&&0!==e.length){for(var t=[].concat(e),n=0;n<t.length;n++){var r=void 0;r=n<t.length-1?t[n+1].begin:this.video.duration,t[n].end=r}return t}}},{key:"createElement",value:function(){var e=this.options,t=this._element;this.element=(0,D.createEl)("div"),this.element=this.element.addClass("leplayer").attr("tabindex",0).css("width",e.width&&"100%").css("max-width",e.width),this.errorDisplay=new x.default(this),this.playButton=new b.default(this),this.loader=(0,p.default)("<div />").addClass("leplayer-loader-container").append(new k.default(this,{iconName:"refresh",className:"leplayer-loader-container__icon"}).element),this.splashIcon=new _.default(this),this.videoContainer=(0,D.createEl)("div",{className:"leplayer-video"}).append(this.errorDisplay.element).append(this.playButton.element).append(this.loader).append(this.splashIcon.element),this.poster=new A.default(this),this.videoContainer.append(this.poster.element);var n=new P.default(this,{fn:function(e){var t=e.video;return(0,D.secondsToTime)(t.duration-t.currentTime)}});return this.options.videoInfo&&console.warn("options.videoInfo is deprecated, please use istead options.description"),this.infoElement=(0,D.createEl)("div",{className:"leplayer__info"}).append((0,D.createEl)("div",{className:"leplayer__title",html:this.options.title||""})).append((0,D.createEl)("div",{className:"leplayer__video-info",html:this.options.description||this.options.videoInfo||""})).append((0,D.createEl)("div",{className:"leplayer__last",html:"Видео закончится через "}).append(n.element)),this.innerElement=(0,p.default)("<div />").addClass("leplayer__inner").append(this.videoContainer).append(this.infoElement),this.element=this.element.append(this.innerElement),this.addClass("leplayer--paused"),this.addClass("leplayer--virgin"),R.IS_IPHONE&&this.addClass("leplayer--iphone"),R.IS_ANDROID&&this.addClass("leplayer--android"),R.IS_MOBILE&&this.addClass("leplayer--mobile"),e.sectionContainer&&(this.sectionsContainer=(0,p.default)(e.sectionContainer)),t.before(this.element),this.videoContainer.append(t),this.element}},{key:"_optionsFromElement",value:function(){var e=this._element;if(null==e||0===e.length)return{};var t=["height","width","poster","autoplay","loop","muted","preload"].reduce(function(t,n){var r=e.attr(n);return null!=r&&(t[n]=e.attr(n)),t},{});return t.sources=[],e.attr("src")&&(t.src={url:e.attr("src"),title:e.attr("data-quality")||e.attr("title")||"default"}),e.find("source").each(function(e,n){n=(0,p.default)(n),n.attr("data-quality")&&(t.sources=t.sources.concat({url:n.attr("src"),title:n.attr("data-quality")||n.attr("title")||"default"}))}),t}},{key:"calcVolumeIcon",value:function(e){null==e&&(e=this.video.volume);var t=e;return t<this.options.volume.mutelimit?"volume-off":e<.5?"volume-down":"volume-up"}},{key:"toggleSections",value:function(e){this.sections&&(this.sections.visible=e),this.outsideSections&&(this.outsideSections.visible=e)}},{key:"_initOptions",value:function(){var e=this,n=this._optionsFromElement(),r={};this._userOptions.preset&&t.getPreset(this._userOptions.preset)&&(r=t.getPreset(this._userOptions.preset).options),this.options=p.default.extend(!0,{},V,r,n,this._userOptions),this.options.sources&&!Array.isArray(this.options.sources)&&(this.options.sources=[this.options.sources]),"string"==typeof this.options.src&&(this.options.src={url:this.options.src}),null==this.options.src&&this.options.sources.length>0&&(this.options.src=this.options.sources[0]),this.options.controls=p.default.extend({},V.controls,r.controls,this._userOptions.controls);var o=function(t){if(!e.options.excludeControls.hasOwnProperty(t))return{v:void 0};var n=e.options.excludeControls[t];n.forEach(function(n,r){e.options.controls[t]&&e.options.controls[t][r]&&(e.options.controls[t][r]=s(e.options.controls[t][r],n))})};for(var i in this.options.excludeControls){var a=o(i);if("object"===("undefined"==typeof a?"undefined":u(a)))return a.v}this.options.preset&&t.getPreset(this.options.preset)&&t.getPreset(this.options.preset).initOptions()}},{key:"_initControls",value:function(){for(var e=["common","fullscreen"],t=0;t<e.length;t++){var n=e[t];if(!this.options.controls.hasOwnProperty(n))return;var r=new j.default(this,{name:n});this.element.append(r.element)}null!=this.controls.common&&(this.controls.common.active=!0)}},{key:"_listenHotKeys",value:function(){var e=this,t=function(e,t){return(e.which===t.key||e.key===t.key)&&!!t.shiftKey===e.shiftKey&&!!t.ctrlKey===e.ctrlKey};this.element.on("keydown.leplayer.hotkey",function(n){e.options.keyBinding.forEach(function(r){if(t(n,r))return n.preventDefault(),r.fn(e),!1})})}},{key:"_initSections",value:function(){var e=this,t=p.default.Deferred();return null==this.options.data?t.reject(null):this.getSectionData().done(function(n){n=[].concat(o(n));var r=e.sectionsContainer&&e.sectionsContainer.length>0;return null==n||0===n.length?void t.reject(null):(n=e._completeSections(n),e.sections=new T.default(e,{items:n,fullscreenOnly:r,hideScroll:!0}),e.innerElement.append(e.sections.element),r&&(e.outsideSections=new T.default(e,{items:n}),e.sectionsContainer.append(e.outsideSections.element)),void t.resolve({items:n}))}),t.promise()}},{key:"_initPlugins",value:function(){if(this.options.plugins)for(var e in this.options.plugins){if(!this.options.plugins.hasOwnProperty(e))return;var t=this.options.plugins[e];this[e]?t&&this[e](t):console.error("Plugin '"+e+"' doesn't exist")}return this}},{key:"_listenUserActivity",value:function(){var e=this,t=void 0,n=void 0,r=void 0,o=function(t){t.screenX===n&&t.screenY===r||(n=t.screenX,r=t.screenY,e._userActivity=!0)},i=function(n){e._userActivity=!0,clearInterval(t),t=setInterval(function(){e._userActivity=!0},250)},a=function(n){e._userActivity=!0,clearInterval(t)};this.element.on("mousemove",o),this.element.on("mousedown",i),this.element.on("mouseup",a),this.element.on("keydown",function(t){return e._userActivity=!0}),this.element.on("keyup",function(t){return e._userActivity=!0});var l=void 0,s=this.options.innactivityTimeout;setInterval(function(){e._userActivity&&(e._userActivity=!1,e.userActive=!0,clearTimeout(l),s>0&&(l=setTimeout(function(){e._userActivity||(e.userActive=!1)},s)))},250)}},{key:"_stopWayting",value:function(){this._waitingTimeouts.forEach(function(e){return clearTimeout(e)}),this._waitingTimeouts=[],this.removeClass("leplayer--waiting")}},{key:"_startWaiting",value:function(){var e=this;this._waitingTimeouts.push(setTimeout(function(){e.addClass("leplayer--waiting")},300))}},{key:"_onInited",value:function(e){this.addClass("leplayer--inited"),this.options.onPlayerInited.call(this,e)}},{key:"_onClick",value:function(e){var t=this;clearTimeout(this._dblclickTimeout);var n=function(){t._dblclickTimeout=setTimeout(function(){t.video.element.focus(),t.togglePlay()},300)};(0,R.IS_TOUCH)()&&"fullscreen"===this.view?this.player.userActive&&n():n()}},{key:"_onDbclick",value:function(e){clearTimeout(this._dblclickTimeout),this.toggleFullscreen()}},{key:"_onFullscreenChange",value:function(e,t){t?(this.view="fullscreen",R.IS_ANDROID&&(this._lastSectionsValue=this.sections.visible,this.sections.visible=!1),this.focus()):(this.view="common",R.IS_ANDROID&&(this.sections.visible=this._lastSectionsValue),(R.IS_ANDROID_PHONE||R.IS_IPHONE||R.IS_IPOD)&&this.pause())}},{key:"_onPlay",value:function(){this.splashIcon.show("play")}},{key:"_onPause",value:function(){this.splashIcon.show("pause")}},{key:"_onEntityFullscrenChange",value:function(){var e=M.default,t=!!document[e.fullscreenElement];this.trigger("fullscreenchange",t)}},{key:"entity",get:function(){return this._entity}},{key:"currentTime",get:function(){return this.video.currentTime},set:function(e){this.video.currentTime=e}},{key:"duration",get:function(){return this.video.duration}},{key:"ended",get:function(){return this.video.ended}},{key:"error",get:function(){return this._error||null},set:function(e){return null===e?(this._error=null,this.removeClass("leplayer--error"),this.errorDisplay&&this.errorDisplay.element.hide(),this):(this._error=new B.default(e),this.addClass("leplayer--error"),this.trigger("error",{error:this._error}),this)}},{key:"rate",get:function(){return this.video.rate},set:function(e){this.video.rate=e}},{key:"paused",get:function(){return this.video.paused}},{key:"height",get:function(){return this.element.height()}},{key:"videoHeight",get:function(){return this.video.height}},{key:"userActive",get:function(){return this._userActive||!1},set:function(e){e!==this.getUserActive&&(this._userActive=e,this.toggleClass("leplayer--user-active",e),this.trigger("useractive"))}},{key:"view",get:function(){return this._view},set:function(e){return null!=this.view&&(this.removeClass("leplayer--"+this.view),this.trigger("delview."+this.view)),this._view=e,this.element.addClass("leplayer--"+e),this.trigger("setview."+e),this}}]),t}(v.default);U.plugin=function(e,t){U.prototype[e]=t},U.getComponent=v.default.getComponent,U.registerComponent=v.default.registerComponent,U.getControl=d.default.getControl,U.registerControl=d.default.registerControl,U.secondsToTime=D.secondsToTime,U.preset=function(e,t){"object"===("undefined"==typeof t?"undefined":u(t))?U._presets[e]=p.default.extend({},{options:{},initOptions:D.noop},t):"function"==typeof t&&(U._presets[e]=t())},U.getPreset=function(e){return U._presets[e]?U._presets[e]:(console.error("preset "+e+" doesn't exist"),null)},U._presets={},U.Cookie=$.default,U._loadSVGSprite=function(e){var t=(0,p.default)("<div/>").hide();return(0,p.default)("body").prepend(t.append(e)),t},U.defaultSprite=n(70),U.version="0.5.3",window.$.fn.lePlayer=function(e){return this.each(function(){return new U((0,p.default)(this),e)})},window.$.lePlayer=U,window.lePlayer=U,U.plugin("miniplayer",function(e){var t=this,n=this,r=p.default.extend({},{width:"100%",offsetShow:function(e){var t=e.element.offset().top+e.element.outerHeight()-e.getControls("common").element.height();return t}},this.options.miniplayer,e),o=new j.default(this,{name:"mini",controls:r.controls,controlOptions:{control:{disable:!1}}});this.infoElement.append(o.element);var i=function(){return p.default.isFunction(r.offsetShow)?r.offsetShow(n):r.offsetShow},a=function(){return r.width||t.element.width()};this._updateMiniPlayer=function(e,n){var r=(0,p.default)(window).scrollTop();n&&t.hideMiniPlayer(n),r>i()?t.showMiniPlayer(n):t.hideMiniPlayer()},this.showMiniPlayer=function(e){(e||"mini"!==t.view)&&(t.element.css("padding-top",t.videoContainer.height()),t.view="mini")},this.hideMiniPlayer=function(e){(e||"mini"===t.view)&&(t.view="common")},(0,p.default)(window).on("scroll",this._updateMiniPlayer.bind(this)),(0,p.default)(window).on("resize",this._updateMiniPlayer.bind(this)),this.on("inited",function(e){return t._updateMiniPlayer(e,!0)}),this.onSetView("mini",function(){t.innerElement.css("max-width",a()),t.innerElement.css("height",t.video.height)}),this.onDelView("mini",function(){t.innerElement.css("max-width",""),t.innerElement.css("height",""),t.element.css("padding-top","")}),this._updateMiniPlayer()}),U.preset("vps",n(71).preset),U.preset("simple",n(72).preset),U.preset("sms",n(73).preset),U.preset("compressed",n(74).preset),U.preset("2035",n(75).preset),e.exports=U},function(e,t){e.exports=$},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(2),c=r(u),f=n(4),p=r(f),y=n(5),d=r(y),h=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.emitTapEvents(),r.disable=null==r.options.disable||r.options.disable,r.player.on("inited",function(e){r.disable=null!=r.options.disable&&r.options.disable}),r.element.on({click:r.onClick.bind(r),tap:r.onClick.bind(r)}),r.player.on("inited",r.onPlayerInited.bind(r)),r}return a(t,e),l(t,[{key:"createElement",value:function(){this.options.iconName&&(this.icon=new d.default(this.player,{iconName:this.options.iconName}));var e={title:this.options.title};return this.element=(0,c.default)("<"+(this.options.tag||"button")+" />").addClass(this.buildCSSClass()).append(this.icon&&this.icon.element).attr(e),this.element}},{key:"buildCSSClass",value:function(){var e="control "+this.options.className+" "+s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildCSSClass",this).call(this);return this.player.hasClass("leplayer--iphone")||(e+=" control--no-iphone"),e}},{key:"onClick",value:function(e){return e.preventDefault(),!this.disable&&(this.player.trigger("controlclick",{control:this}),void("function"==typeof this.options.onClick&&this.options.onClick.call(this,arguments)))}},{key:"onPlayerInited",value:function(e,t){}},{key:"tap",set:function(e){this.toggleClass("control--tap",e)}},{key:"disable",set:function(e){this._disable=e,this.toggleClass("disabled",e)},get:function(){return this._disable}}],[{key:"registerControl",value:function(e,n){if(null!=e)return null==t._controls&&(t._controls={}),t._controls[e]=n,n}},{key:"getControl",value:function(e){if(null!=e)return t._controls&&t._controls[e]?t._controls[e]:void 0}},{key:"create",value:function(e,t,n){var r=this.getControl(t);return null==r?(console.error("Control "+t+" doesn't exist"),null):new r(e,n)}}]),t}(p.default);p.default.registerComponent("Control",h),h.registerControl("control",h),t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),l=r(a),s=function(e){return e.split(" ").reduce(function(e,t){return e+("leplayer_"+t+" ")},"")},u=function(){function e(t,n){o(this,e),n=this.options=l.default.extend({},{createElement:!0},this.options,n),t||null==this.play?this.player=t:this.player=t=this,n.createElement&&(n.element?this.element=n.element:this.createElement(),1!==this.element.length&&console.error("Component.prototype.element.length must equal 1, not "+this.element.length+"\n",this.element),this.element[0].__node=this)}return i(e,[{key:"createElement",value:function(){return""}},{key:"buildCSSClass",value:function(){return""}},{key:"focus",value:function(){this.element.focus()}},{key:"blur",value:function(){this.element.blur()}},{key:"trigger",value:function(e){for(var t,n=l.default.Event("leplayer_"+e,{player:this.player}),r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return(t=this.element).triggerHandler.apply(t,[n].concat(o)),this}},{key:"on",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"==typeof e||e instanceof String){var o;(o=this.element).on.apply(o,[s(e)].concat(n))}else{var i;console.warn("First argument of 'Component.on' should be a string"),(i=this.element).on.apply(i,[e].concat(n))}return this}},{key:"one",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"==typeof e||e instanceof String){var o;(o=this.element).one.apply(o,[s(e)].concat(n))}else{var i;console.warn("First argument of 'Component.one' should be a string"),(i=this.element).one.apply(i,[e].concat(n))}return this}},{key:"addClass",value:function(e){return this.element.addClass(e),this}},{key:"removeClass",value:function(e){return this.element.removeClass(e),this}},{key:"toggleClass",value:function(e,t){return this.element.toggleClass(e,t),this}},{key:"hasClass",value:function(e){return this.element.hasClass(e)}},{key:"emitTapEvents",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==t&&(t=this.element);var n=0,r=null,o=null,i=10,a=200,s=void 0;t.on("touchstart",function(t){1===t.touches.length&&(r=o={pageX:t.touches[0].pageX,pageY:t.touches[0].pageY},n=(new Date).getTime(),s=!0,e.tap=!0)}),t.on("touchmove",function(t){if(t.touches.length>1)s=!1;else if(r){var n=t.touches[0].pageX-r.pageX,a=t.touches[0].pageY-r.pageY,l=Math.sqrt(n*n+a*a);1===t.touches.length&&(o={pageX:t.touches[0].pageX,pageY:t.touches[0].pageY}),l>i&&(s=!1,e.tap=!1)}});var u=function(){s=!1,e.tap=!1};t.on("touchleave",u),t.on("touchcancel",u),t.on("touchend",function(i){if(r=null,e.tap=!1,s===!0){var u=(new Date).getTime()-n;if(u<a){i.preventDefault();var c=l.default.Event("tap");c.pageX=o.pageX,c.pageY=o.pageY,t.trigger(c)}}})}},{key:"tap",set:function(e){}}],[{key:"registerComponent",value:function(t,n){if(null!=t)return null==e._components&&(e._components={}),e._components[t]=n,n}},{key:"getComponent",value:function(t){if(null!=t)return e._components&&e._components[t]?e._components[t]:void 0}}]),e}();u.registerComponent("Component",u),t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(2),c=r(u),f=n(4),p=r(f),y=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(this,t),n=c.default.extend({},{className:"",iconName:""},n),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return a(t,e),l(t,[{key:"createElement",value:function(){return this._useTag=document.createElementNS("http://www.w3.org/2000/svg","use"),this._svgTag=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.iconName=this._iconName=this.options.iconName,this._svgTag.appendChild(this._useTag),this.element=(0,c.default)("<div />").addClass(this.buildCSSClass()).attr("title",this.options.title).append((0,c.default)(this._svgTag)),this.element}},{key:"buildCSSClass",value:function(){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildCSSClass",this).call(this)+" leplayer-icon "+this.options.className}},{key:"iconName",set:function(e){var t,n,r=["http://www.w3.org/1999/xlink","href"];(t=this._useTag).removeAttributeNS.apply(t,r.concat([this.player.options.svgPath+"#leplayer-icon-"+this.iconName])),(n=this._useTag).setAttributeNS.apply(n,r.concat([this.player.options.svgPath+"#leplayer-icon-"+e])),this._iconName=e},get:function(){return this._iconName}}]),t}(p.default);p.default.registerComponent("Icon",y),t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(3),c=r(u),f=n(4),p=r(f),y=n(5),d=r(y),h=n(7),v=n(8),m=function(e){function t(e,n){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return a(t,e),l(t,[{key:"createElement",value:function(){var e=(0,h.createEl)("div",{className:"leplayer-play-button__button"}).append(new d.default(this.player,{iconName:"play"}).element);return this.element=(0,h.createEl)("div",{className:this.buildCSSClass()}).append(e),this.element}},{key:"onClick",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onClick",this).call(this,e),(0,v.IS_TOUCH)()&&"fullscreen"===this.player.view?this.player.userActive&&this.player.play():this.player.play()}},{key:"buildCSSClass",value:function(){return"leplayer-play-button "+this.options.className}}]),t}(c.default);p.default.registerComponent("PlayButton",m),c.default.registerControl("play button",m),t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=Math.floor(e/3600),r=Math.floor(e%3600/60),o=Math.floor(e%3600%60),i="";return r<10&&(r="0"+r),o<10&&(o="0"+o),i=r+":"+o,(n>0||t)&&(i=n+":"+i),i}function i(e,t){
var n=e/t||0;return n>=1?1:n}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments[1];return t&&t.className&&(t.class=t.className,delete t.className),(0,c.default)("<"+e+"/>",t)}function l(e){}function s(){}Object.defineProperty(t,"__esModule",{value:!0}),t.getScrollBarWidth=void 0,t.secondsToTime=o,t.percentify=i,t.createEl=a,t.$html=l,t.noop=s;var u=n(2),c=r(u);t.getScrollBarWidth=function(){var e=void 0;return function(){if(null!=e)return e;var t=(0,c.default)("<div />").css({visibility:"hidden",width:100,overflow:"scroll"}).appendTo("body"),n=(0,c.default)("<div />").css({width:"100%"}).appendTo(t).outerWidth();return t.remove(),e=100-n}}()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=window.navigator&&window.navigator.userAgent||"",r=t.IS_MOBILE=/Mobile/i.test(n),o=t.IS_CHROME=n.indexOf("Chrome")>-1,i=t.IS_ANDROID=/Android/i.test(n),a=(t.IS_ANDROID_PHONE=i&&r,t.IS_IPAD=/iPad/i.test(n)),l=t.IS_IPHONE=/iPhone/i.test(n)&&!a,s=t.IS_IPOD=/iPod/i.test(n);t.IS_IOS=l||a||s,t.IS_SAFARI=n.indexOf("Safari")>-1&&!o,t.IS_TOUCH=function(){return"ontouchstart"in window||navigator.maxTouchPoints}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),u=r(s),c=n(4),f=r(c),p=n(5),y=r(p),d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"show",value:function(e){var t=this;this.icon.iconName=e,this.element.addClass("leplayer-splashicon--active"),setTimeout(function(){return t.element.removeClass("leplayer-splashicon--active")},300)}},{key:"createElement",value:function(){return this.icon=new y.default(this.player),this.element=(0,u.default)("<div />").addClass("leplayer-splashicon").append(this.icon.element)}}]),t}(f.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),u=r(s),c=n(4),f=r(c),p=n(7),y=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),n=u.default.extend({},{fn:function(e){var t=e.video;return(0,p.secondsToTime)(t.currentTime)}},n);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.player.on("timeupdate",r.updateText.bind(r)),r.player.on("inited",r.updateText.bind(r)),r}return a(t,e),l(t,[{key:"updateText",value:function(e,t){this.element.text(this.options.fn(this.player))}},{key:"createElement",value:function(){return this.element=(0,p.createEl)("div",{className:"leplayer-time"}),this.element}}]),t}(f.default);f.default.registerComponent("Time",y),t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),c=r(u),f=n(4),p=r(f),y=n(3),d=r(y),h=n(7),v=n(8),m=function(e){function t(e,n){o(this,t);var r=n,a=r.name,l={},s={},u=[];null!=a&&(u=e.options.controls[a],s=e.options.controlsOptions[a],[{flag:v.IS_MOBILE,name:"mobile"},{flag:v.IS_ANDROID_PHONE,name:"android"},{flag:v.IS_IPHONE,name:"ios"}].forEach(function(t){if(t.flag){var n=a+":"+t.name;e.options.controls[n]&&(l=c.default.extend({},l,e.options.controlsOptions[n]),u=e.options.controls[n])}return t.flag})),n=c.default.extend({},{controls:u,align:"left",controlsOptions:{}},l,s,n);var f=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return f.active=n.active||!1,f.name=n.name,f.player.controls[f.name]=f,f}return a(t,e),s(t,[{key:"_getControlOptions",value:function(e){var t=this.options.controlsOptions,n=t.control||{};return t[e]&&(n=c.default.extend(!0,{},n,t[e])),n}},{key:"addControl",value:function(e,t,n){var r=d.default.create(this.player,t,l({collection:this.options.name},n));if(null!=r){for(;e>this._rows.length;)this.addRow();var o=this._rows[e];o.append(r.element),null==this.controls&&(this.controls=[]),null==this.controls[e]&&(this.controls[e]={}),this.controls[e][t]=r}}},{key:"getControl",value:function(e,t){if(null!=t){var n=e,r=t;return this.controls[r][n]}for(var o=e,i=0;i<this.controls.length;i++)if(null!=this.controls[i][o])return this.controls[i][o];return null}},{key:"addRow",value:function(){var e=(0,h.createEl)("div",{className:"leplayer-controls controls-"+this.options.name});return null==this._rows&&(this._rows=[]),this._rows.push(e),this.element.append(e),e}},{key:"getRow",value:function(e){return this._rows[e||0]}},{key:"createElement",value:function(){var e=this,t=this.options,n=t.name,r=t.controls,o=t.align,i=null;return this.element=(0,h.createEl)("div",{className:"leplayer-control-collection leplayer-control-collection--"+n}),"string"==typeof o&&(i=o),r.forEach(function(t,r){var a=e.addRow(),l=i;Array.isArray(o)&&o[r]&&(l=o[r]),t.forEach(function(t){"timeline"===t&&"justify"!==l&&console.warn("Conrols should have justify align, if there is the timeline in it"),e.addControl(r,t,e._getControlOptions(n))}),a.addClass("leplayer-controls--"+l).attr("tabindex",0),a.find(".divider + .divider").remove()}),this.element}},{key:"hide",value:function(){this.element.hide(),this.element.find(".leplayer-controls").hide()}},{key:"show",value:function(){this.element.show(),this.element.find(".leplayer-controls").show()}}]),t}(p.default);p.default.registerComponent("ControlCollection",m),t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),u=r(s),c=n(4),f=r(c),p=n(7),y=function(e){function t(e,n){var r;o(this,t);var a=n.items,l=void 0===a?[]:a;l=[].concat(l);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return s.scrollElement=s._innerElement,s.activeSection=s.getSectionByIndex(0),s.items=l,s.length=s.items.length,s.setActiveByIndex(0),s.element.find(".leplayer-section").on("click",s.onSectionClick.bind(s)),s.player.on("timeupdate",s.onTimeUpdate.bind(s)),s.player.on("inited",s.updateSectionDuration.bind(s)),s.player.on("durationchange",s.updateSectionDuration.bind(s)),s.player.on("focus",function(){return s.player.focus()}),r=s,i(s,r)}return a(t,e),l(t,[{key:"next",value:function(){var e=parseInt(this.activeSection.attr("data-index")),t=e>=this.length?this.length:e+1;this.setActiveByIndex(t),this.player.video.currentTime=this.items[e].end}},{key:"prev",value:function(){var e=parseInt(this.activeSection.attr("data-index")),t=e<=0?0:e-1;this.setActiveByIndex(t),this.player.video.currentTime=this.items[t].begin}},{key:"createElement",value:function(){var e=this.options,t=e.fullscreenOnly,n=e.hideScroll;return this.element=(0,u.default)("<div />").addClass("leplayer-sections").attr("tabindex","0"),this._innerElement=(0,u.default)("<div />").addClass("leplayer-sections__inner"),t&&this.element.addClass("leplayer-sections--fsonly"),n&&(this.element.addClass("leplayer-sections--hide-scroll"),this._innerElement.css({right:-1*(0,p.getScrollBarWidth)()})),this.element.append(this._innerElement.append(this._createSections(this.options.items))),this.element}},{key:"updateSectionDuration",value:function(){if(null!=this.items&&this.items.length>0){var e=this.items.length;this.items[e-1].end=this.player.video.duration}}},{key:"onSectionClick",value:function(e){var t=this.player.video,n=(0,u.default)(e.target).closest(".leplayer-section");t.currentTime=n.attr("data-begin"),this.player.trigger("sectionsclick",{section:this.items[n.attr("data-index")]})}},{key:"setActiveByIndex",value:function(e){if(0===this.activeSection.length||parseInt(this.activeSection.attr("data-index"))===e||0===this.getSectionByIndex(e).length)return this;this.activeSection.removeClass("leplayer-section--active"),this.activeSection=this.getSectionByIndex(e),this.activeSection.addClass("leplayer-section--active");var t=this.activeSection.position().top;return this.scrollElement.animate({scrollTop:this.scrollElement.scrollTop()+t},800),this.player.trigger("sectionschange",{section:this.items[e]}),this}},{key:"getSectionByIndex",value:function(e){return this.element.find('.leplayer-section[data-index="'+e+'"]')}},{key:"onTimeUpdate",value:function(e,t){if(0!==this.activeSection.length){var n=this.player.currentTime;if("mini"===this.player.view){var r=this.activeSection.attr("data-end");this.activeSection.next().find(".time").text((0,p.secondsToTime)(r-n))}for(var o=0;o<this.items.length;o++){var i=this.items[o];if(n<i.end){this.setActiveByIndex(o);break}}}}},{key:"createSection",value:function(e,t){var n=this.items||this.options.items,r=('\n\t\t\t<div class="leplayer-section '+(t?"":"leplayer-section--active")+'"\n\t\t\t\tdata-begin="'+e.begin+'"\n\t\t\t\tdata-index="'+t.toString()+'"\n\t\t\t\tdata-end="'+e.end+'">\n\t\t\t\t<div class="leplayer-section-time">'+(0,p.secondsToTime)(e.begin)+'</div>\n\t\t\t\t<div class="leplayer-section-info">\n\t\t\t\t\t<div class="leplayer-section-next-info">\n\t\t\t\t\t\t'+(e.nextInfo||"Следующая секция начнется через")+'\n\t\t\t\t\t\t<span class="time">'+(0,p.secondsToTime)(n[0].end)+"</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t"+(null!=e.title?'<div class="leplayer-section-title">'+e.title+"</div>":"")+"\n\t\t\t\t\t"+(null!=e.description?'<div class="leplayer-section-description">'+e.description+"</div>":"")+"\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t").trim();return r}},{key:"updateSection",value:function(e,t){this.getSectionByIndex(t).replaceWith(this.createSection(e,t)).on("click",this.onSectionClick.bind(this))}},{key:"_createSections",value:function(e){var t=this,n="";return e.forEach(function(e,r){n+=t.createSection(e,r)}),n}},{key:"visible",set:function(e){this.element.hasClass("leplayer-sections--hidden")&&e?(this.element.removeClass("leplayer-sections--hidden"),this.player.trigger("sectionstoggle",{isVisible:e})):e||(this.element.addClass("leplayer-sections--hidden"),this.player.trigger("sectionstoggle",{isVisible:e}))},get:function(){return!this.element.hasClass("leplayer-sections--hidden")}}]),t}(f.default);f.default.registerComponent("Sections",y),t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),u=r(s),c=n(4),f=r(c),p=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return null!=r.player._error&&(r.message=r.player._error.message,r.element.show()),r.player.on("error",r.onPlayerError.bind(r)),r}return a(t,e),l(t,[{key:"createElement",value:function(){this.element=(0,u.default)("<div />").addClass("leplayer-error-display")}},{key:"onPlayerError",value:function(e,t){var n=t.error;this.message=n.message,this.element.show()}},{key:"message",set:function(e){this.element.html(e)}}]),t}(f.default);f.default.registerComponent("ErrorDisplay",p),t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),u=r(s),c=n(4),f=r(c),p=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),n=u.default.extend({},{url:n.url},n);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.url=r.options.url,r}return a(t,e),l(t,[{key:"createElement",value:function(){return this.element=(0,u.default)("<div />").addClass("leplayer-poster"),this.element}},{key:"url",set:function(e){null!=e&&(this._url=e,this.element.css("background-image",'url("'+e+'")'))},get:function(){return this._url}}]),t}(f.default);f.default.registerComponent("Poster",p),t.default=p},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var n={},r=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],o=r[0],i=void 0,a=0;a<r.length;a++)if(r[a][1]in document){i=r[a];break}if(i)for(var l=0;l<i.length;l++)n[o[l]]=i[l];t.default=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){n(this,e)}return r(e,null,[{key:"get",value:function(e,t){var n=document.cookie.split(";");for(var r in n){var o=n[r].trim().split("=");if(o[0]==="leplayer_"+e)return o[1]}return t}},{key:"set",value:function(e,t){var n=new Date;n.setDate(n.year+1),document.cookie="leplayer_"+e+"="+t+";expires="+n.toString()}}]),e}();t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(2),l=r(a),s=function e(t){return o(this,e),t instanceof e?t:("number"==typeof t?this.code=t:"string"==typeof t?this.message=t:"object"===("undefined"==typeof t?"undefined":i(t))&&("number"==typeof t.code&&(this.code=t.code),l.default.extend(this,t)),void(this.message||(this.message=e.defaultMessages[this.code]||"")))};s.prototype.code=0,s.prototype.message="",s.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],s.defaultMessages={1:"Вы прервали загрузку видео.",2:"Загрузка видео прервана из-за потери соединения.",3:"Загрузка видео остановлена из-за проблем с видеофайлом или из-за того, что ваш браузер не поддерживает воспроизведение данного файла.",4:"Видео не может быть загружено из-за проблем с интернет-соединением или проблем на сервере. Или формат файла не поддерживается вашим браузером.",5:"Видео зашифровано, и мы не можем его расшифровать."};for(var u=0;u<s.errorTypes.length;u++)s[s.errorTypes[u]]=u,s.prototype[s.errorTypes[u]]=u;t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),u=r(s),c=n(4),f=r(c),p=n(3),y=r(p),d=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),n=u.default.extend({},{iconName:"play",title:"Воспроизвести видео",className:"play",name:"play"},n);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.player.on("play playing pause ended seeking loadstart",r.update.bind(r)),r}return a(t,e),l(t,[{key:"showPlay",value:function(){"play"!==this.icon.iconName&&(this.icon.iconName="play",this.element.attr("title",this.options.title))}},{key:"showPause",value:function(){"pause"!==this.icon.iconName&&(this.icon.iconName="pause",this.element.attr("title","Поставить на паузу"))}},{key:"update",value:function(){this.player.ended?this.showReplay():this.player.paused?this.showPlay():this.showPause()}},{key:"showReplay",value:function(){"refresh"!==this.icon.iconName&&this.player.duration!==1/0&&(this._replay=!0,this.icon.iconName="refresh",this.element.attr("title","Запустить заново"))}},{key:"removeReplay",value:function(){this._replay&&(this._replay=!1,this.player.video.paused?this.showPlay():this.showPause())}},{key:"onClick",value:function(e){this.player.video.togglePlay()}}]),t}(y.default);f.default.registerComponent("PlayControl",d),y.default.registerControl("play",d),t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(2),c=r(u),f=n(4),p=r(f),y=n(3),d=r(y),h=n(20),v=r(h),m=n(8),b=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),n=c.default.extend({},{iconName:"volume-down",className:"volume-control",name:"volume"},n);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return!e.video.featureControlVolume||m.IS_ANDROID_PHONE?(r.element.hide(),i(r)):(r.player.on("volumechange",function(e,t){var n=r.player.video;r.value=n.muted?0:n.volume}),r)}return a(t,e),l(t,[{key:"createElement",value:function(){var e=this;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createElement",this).call(this);var n=!1,r=this.player.video;return this.marker=(0,c.default)("<div/>").addClass("volume-marker"),this.active=(0,c.default)("<div/>").addClass("volume-active"),this.line=(0,c.default)("<div/>").addClass("volume-line").append(this.active).append(this.marker).on("click",function(t){if(!n){var o=e.getPosition(t.pageY);o>=0&&o<=1&&(r.muted&&(r.muted=!1),r.volume=1-o)}}),this.dropdownContent.addClass("volume-slider").append(this.line),this.icon.element.attr("title","Отключить звук"),this.marker.on("mousedown",function(e){1===e.which&&(n=!0)}),(0,c.default)(document).on({mousemove:function(t){if(n){var o=e.getPosition(t.pageY);o>=0&&o<=1&&(r.muted&&(r.muted=!1),r.volume=1-o)}},mouseup:function(e){n=!1}}),this.element}},{key:"toggleMuted",value:function(){var e=this.player.video;e.muted=!e.muted}},{key:"getPosition",value:function(e){return(e-this.line.offset().top)/this.line.height()}},{key:"onClick",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onClick",this).call(this,e),e.target===this.icon.element[0]&&this.toggleMuted()}},{key:"onPlayerInited",value:function(){return this.player.video.featureControlVolume?void(this.value=this.player.video.defaultVolume):void this.element.hide()}},{key:"value",set:function(e){this.icon.iconName=this.player.calcVolumeIcon(e);var t=Math.round(100*e).toString()+"%";this.active.css("height",t),this.marker.css("bottom",t)}}]),t}(v.default);p.default.registerComponent("VolumeControl",b),d.default.registerControl("volume",b),t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(2),c=r(u),f=n(3),p=r(f),y=n(4),d=r(y),h=n(8),v=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),n=c.default.extend({},{tag:"div"},n);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._opened=!1,r.element.on("mouseenter",r.open.bind(r)),r.element.on("mouseleave",r.close.bind(r)),h.IS_MOBILE&&(r.element.on("tap",r.toggle.bind(r)),(0,c.default)(document).on("touchend touchstart click",r.onDocumentEvents.bind(r))),r}return a(t,e),l(t,[{key:"createElement",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createElement",this).call(this),this.dropdownContent=(0,c.default)("<div />").addClass("control-dropdown__content"),this.element.append(this.dropdownContent)}},{key:"buildCSSClass",value:function(){return"control-dropdown "+s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildCSSClass",this).call(this)}},{key:"onClick",value:function(e){(0,c.default)(e.target).closest(this.dropdownContent).length>0||s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onClick",this).call(this,e)}},{key:"toggle",value:function(){this.disable,this._opened?this.close():this.open()}},{key:"open",value:function(){this.disable||(this._opened=!0,this.dropdownContent.show())}},{key:"close",value:function(){this.disable||(this._opened=!1,this.dropdownContent.hide())}},{key:"onDocumentEvents",value:function(e){(0,c.default)(e.target).closest(this.element).length>0||(0,c.default)(e.target).closest(this.dropdownContent).length>0||this._opened&&this.close()}}]),t}(p.default);d.default.registerComponent("ControlDropdown",v),p.default.registerControl("dropdown",v),t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(2),c=r(u),f=n(4),p=r(f),y=n(3),d=r(y),h=n(22),v=r(h),m=n(23),b=r(m),g=n(24),_=r(g),w=n(7),k=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),n=c.default.extend({},{name:"timeline",className:"control-timeline timeline-container",tag:"div"},n);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.marker.element.on("leplayer_mousemove",r._onMarkerMousemove.bind(r)),r.marker.element.on("leplayer_mousedown",r._onMarkerMousedown.bind(r)),r.player.on("sectionsinit",r.onSectionsInit.bind(r)),r.player.on("timeupdate",r._onTimeUpdate.bind(r)),r.player.on("durationchange",r._onDurationChange.bind(r)),r}return a(t,e),l(t,[{key:"_onMarkerMousedown",value:function(e){this.markerShadow.element.hide()}},{key:"_onMarkerMousemove",value:function(e,t){var n=t.x,r=this.getPosition(n),o=this.player.video;r>0&&r<1&&this.marker.markerTime.show().html((0,w.secondsToTime)(o.duration*r))}},{key:"_onTimeUpdate",value:function(e,t){var n=this.player.video.duration,r=this.player.currentTime;t&&void 0!==t.currentTime&&(r=t.currentTime);var o=r/n;isNaN(n)&&0===r&&(o=0),this.move({percent:o,currentTime:r})}},{key:"createElement",value:function(){var e=this;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createElement",this).call(this);var n=this.player.video;this.drag=!1,this.currentTime=new v.default(this.player,{className:"time-current"}),this.currentTime.text="00:00",this.totalTime=new v.default(this.player,{className:"time-total"}),this.marker=new _.default(this.player,{drag:!0}),this.markerShadow=new _.default(this.player,{className:"shadow"}),this.markerShadow.element.hide(),this.playedRanges=(0,c.default)("<div />").addClass("time-played"),this.bufferedRanges=new b.default(this.player).element,this.line=(0,c.default)("<div />"),this.emitTapEvents(this.line),this.line.addClass("timeline").append(this.marker.element).append(this.markerShadow.element).append(this.playedRanges).append(this.bufferedRanges).on({mousemove:function(t){if(!e.marker.drag){var r=e.getPosition(t.pageX);r>0&&r<1?(e.markerShadow.element.show().css("left",100*r+"%"),e.markerShadow.markerTime.show().html((0,w.secondsToTime)(n.duration*r))):e.markerShadow.element.hide()}},mouseleave:function(t){e.drag||e.markerShadow.element.hide()},mousedown:function(e){},click:this._onLineClick.bind(this),tap:this._onLineClick.bind(this)
}),this.element.addClass("timeline-container").append((0,c.default)("<div />").addClass("timeline-subcontainer").append(this.currentTime.element).append(this.line).append(this.totalTime.element))}},{key:"onClick",value:function(e){e.preventDefault()}},{key:"_onLineClick",value:function(e){if(!this.drag){var t=this.player.video;this.move({percent:this.getPosition(e.pageX)}),t.currentTime=t.duration*this.getPosition(e.pageX)}}},{key:"onSectionsInit",value:function(e){var t=this.player.video.duration;isNaN(t)||this.player.sections&&this.updateSectionRanges(this.player.sections.items)}},{key:"updateSectionRanges",value:function(e){null==this.sections||0===this.sections.length?(this.sections=this.createSectionRanges(e),this.line.append(this.sections)):this.sections.html(this.createSectionRanges(e))}},{key:"createSectionRanges",value:function(e){var t=this.player.video.duration,n=(0,c.default)("<div />").addClass("leplayer-timeline-sections");return e.forEach(function(e){var r=e.end-e.begin,o=(0,c.default)("<div />").addClass("leplayer-timeline-section").css({width:r/t*100+"%",left:e.begin/t*100+"%"});n.append(o)}),n}},{key:"getPosition",value:function(e){return(e-this.line.offset().left)/this.line.width()}},{key:"move",value:function(e){var t=e.percent,n=e.currentTime;void 0===n&&(n=this.player.video.duration*t),isNaN(n)||(t*=100,this.marker.element.css("left",t+"%"),this.playedRanges.css("width",t+"%"),this.currentTime.text=(0,w.secondsToTime)(n))}},{key:"updateLabels",value:function(){var e=this.player.video;this.totalTime.text=(0,w.secondsToTime)(0,Math.floor(e.duration/3600)>0),this.totalTime.text=(0,w.secondsToTime)(e.duration),this.currentTime.text=(0,w.secondsToTime)(e.currentTime||0)}},{key:"onPlayerInited",value:function(e){this.updateLabels(),this.player.sections&&this.updateSectionRanges(this.player.sections.items)}},{key:"_initWatchBuffer",value:function(){var e=this;clearInterval(this.watchBufferInterval);var t=this.player.video,n=function(){var n=1,r=0,o=(0,c.default)("");t.loaded.forEach(function(e){var t=(0,c.default)("<div />").addClass("time-buffered");t.css({left:100*e[r]+"%",width:100*(e[n]-e[r])+"%"}),o=o.add(t)}),e.buffered.html(o),t.loaded.length&&1-t.loadedSize<=.05&&clearInterval(e.watchBufferInterval)};this.watchBufferInterval=setInterval(n,500)}},{key:"_onDurationChange",value:function(){this.updateLabels(),this.player.sections&&this.updateSectionRanges(this.player.sections.items)}}]),t}(d.default);p.default.registerComponent("TimelineControl",k),d.default.registerControl("timeline",k),t.default=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(2),c=r(u),f=n(3),p=r(f),y=n(4),d=r(y),h=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(this,t),n=c.default.extend({},{className:"",tag:"div"},n),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return a(t,e),l(t,[{key:"createElement",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createElement",this).call(this)}},{key:"buildCSSClass",value:function(){return"control-text "+this.options.className}},{key:"text",set:function(e){this._text=e,this.element.html(e)},get:function(){return this._text}}]),t}(p.default);d.default.registerComponent("ControlText",h),p.default.registerControl("text",h),t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(7),u=n(4),c=r(u),f=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.player.on("progress",r.update.bind(r)),r.player.on("seeked",r.update.bind(r)),r.player.on("loadstart",r.update.bind(r)),r}return a(t,e),l(t,[{key:"createElement",value:function(){return this.range=(0,s.createEl)("div",{className:"leplayer-timeline-buffered__range"}),this.element=(0,s.createEl)("div",{className:"leplayer-timeline-buffered"}).append(this.range)}},{key:"update",value:function(){var e=this.player.video.buffered,t=this.player.video.duration;if(null!=e){var n=0;e.length>0&&(n=e.end(e.length-1));var r=0;t>0&&(r=100*(0,s.percentify)(n,t)+"%"),this.range.css({width:r})}}}]),t}(c.default);c.default.registerComponent("BufferedRanges",f),t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),u=r(s),c=n(4),f=r(c),p=function(e){function t(e,n){o(this,t),n=u.default.extend({},{drag:!1,className:""},n);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.element.on("mousedown",r._onMousedown.bind(r)),(0,u.default)(document).on({mousemove:function(e){r.drag&&r.element.trigger("leplayer_mousemove",{x:e.pageX})},mouseup:function(e){r.drag&&(r.drag=!1,r.markerTime.hide(),r.element.trigger("leplayer_mouseup",{x:e.pageX}))}}),r}return a(t,e),l(t,[{key:"_onMousedown",value:function(e){1===e.which&&(e.preventDefault(),this.options.drag&&(this.drag=!0),this.element.trigger("leplayer_mousedown"))}},{key:"createElement",value:function(){return this.markerTime=(0,u.default)("<div />").addClass("time").hide(),this.element=(0,u.default)("<div />").addClass("time-marker "+this.options.className).append(this.markerTime)}},{key:"drag",set:function(e){this._drag=e,this.element.toggleClass("time-marker--drag",e)},get:function(){return this._drag}}]),t}(f.default);f.default.registerComponent("Marker",p),t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(2),c=r(u),f=n(4),p=r(f),y=n(3),d=r(y),h=n(26),v=r(h),m=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),n=c.default.extend({},{iconName:"list-ul",className:"section",name:"section",title:"Показать/скрыть секции",disable:!0},n);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.player.on("sectionsinit",r._onSectionsInit.bind(r)),r.player.on("sectionstoggle",r._onSectionToggle.bind(r)),r}return a(t,e),l(t,[{key:"onChecked",value:function(e,n){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onChecked",this).call(this,e),this.player.toggleSections(n.checked)}},{key:"_onSectionToggle",value:function(e,t){var n=t.isVisible;this.checked!==n&&(this.checked=n)}},{key:"_onSectionsInit",value:function(e){this.options.disable=this.disable=!1,this.checked=!0}}]),t}(v.default);p.default.registerComponent("SectionControl",m),d.default.registerControl("section",m),t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(3),c=r(u),f=n(4),p=r(f),y=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.checked=r.options.checked||!1,r.element.on("leplayer_checked",r.onChecked.bind(r)),r}return a(t,e),l(t,[{key:"onClick",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onClick",this).call(this,e),this.checked=!this.checked}},{key:"onChecked",value:function(e,t){}},{key:"buildCSSClass",value:function(){return"control-checkbox "+s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildCSSClass",this).call(this)}},{key:"checked",set:function(e){this.disable||(e=!!e,this._checked=e,this.element.toggleClass("control-checkbox--checked",e),this.element.trigger("leplayer_checked",{checked:e}))},get:function(){return this._checked}}]),t}(c.default);p.default.registerComponent("ControlCheckbox",y),c.default.registerControl("checkbox",y),t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(2),c=r(u),f=n(4),p=r(f),y=n(3),d=r(y),h=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(this,t),n=c.default.extend({},{iconName:"arrows-alt",className:"fullscreen",title:"Развернуть/свернуть на полный экран",name:"fullscreen"},n),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return a(t,e),l(t,[{key:"onClick",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onClick",this).call(this,e),this.player.toggleFullscreen()}}]),t}(d.default);p.default.registerComponent("FullscreenControl",h),d.default.registerControl("fullscreen",h),t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(2),c=r(u),f=n(4),p=r(f),y=n(3),d=r(y),h=n(22),v=r(h),m=n(16),b=r(m),g=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),n=c.default.extend({},{className:"control-container",tag:"div"},n);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.player.on("ratechange",function(){r.update()}),r}return a(t,e),l(t,[{key:"createElement",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createElement",this).call(this);var e=this.player.video;this.downControl=new d.default(this.player,{className:"rate-down",name:"rate-down",iconName:"backward",collection:this.options.collection,title:"Уменьшить скорость проигрывания",onClick:function(t){e.decreaseRate()}}),this.upControl=new d.default(this.player,{className:"rate-up",name:"rate-up",iconName:"forward",collection:this.options.collection,title:"Увеличить скорость проигрывания",onClick:function(t){e.increaseRate()}}),this.currentRate=new v.default(this.player,{className:"rate-current",onClick:function(t){e.rate=this.player.options.rate.default}}),this.element.append(this.downControl.element).append(this.currentRate.element).append(this.upControl.element)}},{key:"buildCSSClass",value:function(){return this.options.className}},{key:"onPlayerInited",value:function(){this.update()}},{key:"onClick",value:function(e){e.preventDefault()}},{key:"update",value:function(e){var t=this.player.video;e=e||t.rate,e=parseFloat(e).toFixed(2).toString().replace(/,/g,"."),this.currentRate.text="×"+e,this.disable||(t.rate<=t.rateMin?this.downControl.disable=!0:this.downControl.disable=!1,t.rate>=t.rateMax?this.upControl.disable=!0:this.upControl.disable=!1)}},{key:"init",value:function(){var e=b.default.get("rate",this.player.options.rate.default);this.show(e)}},{key:"disable",set:function(e){this._disable=e,this.downControl.disable=e,this.upControl.disable=e}}]),t}(d.default);p.default.registerComponent("RateControl",g),d.default.registerControl("rate",g),t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(2),c=r(u),f=n(4),p=r(f),y=n(3),d=r(y),h=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),n=c.default.extend({},{iconName:"undo",className:"backward",name:"backward",title:"Отмотать назад на "+e.options.playback.step.medium+" секунд",disable:!0},n);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.player.on("firstplay",function(){return r.disable=!1}),r}return a(t,e),l(t,[{key:"onClick",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onClick",this).call(this,e),this.player.video.currentTime-=this.player.options.playback.step.medium,this.player.splashIcon.show("undo")}}]),t}(d.default);p.default.registerComponent("BackwardControl",h),d.default.registerControl("backward",h),t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),u=r(s),c=n(4),f=r(c),p=n(3),y=r(p),d=n(31),h=r(d),v=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),n=u.default.extend({},{name:"source",iconName:"bullseye",title:"Качество",className:"source-control",disable:!0},n);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.player.on("playing",r.update.bind(r)),r.player.on("qualitychange",r.update.bind(r)),r}return a(t,e),l(t,[{key:"onItemClick",value:function(e){e.preventDefault();var t=(0,u.default)(e.target),n=this.player.video;n.playbackQuality=t.data("name"),this.dropdownContent.hide()}},{key:"onPlayerInited",value:function(e,t){this.update()}},{key:"getData",value:function(){return this.player.video.getAvailableQualityLevels()}},{key:"getCurrentValue",value:function(){return this.player.video.playbackQuality}}]),t}(h.default);f.default.registerComponent("SourceControl",v),y.default.registerControl("source",v),t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(2),c=r(u),f=n(4),p=r(f),y=n(3),d=r(y),h=n(20),v=r(h),m=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._active=null,r.list=[],r}return a(t,e),l(t,[{key:"getByIndex",value:function(e){return this.list[e]}},{key:"setActiveByIndex",value:function(e){return this.active&&this.active.removeClass("control-container__item--active"),this._active=this.list[e].addClass("control-container__item--active"),this._active}},{key:"addItem",value:function(e,t){var n=(0,c.default)("<div />").addClass("control-container__item").data(t).attr("title",t.tooltip).on("click tap",this.onItemClick.bind(this)).append(e);return this.list=this.list.concat(n),this.dropdownContent.append(n),this.emitTapEvents(n),n}},{key:"onItemClick",value:function(e){this.active=e.currentTarget}},{key:"buildCSSClass",value:function(){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildCSSClass",this).call(this)+" control-container"}},{key:"update",value:function(){var e=this,t=this.getData(),n=this.getCurrentValue();return null==t||0===t.length?void(this.disable=!0):(this.list=[],this.dropdownContent.empty(),t.forEach(function(t){var r=e.addItem(t.title,t);n&&n.name===t.name&&(e.active=r)}),void(this.disable=!1))}},{key:"active",get:function(){var e=this;return this._active&&this._active.length>0?this._active:(this.list.forEach(function(t){t.hasClass("control-container__item--active")&&(e._active=t)}),this._active)},set:function(e){return this.active&&this.active.removeClass("control-container__item--active"),e&&(0,c.default)(e).addClass("control-container__item--active"),this._active=e,this.close(),this._active}}]),t}(v.default);p.default.registerComponent("ControlContainer",m),d.default.registerControl("container",m),t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(2),c=r(u),f=n(4),p=r(f),y=n(3),d=r(y),h=n(31),v=r(h),m=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),n=c.default.extend({},{iconName:"commenting-o",title:"Субтитры",name:"subtitle",className:"subtitle-control",disable:!0},n);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.player.on("playing",r.update.bind(r)),r.player.on("trackschange",r.update.bind(r)),r}return a(t,e),l(t,[{key:"onClick",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onClick",this).call(this,e);var n=this.player.video;n.track=null}},{key:"onItemClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=(0,c.default)(e.target),n=this.player.video;t.data()&&(n.track=t.data()),this.dropdownContent.hide()}},{key:"onPlayerInited",value:function(e,t){this.update()}},{key:"update",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this);var e=!(!this.getCurrentValue()||null==this.getCurrentValue().name);this.element.toggleClass("control-checkbox--checked",e)}},{key:"getData",value:function(){return this.player.video.subtitles}},{key:"getCurrentValue",value:function(){return this.player.video.track}}]),t}(v.default);p.default.registerComponent("SubtitleControl",m),d.default.registerControl("subtitle",m),t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return e.split(".").pop()}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},c=n(2),f=r(c),p=n(3),y=r(p),d=n(4),h=r(d),v=n(5),m=r(v),b=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),n=f.default.extend({title:"Скачать видео",className:"download",name:"download"},n);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.player.on("loadstart",r.onLoadStart.bind(r)),r}return a(t,e),s(t,[{key:"createElement",value:function(){this.element=(0,f.default)("<a />").attr({href:"",target:"_blank",download:!0,title:this.options.title}).addClass(this.buildCSSClass()).append(new m.default(this.player,{iconName:"download"}).element)}},{key:"buildCSSClass",value:function(){return""+u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildCSSClass",this).call(this)}},{key:"onLoadStart",value:function(e,t){this.link=this.player.video.src.url}},{key:"link",set:function(e){var t=this.player.options.title,n=void 0;if(null!=t)n=decodeURIComponent(t)+"."+l(e);else{var r=document.createElement("a");r.href=e,n=r.pathname.split("/"),n=n[n.length-1]}this.element.attr({href:e,download:n})}}]),t}(y.default);h.default.registerComponent("DownloadControl",b),y.default.registerControl("download",b),t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(2),c=r(u),f=n(4),p=r(f),y=n(3),d=r(y),h=n(20),v=r(h),m=function(e){function t(e,n){return o(this,t),n=c.default.extend({},{iconName:"info",title:"Инфо",className:"info-control",name:"info"},n),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return a(t,e),l(t,[{key:"createElement",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createElement",this).call(this);var e=this.player.options.keyBinding,n="";for(var r in e)if(e.hasOwnProperty(r)){var o=e[r],i="",a="";o.info.forEach(function(e,t){0!==t&&(a+=" + "),a+='<kbd class="leplayer-key">'+e+"</kbd>"}),i='\n\t\t\t\t<div class="info-control__item">\n\t\t\t\t\t'+a+" - "+o.description+"\n\t\t\t\t</div>\n\t\t\t",n+=i}this.dropdownContent.addClass("info-control__content").append(n)}}]),t}(v.default);p.default.registerComponent("KeyBindingInfoControl",m),d.default.registerControl("keybinding info",m),t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),u=r(s),c=n(4),f=r(c),p=n(3),y=r(p),d=n(22),h=r(d),v=n(7),m=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),n=u.default.extend({},{className:"timeline timeline-container",name:"time-info"},n);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.player.on("timeupdate",function(e,t){var n=r.player.currentTime;r._currentTimeControl.text=(0,v.secondsToTime)(n)}),r.player.on("durationchange",function(e){r._totalTimeControl.text=(0,v.secondsToTime)(r.player.video.duration)}),r}return a(t,e),l(t,[{key:"createElement",value:function(){var e=this.player.video.duration,t=this.player.video.currentTime;return this._currentTimeControl=new h.default(this.player,{className:"control-time__current"}),this._totalTimeControl=new h.default(this.player,{className:"control-time__total"}),isNaN(e)||null==e?this._totalTimeControl.text="":this._totalTimeControl.text=(0,v.secondsToTime)(e),null==t?this._currentTimeControl.text=(0,v.secondsToTime)(0):this._currentTimeControl.text=(0,v.secondsToTime)(t),this.element=(0,u.default)("<div/>").addClass("control-time"),this.element.append(this._currentTimeControl.element).append(this._totalTimeControl.element),this.element}},{key:"onPlayerInited",value:function(e){var t=this.player.video;this._currentTimeControl.text=(0,v.secondsToTime)(t.currentTime),this._totalTimeControl.text=(0,v.secondsToTime)(t.duration)}},{key:"onClick",value:function(e){e.preventDefault()}}]),t}(y.default);f.default.registerComponent("TimeInfoControl",m),y.default.registerControl("timeinfo",m),t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},f=function e(t,n,r,o){var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,o)}else if("value"in i&&i.writable)i.value=r;else{var l=i.set;void 0!==l&&l.call(o,r)}return r},p=n(2),y=r(p),d=n(4),h=r(d),v=n(8),m=n(37),b=r(m),g=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.media=r.element[0],r.subtitles=[],r.bufferRanges=[],r.src=r.player.options.src,null!=r.player.options.poster&&(r.poster=r.player.options.poster),r.getAvailableQualityLevels().length>0&&(r._playbackQuality=r.getAvailableQualityLevels()[0]),r.element.on("loadstart",r.onLoadStart.bind(r)),r.element.on("timeupdate",r.onTimeUpdate.bind(r)),r.element.on("durationchange",r.onDurationChange.bind(r)),r.element.on("progress",r.onProgress.bind(r)),r.element.on("seeking",r.onSeeking.bind(r)),r.element.on("seeked",r.onSeeked.bind(r)),r.element.on("volumechange",r.onVolumeChange.bind(r)),r.element.on("click",r.onClick.bind(r)),r.element.on("dblclick",r.onDblclick.bind(r)),r.element.on("play",r.onPlay.bind(r)),r.element.on("pause",r.onPause.bind(r)),r.element.on("ratechange",r.onRateChange.bind(r)),r.element.on("ended",r.onEnded.bind(r)),r.element.on("canplaythrough",r.onCanplayThrough.bind(r)),r.element.on("waiting",r.onWaiting.bind(r)),r.element.on("error",r.onError.bind(r)),r}return l(t,e),u(t,[{key:"onLoadStart",value:function(e){this.trigger("loadstart")}},{key:"onTimeUpdate",value:function(e){this.trigger("timeupdate")}},{key:"onDurationChange",value:function(e){this.trigger("durationchange")}},{key:"onProgress",value:function(e){this.trigger("progress")}},{key:"onSeeking",value:function(e){this.trigger("seeking")}},{key:"onSeeked",value:function(e){this.trigger("seeked")}},{key:"onVolumeChange",value:function(e){this.trigger("volumechange")}},{key:"onClick",value:function(){this.trigger("click")}},{key:"onDblclick",value:function(){this.trigger("dblclick")}},{key:"onPlay",value:function(){this.trigger("play")}},{key:"onPause",value:function(){this.trigger("pause")}},{key:"onPlaying",value:function(){this.trigger("playing")}},{key:"onRateChange",value:function(){this.trigger("ratechange")}},{key:"onEnded",value:function(){this.trigger("ended")}},{key:"onCanplayThrough",value:function(){this.trigger("canplaythrough")}},{key:"onWaiting",value:function(){this.trigger("waiting")}},{key:"onError",value:function(e){this.trigger("error",{code:e.target.error.code})}},{key:"createElement",value:function(){var e=this;return this.element=this.options.ctx,["controls","poster","height","width"].forEach(function(t){e.element.removeAttr(t)}),["preload","autoplay","loop","muted"].forEach(function(t){e.player.options[t]&&(e.element.attr(t,e.player.options[t]),e.element.prop(t,e.player.options[t]))}),this.element.find("source[data-quality]").each(function(e,t){(0,y.default)(t).remove()}),this.element}},{key:"getAvailableQualityLevels",value:function(){return this.player.options.sources.map(function(e){return s({name:e.title},e)})}},{key:"init",value:function(){var e=this;c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this),this.load();var n=y.default.Deferred();return this._initSubtitles(),this._initVideo().done(function(){e._initRate(),e._initVolume(),n.resolve()}),n.promise()}},{key:"supportsFullScreen",value:function(){if("function"==typeof this.media.webkitEnterFullScreen){var e=window.navigator&&window.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1}},{key:"enterFullscreen",value:function(){var e=this,t=this.media;t.paused&&t.networkState<=t.HAVE_METADATA?(this.play(),setTimeout(function(){e.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()}},{key:"exitFullscreen",value:function(){this.media.webkitExitFullScreen()}},{key:"togglePlay",value:function(){!this.media.played||this.media.paused?this.play():this.pause()}},{key:"play",value:function(){var e=y.default.Deferred(),t=this.media.play();return null!=t?t.then(function(){e.resolve()}):e.resolve(),e.promise()}},{key:"pause",value:function(){var e=y.default.Deferred(),t=this.media.pause();return null!=t?t.then(function(){e.resolve()}):e.resolve(),e.promise()}},{key:"load",value:function(){return this.media.load()}},{key:"_initSubtitles",value:function(){var e=this;this.element.children('track[kind="subtitles"]').each(function(){var t=(0,y.default)(this).attr("srclang"),n=(0,y.default)(this).attr("label"),r=(0,y.default)(this).attr("src");n.length>0&&r.length>0&&e.subtitles.push({title:n,name:t,language:t})})}},{key:"_initVideo",value:function(){var e=this,t=y.default.Deferred();return this.media.readyState>HTMLMediaElement.HAVE_NOTHING?(t.resolve(),this._textTracksHack()):(0,y.default)(this.media).one("loadedmetadata",function(n){t.resolve(),e._textTracksHack()}),t.promise()}},{key:"_textTracksHack",value:function(){if(0===this.media.textTracks.length&&this.subtitles.length>0){this.element.children('track[kind="subtitles"]').remove();for(var e in this.subtitles)this.subtitles.hasOwnProperty(e)&&this.element.append((0,y.default)("<track/>").attr("label",this.subtitles[e].title).attr("src",this.subtitles[e].src).attr("srclang",this.subtitles[e].language).attr("id",this.subtitles[e].language).attr("kind","subtitles"))}}},{key:"currentTime",get:function(){return this.media.currentTime},set:function(e){var t=void 0;t=e>this.duration?this.duration:e<0?0:e,this.player.trigger("timeupdateload",{currentTime:t}),this.media.currentTime=t}},{key:"duration",get:function(){return this.media.duration}},{key:"height",get:function(){return this.media.clientHeight}},{key:"width",get:function(){return this.media.clientWidth}},{key:"rate",get:function(){return this.media.playbackRate},set:function(e){f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rate",e,this),this.media.playbackRate=e}},{key:"muted",set:function(e){this.media.muted=e},get:function(){return this.media.muted}},{key:"rateMax",get:function(){var e=this.player.options.rate.max;return(v.IS_IOS||v.IS_ANDROID)&&(e=t.MOBILE_MAX_RATE),v.IS_SAFARI&&(e=t.SAFARI_MAX_RATE),e}},{key:"rateMin",get:function(){var e=this.player.options.rate.min;return(v.IS_IOS||v.IS_ANDROID)&&(e=t.MOBILE_MIN_RATE),v.IS_SAFARI&&(e=t.SAFARI_MIN_RATE),e}},{key:"playbackQuality",set:function(e){f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"playbackQuality",e,this);var n=this.currentTime,r=this.rate,o=this.paused;this._playbackQuality=this.getAvailableQualityLevels().find(function(t){return t.name===e}),this.src=this._playbackQuality,this.rate=r,this.currentTime=n,o?this.pause():this.play(),this.trigger("qualitychange",this._playbackQuality)},get:function(){return this._playbackQuality}},{key:"src",set:function(e){null!=e&&(this.src&&this.src.url===e.url||(this.media.src=e.url,this._source=e))},get:function(){return this._source}},{key:"track",get:function(){return this._track},set:function(e){[].concat(o(this.media.textTracks)).forEach(function(t){null!=e&&t.language===e.language?t.mode="showing":t.mode="hidden"}),this._track=e,this.trigger("trackschange")}},{key:"paused",get:function(){return this.media.paused}},{key:"volume",get:function(){return this.media.volume},set:function(e){f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"volume",e,this);var n=this.player;e>1?this.media.volume=1:e<n.options.volume.mutelimit?this.media.volume=0:this.media.volume=e,this.media.mute=e<n.options.volume.mutelimit}},{key:"buffered",get:function(){return this.media.buffered}},{key:"seekable",get:function(){return this.media.seekable}},{key:"played",get:function(){return this.media.played}},{key:"ended",get:function(){return this.media.ended}},{key:"playedPercentage",get:function(){for(var e=0,t=0;t<this.played.length;t++)e+=this.played.end(t)-this.played.start(t);return e/this.duration*100}},{key:"currentSrc",get:function(){return this.media.currentSrc}}]),t}(b.default);g.MOBILE_MIN_RATE=.5,g.MOBILE_MAX_RATE=2,g.SAFARI_MIN_RATE=.5,g.SAFARI_MAX_RATE=2,g.TEST_VIDEO=document.createElement("video"),g.canControlVolume=function(){try{var e=g.TEST_VIDEO.volume;return g.TEST_VIDEO.volume=e/2+.1,e!==g.TEST_VIDEO.volume}catch(e){return!1}},g.prototype.featureControlVolume=g.canControlVolume(),h.default.registerComponent("Html5",g),t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},c=n(4),f=r(c),p=n(16),y=r(p),d=n(17),h=r(d),v=n(2),m=r(v),b=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._triggerStack=[],r._stopListen=!1,null==r.player.options.src&&(r.player.error=new h.default("Видеофайл не найден.")),r}return l(t,e),s(t,[{key:"trigger",value:function(){for(var e,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];this._stopListen||this._triggerStack.push(r),(e=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"trigger",this)).call.apply(e,[this].concat(r))}},{key:"init",value:function(){var e=this;this._stopListen=!0,this._triggerStack.forEach(function(t){e.trigger.apply(e,o(t))})}},{key:"createElement",value:function(){return this.element=(0,m.default)("<div />")}},{key:"increaseRate",value:function(){this.rate+=this.player.options.rate.step}},{key:"decreaseRate",value:function(){this.rate-=this.player.options.rate.step}},{key:"supportsFullScreen",value:function(){}},{key:"play",value:function(){}},{key:"pause",value:function(){}},{key:"load",value:function(){}},{key:"togglePlay",value:function(){this.paused?this.play():this.pause()}},{key:"_initRate",value:function(){this.rate=this.defaultRate}},{key:"_initVolume",value:function(){this.volume=this.defaultVolume}},{key:"poster",set:function(e){this._poster=e,this.trigger("posterchange",{url:e})},get:function(){return this._poster}},{key:"currentTime",get:function(){},set:function(e){}},{key:"duration",get:function(){}},{key:"muted",set:function(e){},get:function(){}},{key:"height",get:function(){return this.element.innerHeight()}},{key:"width",get:function(){return this.element.width()}},{key:"rateMax",set:function(e){this._rateMax=e},get:function(){return this._rateMax||this.player.options.rate.max}},{key:"rateMin",set:function(e){this._rateMin=e},get:function(){return this._rateMin||this.player.options.rate.min}},{key:"rate",get:function(){},set:function(e){e>this.rateMax||e<this.rateMin||y.default.set("rate",e)}},{key:"playbackQuality",set:function(e){var t=this.getAvailableQualityLevels();!t.some(function(t){return e in t})},get:function(){}},{key:"paused",get:function(){}},{key:"played",get:function(){}},{key:"defaultRate",get:function(){return y.default.get("rate")||this.player.options.rate.default}},{key:"defaultVolume",get:function(){return y.default.get("volume")||this.player.options.volume.default}},{key:"volume",set:function(e){var t=this.player;e<1&&e>t.options.volume.mutelimit&&y.default.set("volume",e)}},{key:"src",set:function(e){},get:function(){}}]),t}(f.default);b.prototype.featureControlVolume=!0,f.default.registerComponent("Entity",b),t.default=b},function(e,t,n){"use strict";var r=n(39),o=n(43),i=n(67),a=n(68),l=n(69),s=Array.prototype.slice,u=a(),c=function(e,t){o.RequireObjectCoercible(e);var n=s.call(arguments,1);return u.apply(e,n)};r(c,{getPolyfill:a,implementation:i,shim:l}),e.exports=c},function(e,t,n){"use strict";var r=n(40),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,l=Object.defineProperty,s=function(e){return"function"==typeof e&&"[object Function]"===i.call(e)},u=function(){var e={};try{l(e,"x",{enumerable:!1,value:e});for(var t in e)return!1;return e.x===e}catch(e){return!1}},c=l&&u(),f=function(e,t,n,r){(!(t in e)||s(r)&&r())&&(c?l(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},p=function(e,t){var n=arguments.length>2?arguments[2]:{},i=r(t);o&&(i=a.call(i,Object.getOwnPropertySymbols(t)));for(var l=0;l<i.length;l+=1)f(e,i[l],t[i[l]],n[i[l]])};p.supportsDescriptors=!!c,e.exports=p},function(e,t,n){"use strict";var r=Array.prototype.slice,o=n(41),i=Object.keys,a=i?function(e){return i(e)}:n(42),l=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return l(o(e)?r.call(e):e)})}else Object.keys=a;return Object.keys||a},e.exports=a},function(e,t){"use strict";var n=Object.prototype.toString;e.exports=function(e){var t=n.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),r}},function(e,t,n){"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=n(41),l=Object.prototype.propertyIsEnumerable,s=!l.call({toString:null},"toString"),u=l.call(function(){},"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},y=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{f(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),d=function(e){if("undefined"==typeof window||!y)return f(e);try{return f(e)}catch(e){return!1}};r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===i.call(e),r=a(e),l=t&&"[object String]"===i.call(e),f=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var p=u&&n;if(l&&e.length>0&&!o.call(e,0))for(var y=0;y<e.length;++y)f.push(String(y));if(r&&e.length>0)for(var h=0;h<e.length;++h)f.push(String(h));else for(var v in e)p&&"prototype"===v||!o.call(e,v)||f.push(String(v));if(s)for(var m=d(e),b=0;b<c.length;++b)m&&"constructor"===c[b]||!o.call(e,c[b])||f.push(c[b]);return f}}e.exports=r},function(e,t,n){"use strict";e.exports=n(44)},function(e,t,n){"use strict";var r=n(45),o=n(48),i=n(40),a=n(56),l=a("%TypeError%"),s=a("%SyntaxError%"),u=a("%Array%"),c=a("%String%"),f=a("%Object%"),p=a("%Number%"),y=a("%Symbol%",!0),d=a("%RegExp%"),h=!!y,v=n(57),m=n(58),b=n(59),g=p.MAX_SAFE_INTEGER||Math.pow(2,53)-1,_=n(60),w=n(61),k=n(62),O=n(63),P=parseInt,C=n(46),j=C.call(Function.call,u.prototype.slice),S=C.call(Function.call,c.prototype.slice),T=C.call(Function.call,d.prototype.test,/^0b[01]+$/i),E=C.call(Function.call,d.prototype.test,/^0o[0-7]+$/i),x=C.call(Function.call,d.prototype.exec),I=["","​","￾"].join(""),A=new d("["+I+"]","g"),q=C.call(Function.call,d.prototype.test,A),M=/^[-+]0x[0-9a-f]+$/i,D=C.call(Function.call,d.prototype.test,M),R=C.call(Function.call,c.prototype.charCodeAt),N=C.call(Function.call,Object.prototype.toString),$=C.call(Function.call,a("%NumberPrototype%").valueOf),F=C.call(Function.call,a("%BooleanPrototype%").valueOf),B=C.call(Function.call,a("%StringPrototype%").valueOf),V=C.call(Function.call,a("%DatePrototype%").valueOf),U=Math.floor,z=Math.abs,G=Object.create,L=f.getOwnPropertyDescriptor,W=f.isExtensible,Y=f.defineProperty,Q=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),K=new RegExp("(^["+Q+"]+)|(["+Q+"]+$)","g"),H=C.call(Function.call,c.prototype.replace),X=function(e){return H(e,K,"")},J=n(64),Z=n(66),ee=_(_({},J),{Call:function(e,t){var n=arguments.length>2?arguments[2]:[];if(!this.IsCallable(e))throw new l(e+" is not a function");return e.apply(t,n)},ToPrimitive:o,ToNumber:function(e){var t=O(e)?e:o(e,p);if("symbol"==typeof t)throw new l("Cannot convert a Symbol value to a number");if("string"==typeof t){if(T(t))return this.ToNumber(P(S(t,2),2));if(E(t))return this.ToNumber(P(S(t,2),8));if(q(t)||D(t))return NaN;var n=X(t);if(n!==t)return this.ToNumber(n)}return p(t)},ToInt16:function(e){var t=this.ToUint16(e);return t>=32768?t-65536:t},ToInt8:function(e){var t=this.ToUint8(e);return t>=128?t-256:t},ToUint8:function(e){var t=this.ToNumber(e);if(m(t)||0===t||!b(t))return 0;var n=w(t)*U(z(t));return k(n,256)},ToUint8Clamp:function(e){var t=this.ToNumber(e);if(m(t)||t<=0)return 0;if(t>=255)return 255;var n=U(e);return n+.5<t?n+1:t<n+.5?n:n%2!==0?n+1:n},ToString:function(e){if("symbol"==typeof e)throw new l("Cannot convert a Symbol value to a string");return c(e)},ToObject:function(e){return this.RequireObjectCoercible(e),f(e)},ToPropertyKey:function(e){var t=this.ToPrimitive(e,c);return"symbol"==typeof t?t:this.ToString(t)},ToLength:function(e){var t=this.ToInteger(e);return t<=0?0:t>g?g:t},CanonicalNumericIndexString:function(e){if("[object String]"!==N(e))throw new l("must be a string");if("-0"===e)return-0;var t=this.ToNumber(e);return this.SameValue(this.ToString(t),e)?t:void 0},RequireObjectCoercible:J.CheckObjectCoercible,IsArray:u.isArray||function(e){return"[object Array]"===N(e)},IsConstructor:function(e){return"function"==typeof e&&!!e.prototype},IsExtensible:Object.preventExtensions?function(e){return!O(e)&&W(e)}:function(e){return!0},IsInteger:function(e){if("number"!=typeof e||m(e)||!b(e))return!1;var t=z(e);return U(t)===t},IsPropertyKey:function(e){return"string"==typeof e||"symbol"==typeof e},IsRegExp:function(e){if(!e||"object"!=typeof e)return!1;if(h){var t=e[y.match];if("undefined"!=typeof t)return J.ToBoolean(t)}return Z(e)},SameValueZero:function(e,t){return e===t||m(e)&&m(t)},GetV:function(e,t){if(!this.IsPropertyKey(t))throw new l("Assertion failed: IsPropertyKey(P) is not true");var n=this.ToObject(e);return n[t]},GetMethod:function(e,t){if(!this.IsPropertyKey(t))throw new l("Assertion failed: IsPropertyKey(P) is not true");var n=this.GetV(e,t);if(null!=n){if(!this.IsCallable(n))throw new l(t+"is not a function");return n}},Get:function(e,t){if("Object"!==this.Type(e))throw new l("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new l("Assertion failed: IsPropertyKey(P) is not true");return e[t]},Type:function(e){return"symbol"==typeof e?"Symbol":J.Type(e)},SpeciesConstructor:function(e,t){if("Object"!==this.Type(e))throw new l("Assertion failed: Type(O) is not Object");var n=e.constructor;if("undefined"==typeof n)return t;if("Object"!==this.Type(n))throw new l("O.constructor is not an Object");var r=h&&y.species?n[y.species]:void 0;if(null==r)return t;if(this.IsConstructor(r))return r;throw new l("no constructor found")},CompletePropertyDescriptor:function(e){return v(this,"Property Descriptor","Desc",e),this.IsGenericDescriptor(e)||this.IsDataDescriptor(e)?(r(e,"[[Value]]")||(e["[[Value]]"]=void 0),r(e,"[[Writable]]")||(e["[[Writable]]"]=!1)):(r(e,"[[Get]]")||(e["[[Get]]"]=void 0),r(e,"[[Set]]")||(e["[[Set]]"]=void 0)),r(e,"[[Enumerable]]")||(e["[[Enumerable]]"]=!1),r(e,"[[Configurable]]")||(e["[[Configurable]]"]=!1),e},Set:function(e,t,n,r){if("Object"!==this.Type(e))throw new l("O must be an Object");if(!this.IsPropertyKey(t))throw new l("P must be a Property Key");if("Boolean"!==this.Type(r))throw new l("Throw must be a Boolean");if(r)return e[t]=n,!0;try{e[t]=n}catch(e){return!1}},HasOwnProperty:function(e,t){if("Object"!==this.Type(e))throw new l("O must be an Object");if(!this.IsPropertyKey(t))throw new l("P must be a Property Key");return r(e,t)},HasProperty:function(e,t){if("Object"!==this.Type(e))throw new l("O must be an Object");if(!this.IsPropertyKey(t))throw new l("P must be a Property Key");return t in e},IsConcatSpreadable:function(e){if("Object"!==this.Type(e))return!1;if(h&&"symbol"==typeof y.isConcatSpreadable){var t=this.Get(e,Symbol.isConcatSpreadable);if("undefined"!=typeof t)return this.ToBoolean(t)}return this.IsArray(e)},Invoke:function(e,t){if(!this.IsPropertyKey(t))throw new l("P must be a Property Key");var n=j(arguments,2),r=this.GetV(e,t);return this.Call(r,e,n)},GetIterator:function(e,t){if(!h)throw new SyntaxError("ES.GetIterator depends on native iterator support.");var n=t;arguments.length<2&&(n=this.GetMethod(e,y.iterator));var r=this.Call(n,e);if("Object"!==this.Type(r))throw new l("iterator must return an object");return r},IteratorNext:function(e,t){var n=this.Invoke(e,"next",arguments.length<2?[]:[t]);if("Object"!==this.Type(n))throw new l("iterator next must return an object");return n},IteratorComplete:function(e){if("Object"!==this.Type(e))throw new l("Assertion failed: Type(iterResult) is not Object");return this.ToBoolean(this.Get(e,"done"))},IteratorValue:function(e){if("Object"!==this.Type(e))throw new l("Assertion failed: Type(iterResult) is not Object");return this.Get(e,"value")},IteratorStep:function(e){var t=this.IteratorNext(e),n=this.IteratorComplete(t);return n!==!0&&t},IteratorClose:function(e,t){if("Object"!==this.Type(e))throw new l("Assertion failed: Type(iterator) is not Object");if(!this.IsCallable(t))throw new l("Assertion failed: completion is not a thunk for a Completion Record");var n=t,r=this.GetMethod(e,"return");if("undefined"==typeof r)return n();var o;try{var i=this.Call(r,e,[])}catch(e){throw o=n(),n=null,e}if(o=n(),n=null,"Object"!==this.Type(i))throw new l("iterator .return must return an object");return o},CreateIterResultObject:function(e,t){if("Boolean"!==this.Type(t))throw new l("Assertion failed: Type(done) is not Boolean");return{value:e,done:t}},RegExpExec:function(e,t){if("Object"!==this.Type(e))throw new l("R must be an Object");if("String"!==this.Type(t))throw new l("S must be a String");var n=this.Get(e,"exec");if(this.IsCallable(n)){var r=this.Call(n,e,[t]);if(null===r||"Object"===this.Type(r))return r;throw new l('"exec" method must return `null` or an Object')}return x(e,t)},ArraySpeciesCreate:function(e,t){if(!this.IsInteger(t)||t<0)throw new l("Assertion failed: length must be an integer >= 0");var n,r=0===t?0:t,o=this.IsArray(e);if(o&&(n=this.Get(e,"constructor"),"Object"===this.Type(n)&&h&&y.species&&(n=this.Get(n,y.species),null===n&&(n=void 0))),"undefined"==typeof n)return u(r);if(!this.IsConstructor(n))throw new l("C must be a constructor");return new n(r)},CreateDataProperty:function(e,t,n){if("Object"!==this.Type(e))throw new l("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new l("Assertion failed: IsPropertyKey(P) is not true");var r=L(e,t),o=r||"function"!=typeof W||W(e),i=r&&(!r.writable||!r.configurable);if(i||!o)return!1;var a={configurable:!0,enumerable:!0,value:n,writable:!0};return Y(e,t,a),!0},CreateDataPropertyOrThrow:function(e,t,n){if("Object"!==this.Type(e))throw new l("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new l("Assertion failed: IsPropertyKey(P) is not true");var r=this.CreateDataProperty(e,t,n);if(!r)throw new l("unable to create data property");return r},ObjectCreate:function(e,t){if(null!==e&&"Object"!==this.Type(e))throw new l("Assertion failed: proto must be null or an object");var n=arguments.length<2?[]:t;if(n.length>0)throw new s("es-abstract does not yet support internal slots");if(null===e&&!G)throw new s("native Object.create support is required to create null objects");return G(e)},AdvanceStringIndex:function(e,t,n){if("String"!==this.Type(e))throw new l("S must be a String");if(!this.IsInteger(t)||t<0||t>g)throw new l("Assertion failed: length must be an integer >= 0 and <= 2**53");if("Boolean"!==this.Type(n))throw new l("Assertion failed: unicode must be a Boolean");if(!n)return t+1;var r=e.length;if(t+1>=r)return t+1;var o=R(e,t);if(o<55296||o>56319)return t+1;var i=R(e,t+1);return i<56320||i>57343?t+1:t+2},CreateMethodProperty:function(e,t,n){if("Object"!==this.Type(e))throw new l("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new l("Assertion failed: IsPropertyKey(P) is not true");var r={configurable:!0,enumerable:!1,value:n,writable:!0};return!!Y(e,t,r)},DefinePropertyOrThrow:function(e,t,n){if("Object"!==this.Type(e))throw new l("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new l("Assertion failed: IsPropertyKey(P) is not true");return!!Y(e,t,n)},DeletePropertyOrThrow:function(e,t){if("Object"!==this.Type(e))throw new l("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new l("Assertion failed: IsPropertyKey(P) is not true");var n=delete e[t];if(!n)throw new TypeError("Attempt to delete property failed.");return n},EnumerableOwnNames:function(e){if("Object"!==this.Type(e))throw new l("Assertion failed: Type(O) is not Object");return i(e)},thisNumberValue:function(e){return"Number"===this.Type(e)?e:$(e)},thisBooleanValue:function(e){return"Boolean"===this.Type(e)?e:F(e)},thisStringValue:function(e){return"String"===this.Type(e)?e:B(e)},thisTimeValue:function(e){return V(e)}});delete ee.CheckObjectCoercible,e.exports=ee},function(e,t,n){"use strict";var r=n(46);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,n){"use strict";var r=n(47);e.exports=Function.prototype.bind||r},function(e,t){"use strict";var n="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,o=Object.prototype.toString,i="[object Function]";e.exports=function(e){var t=this;if("function"!=typeof t||o.call(t)!==i)throw new TypeError(n+t);for(var a,l=r.call(arguments,1),s=function(){if(this instanceof a){var n=t.apply(this,l.concat(r.call(arguments)));return Object(n)===n?n:this}return t.apply(e,l.concat(r.call(arguments)))},u=Math.max(0,t.length-l.length),c=[],f=0;f<u;f++)c.push("$"+f);if(a=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var p=function(){};p.prototype=t.prototype,a.prototype=new p,p.prototype=null}return a}},function(e,t,n){"use strict";e.exports=n(49)},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,o=n(50),i=n(51),a=n(52),l=n(53),s=function(e,t){if("undefined"==typeof e||null===e)throw new TypeError("Cannot call method on "+e);if("string"!=typeof t||"number"!==t&&"string"!==t)throw new TypeError('hint must be "string" or "number"');var n,r,a,l="string"===t?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<l.length;++a)if(n=e[l[a]],i(n)&&(r=n.call(e),o(r)))return r;throw new TypeError("No default value")},u=function(e,t){var n=e[t];if(null!==n&&"undefined"!=typeof n){if(!i(n))throw new TypeError(n+" returned for property "+t+" of object "+e+" is not a function");return n}};e.exports=function(e){if(o(e))return e;var t="default";arguments.length>1&&(arguments[1]===String?t="string":arguments[1]===Number&&(t="number"));var n;if(r&&(Symbol.toPrimitive?n=u(e,Symbol.toPrimitive):l(e)&&(n=Symbol.prototype.valueOf)),"undefined"!=typeof n){var i=n.call(e,t);if(o(i))return i;throw new TypeError("unable to convert exotic object to primitive")}return"default"===t&&(a(e)||l(e))&&(t="string"),
s(e,"default"===t?"number":t)}},function(e,t){e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},function(e,t){"use strict";var n=Function.prototype.toString,r=/^\s*class\b/,o=function(e){try{var t=n.call(e);return r.test(t)}catch(e){return!1}},i=function(e){try{return!o(e)&&(n.call(e),!0)}catch(e){return!1}},a=Object.prototype.toString,l="[object Function]",s="[object GeneratorFunction]",u="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(u)return i(e);if(o(e))return!1;var t=a.call(e);return t===l||t===s}},function(e,t){"use strict";var n=Date.prototype.getDay,r=function(e){try{return n.call(e),!0}catch(e){return!1}},o=Object.prototype.toString,i="[object Date]",a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"object"==typeof e&&null!==e&&(a?r(e):o.call(e)===i)}},function(e,t,n){"use strict";var r=Object.prototype.toString,o=n(54)();if(o){var i=Symbol.prototype.toString,a=/^Symbol\(.*\)$/,l=function(e){return"symbol"==typeof e.valueOf()&&a.test(i.call(e))};e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==r.call(e))return!1;try{return l(e)}catch(e){return!1}}}else e.exports=function(e){return!1}},function(e,t,n){(function(t){"use strict";var r=t.Symbol,o=n(55);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}}).call(t,function(){return this}())},function(e,t){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;var r=42;e[t]=r;for(t in e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(i.value!==r||i.enumerable!==!0)return!1}return!0}},function(e,t){"use strict";var n,r,o,i,a=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,s=Object.getPrototypeOf||function(e){return e.__proto__},u=r?s(r):n,c=o?o.constructor:n,f=i?s(i):n,p=i?i():n,y="undefined"==typeof Uint8Array?n:s(Uint8Array),d={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":l?s([][Symbol.iterator]()):n,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":n,"$ %AsyncFunction%":c,"$ %AsyncFunctionPrototype%":c?c.prototype:n,"$ %AsyncGenerator%":i?s(p):n,"$ %AsyncGeneratorFunction%":f,"$ %AsyncGeneratorPrototype%":f?f.prototype:n,"$ %AsyncIteratorPrototype%":p&&l&&Symbol.asyncIterator?p[Symbol.asyncIterator]():n,"$ %Atomics%":"undefined"==typeof Atomics?n:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?n:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?n:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?n:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?n:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":r?s(r()):n,"$ %GeneratorFunction%":u,"$ %GeneratorPrototype%":u?u.prototype:n,"$ %Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?n:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?n:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?n:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":l?s(s([][Symbol.iterator]())):n,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?n:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&l?s((new Map)[Symbol.iterator]()):n,"$ %MapPrototype%":"undefined"==typeof Map?n:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"==typeof Promise?n:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?n:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?n:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?n:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?n:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?n:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?n:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?n:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?n:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&l?s((new Set)[Symbol.iterator]()):n,"$ %SetPrototype%":"undefined"==typeof Set?n:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":l?s(""[Symbol.iterator]()):n,"$ %StringPrototype%":String.prototype,"$ %Symbol%":l?Symbol:n,"$ %SymbolPrototype%":l?Symbol.prototype:n,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":a,"$ %TypedArray%":y,"$ %TypedArrayPrototype%":y?y.prototype:n,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?n:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?n:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?n:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?n:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?n:WeakSet.prototype};e.exports=function(e,t){if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');var n="$ "+e;if(!(n in d))throw new SyntaxError("intrinsic "+e+" does not exist!");if("undefined"==typeof d[n]&&!t)throw new TypeError("intrinsic "+e+" exists, but is not available. Please file an issue!");return d[n]}},function(e,t,n){"use strict";var r=n(56),o=r("%TypeError%"),i=r("%SyntaxError%"),a=n(45),l={"Property Descriptor":function(e,t){if("Object"!==e.Type(t))return!1;var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in t)if(a(t,r)&&!n[r])return!1;var i=a(t,"[[Value]]"),l=a(t,"[[Get]]")||a(t,"[[Set]]");if(i&&l)throw new o("Property Descriptors may not be both accessor and data descriptors");return!0}};e.exports=function(e,t,n,r){var a=l[t];if("function"!=typeof a)throw new i("unknown record type: "+t);if(!a(e,r))throw new o(n+" must be a "+t);console.log(a(e,r),r)}},function(e,t){e.exports=Number.isNaN||function(e){return e!==e}},function(e,t){var n=Number.isNaN||function(e){return e!==e};e.exports=Number.isFinite||function(e){return"number"==typeof e&&!n(e)&&e!==1/0&&e!==-(1/0)}},function(e,t,n){var r=n(46),o=r.call(Function.call,Object.prototype.hasOwnProperty),i=Object.assign;e.exports=function(e,t){if(i)return i(e,t);for(var n in t)o(t,n)&&(e[n]=t[n]);return e}},function(e,t){e.exports=function(e){return e>=0?1:-1}},function(e,t){e.exports=function(e,t){var n=e%t;return Math.floor(n>=0?n:n+t)}},function(e,t){e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},function(e,t,n){"use strict";var r=n(56),o=r("%Object%"),i=r("%TypeError%"),a=r("%String%"),l=n(57),s=n(58),u=n(59),c=n(61),f=n(62),p=n(51),y=n(65),d=n(45),h={ToPrimitive:y,ToBoolean:function(e){return!!e},ToNumber:function(e){return+e},ToInteger:function(e){var t=this.ToNumber(e);return s(t)?0:0!==t&&u(t)?c(t)*Math.floor(Math.abs(t)):t},ToInt32:function(e){return this.ToNumber(e)>>0},ToUint32:function(e){return this.ToNumber(e)>>>0},ToUint16:function(e){var t=this.ToNumber(e);if(s(t)||0===t||!u(t))return 0;var n=c(t)*Math.floor(Math.abs(t));return f(n,65536)},ToString:function(e){return a(e)},ToObject:function(e){return this.CheckObjectCoercible(e),o(e)},CheckObjectCoercible:function(e,t){if(null==e)throw new i(t||"Cannot call method on "+e);return e},IsCallable:p,SameValue:function(e,t){return e===t?0!==e||1/e===1/t:s(e)&&s(t)},Type:function(e){return null===e?"Null":"undefined"==typeof e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0},IsPropertyDescriptor:function(e){if("Object"!==this.Type(e))return!1;var t={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in e)if(d(e,n)&&!t[n])return!1;var r=d(e,"[[Value]]"),o=d(e,"[[Get]]")||d(e,"[[Set]]");if(r&&o)throw new i("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(e){return"undefined"!=typeof e&&(l(this,"Property Descriptor","Desc",e),!(!d(e,"[[Get]]")&&!d(e,"[[Set]]")))},IsDataDescriptor:function(e){return"undefined"!=typeof e&&(l(this,"Property Descriptor","Desc",e),!(!d(e,"[[Value]]")&&!d(e,"[[Writable]]")))},IsGenericDescriptor:function(e){return"undefined"!=typeof e&&(l(this,"Property Descriptor","Desc",e),!this.IsAccessorDescriptor(e)&&!this.IsDataDescriptor(e))},FromPropertyDescriptor:function(e){if("undefined"==typeof e)return e;if(l(this,"Property Descriptor","Desc",e),this.IsDataDescriptor(e))return{value:e["[[Value]]"],writable:!!e["[[Writable]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};if(this.IsAccessorDescriptor(e))return{get:e["[[Get]]"],set:e["[[Set]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};throw new i("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(e){if("Object"!==this.Type(e))throw new i("ToPropertyDescriptor requires an object");var t={};if(d(e,"enumerable")&&(t["[[Enumerable]]"]=this.ToBoolean(e.enumerable)),d(e,"configurable")&&(t["[[Configurable]]"]=this.ToBoolean(e.configurable)),d(e,"value")&&(t["[[Value]]"]=e.value),d(e,"writable")&&(t["[[Writable]]"]=this.ToBoolean(e.writable)),d(e,"get")){var n=e.get;if("undefined"!=typeof n&&!this.IsCallable(n))throw new TypeError("getter must be a function");t["[[Get]]"]=n}if(d(e,"set")){var r=e.set;if("undefined"!=typeof r&&!this.IsCallable(r))throw new i("setter must be a function");t["[[Set]]"]=r}if((d(t,"[[Get]]")||d(t,"[[Set]]"))&&(d(t,"[[Value]]")||d(t,"[[Writable]]")))throw new i("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t}};e.exports=h},function(e,t,n){"use strict";var r=Object.prototype.toString,o=n(50),i=n(51),a={"[[DefaultValue]]":function(e){var t;if(t=arguments.length>1?arguments[1]:"[object Date]"===r.call(e)?String:Number,t===String||t===Number){var n,a,l=t===String?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<l.length;++a)if(i(e[l[a]])&&(n=e[l[a]](),o(n)))return n;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}};e.exports=function(e){return o(e)?e:arguments.length>1?a["[[DefaultValue]]"](e,arguments[1]):a["[[DefaultValue]]"](e)}},function(e,t,n){"use strict";var r=n(45),o=RegExp.prototype.exec,i=Object.getOwnPropertyDescriptor,a=function(e){try{var t=e.lastIndex;return e.lastIndex=0,o.call(e),!0}catch(e){return!1}finally{e.lastIndex=t}},l=Object.prototype.toString,s="[object RegExp]",u="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!u)return l.call(e)===s;var t=i(e,"lastIndex"),n=t&&r(t,"value");return!!n&&a(e)}},function(e,t,n){"use strict";var r=n(43);e.exports=function(e){var t=r.ToObject(this),n=r.ToLength(t.length);if(!r.IsCallable(e))throw new TypeError("Array#find: predicate must be a function");if(0!==n){var o;arguments.length>0&&(o=arguments[1]);for(var i,a=0;a<n;a++)if(i=t[a],e.apply(o,[i,a,t]))return i}}},function(e,t,n){"use strict";e.exports=function(){var e=Array.prototype.find&&1!==[,1].find(function(){return!0});return e?Array.prototype.find:n(67)}},function(e,t,n){"use strict";var r=n(39),o=n(68);e.exports=function(){var e=o();return r(Array.prototype,{find:e},{find:function(){return Array.prototype.find!==e}}),e}},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg"><symbol fill="currentColor" viewBox="0 0 1792 1792" id="leplayer-icon-arrows-alt"><title>arrows-alt</title><path d="M1411 541l-355 355 355 355 144-144q29-31 70-14 39 17 39 59v448q0 26-19 45t-45 19h-448q-42 0-59-40-17-39 14-69l144-144-355-355-355 355 144 144q31 30 14 69-17 40-59 40h-448q-26 0-45-19t-19-45v-448q0-42 40-59 39-17 69 14l144 144 355-355-355-355-144 144q-19 19-45 19-12 0-24-5-40-17-40-59v-448q0-26 19-45t45-19h448q42 0 59 40 17 39-14 69l-144 144 355 355 355-355-144-144q-31-30-14-69 17-40 59-40h448q26 0 45 19t19 45v448q0 42-39 59-13 5-25 5-26 0-45-19z"/></symbol><symbol fill="currentColor" viewBox="0 0 1792 1792" id="leplayer-icon-backward"><title>backward</title><path d="M1683 141q19-19 32-13t13 32v1472q0 26-13 32t-32-13l-710-710q-8-9-13-19v710q0 26-13 32t-32-13l-710-710q-19-19-19-45t19-45l710-710q19-19 32-13t13 32v710q5-11 13-19z"/></symbol><symbol fill="currentColor" viewBox="0 0 1792 1792" id="leplayer-icon-bullseye"><title>bullseye</title><path d="M1152 896q0 106-75 181t-181 75-181-75-75-181 75-181 181-75 181 75 75 181zm128 0q0-159-112.5-271.5t-271.5-112.5-271.5 112.5-112.5 271.5 112.5 271.5 271.5 112.5 271.5-112.5 112.5-271.5zm128 0q0 212-150 362t-362 150-362-150-150-362 150-362 362-150 362 150 150 362zm128 0q0-130-51-248.5t-136.5-204-204-136.5-248.5-51-248.5 51-204 136.5-136.5 204-51 248.5 51 248.5 136.5 204 204 136.5 248.5 51 248.5-51 204-136.5 136.5-204 51-248.5zm128 0q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"/></symbol><symbol fill="currentColor" viewBox="0 0 400 380" id="leplayer-icon-cat"><title>cat</title> <path d="M 151.34904,307.20455 L 264.34904,307.20455 C 264.34904,291.14096 263.2021,287.95455 236.59904,287.95455 C 240.84904,275.20455 258.12424,244.35808 267.72404,244.35808 C 276.21707,244.35808 286.34904,244.82592 286.34904,264.20455 C 286.34904,286.20455 323.37171,321.67547 332.34904,307.20455 C 345.72769,285.63897 309.34904,292.21514 309.34904,240.20455 C 309.34904,169.05135 350.87417,179.18071 350.87417,139.20455 C 350.87417,119.20455 345.34904,116.50374 345.34904,102.20455 C 345.34904,83.30695 361.99717,84.403577 358.75805,68.734879 C 356.52061,57.911656 354.76962,49.23199 353.46516,36.143889 C 352.53959,26.857305 352.24452,16.959398 342.59855,17.357382 C 331.26505,17.824992 326.96549,37.77419 309.34904,39.204549 C 291.76851,40.631991 276.77834,24.238028 269.97404,26.579549 C 263.22709,28.901334 265.34904,47.204549 269.34904,60.204549 C 275.63588,80.636771 289.34904,107.20455 264.34904,111.20455 C 239.34904,115.20455 196.34904,119.20455 165.34904,160.20455 C 134.34904,201.20455 135.49342,249.3212 123.34904,264.20455 C 82.590696,314.15529 40.823919,293.64625 40.823919,335.20455 C 40.823919,353.81019 72.349045,367.20455 77.349045,361.20455 C 82.349045,355.20455 34.863764,337.32587 87.995492,316.20455 C 133.38711,298.16014 137.43914,294.47663 151.34904,307.20455 z " style="fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"/> </symbol><symbol fill="currentColor" viewBox="0 0 1792 1792" id="leplayer-icon-commenting-o"><title>commenting-o</title><path d="M640 896q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm384 0q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm384 0q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm-512-512q-204 0-381.5 69.5t-282 187.5-104.5 255q0 112 71.5 213.5t201.5 175.5l87 50-27 96q-24 91-70 172 152-63 275-171l43-38 57 6q69 8 130 8 204 0 381.5-69.5t282-187.5 104.5-255-104.5-255-282-187.5-381.5-69.5zm896 512q0 174-120 321.5t-326 233-450 85.5q-70 0-145-8-198 175-460 242-49 14-114 22h-5q-15 0-27-10.5t-16-27.5v-1q-3-4-.5-12t2-10 4.5-9.5l6-9 7-8.5 8-9q7-8 31-34.5t34.5-38 31-39.5 32.5-51 27-59 26-76q-157-89-247.5-220t-90.5-281q0-130 71-248.5t191-204.5 286-136.5 348-50.5 348 50.5 286 136.5 191 204.5 71 248.5z"/></symbol><symbol fill="currentColor" viewBox="0 0 1792 1792" id="leplayer-icon-download"><title>download</title><path d="M1344 1344q0-26-19-45t-45-19-45 19-19 45 19 45 45 19 45-19 19-45zm256 0q0-26-19-45t-45-19-45 19-19 45 19 45 45 19 45-19 19-45zm128-224v320q0 40-28 68t-68 28h-1472q-40 0-68-28t-28-68v-320q0-40 28-68t68-28h465l135 136q58 56 136 56t136-56l136-136h464q40 0 68 28t28 68zm-325-569q17 41-14 70l-448 448q-18 19-45 19t-45-19l-448-448q-31-29-14-70 17-39 59-39h256v-448q0-26 19-45t45-19h256q26 0 45 19t19 45v448h256q42 0 59 39z"/></symbol><symbol fill="currentColor" viewBox="0 0 1792 1792" id="leplayer-icon-edit"><title>edit</title><path d="M888 1184l116-116-152-152-116 116v56h96v96h56zm440-720q-16-16-33 1l-350 350q-17 17-1 33t33-1l350-350q17-17 1-33zm80 594v190q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q63 0 117 25 15 7 18 23 3 17-9 29l-49 49q-14 14-32 8-23-6-45-6h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-126q0-13 9-22l64-64q15-15 35-7t20 29zm-96-738l288 288-672 672h-288v-288zm444 132l-92 92-288-288 92-92q28-28 68-28t68 28l152 152q28 28 28 68t-28 68z"/></symbol><symbol fill="currentColor" viewBox="0 0 1792 1792" id="leplayer-icon-forward"><title>forward</title><path d="M109 1651q-19 19-32 13t-13-32v-1472q0-26 13-32t32 13l710 710q8 8 13 19v-710q0-26 13-32t32 13l710 710q19 19 19 45t-19 45l-710 710q-19 19-32 13t-13-32v-710q-5 10-13 19z"/></symbol><symbol fill="currentColor" viewBox="0 0 1792 1792" id="leplayer-icon-info"><title>info</title><path d="M1216 1344v128q0 26-19 45t-45 19h-512q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h64v-384h-64q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h384q26 0 45 19t19 45v576h64q26 0 45 19t19 45zm-128-1152v192q0 26-19 45t-45 19h-256q-26 0-45-19t-19-45v-192q0-26 19-45t45-19h256q26 0 45 19t19 45z"/></symbol><symbol fill="currentColor" viewBox="0 0 1792 1792" id="leplayer-icon-list-ul"><title>list-ul</title><path d="M384 1408q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm0-512q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm1408 416v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1216q13 0 22.5 9.5t9.5 22.5zm-1408-928q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm1408 416v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1216q13 0 22.5 9.5t9.5 22.5zm0-512v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1216q13 0 22.5 9.5t9.5 22.5z"/></symbol><symbol fill="currentColor" viewBox="0 0 1792 1792" id="leplayer-icon-magic"><title>magic</title><path d="M1254 581l293-293-107-107-293 293zm447-293q0 27-18 45l-1286 1286q-18 18-45 18t-45-18l-198-198q-18-18-18-45t18-45l1286-1286q18-18 45-18t45 18l198 198q18 18 18 45zm-1351-190l98 30-98 30-30 98-30-98-98-30 98-30 30-98zm350 162l196 60-196 60-60 196-60-196-196-60 196-60 60-196zm930 478l98 30-98 30-30 98-30-98-98-30 98-30 30-98zm-640-640l98 30-98 30-30 98-30-98-98-30 98-30 30-98z"/></symbol><symbol fill="currentColor" viewBox="0 0 1792 1792" id="leplayer-icon-pause"><title>pause</title><path d="M1664 192v1408q0 26-19 45t-45 19h-512q-26 0-45-19t-19-45v-1408q0-26 19-45t45-19h512q26 0 45 19t19 45zm-896 0v1408q0 26-19 45t-45 19h-512q-26 0-45-19t-19-45v-1408q0-26 19-45t45-19h512q26 0 45 19t19 45z"/></symbol><symbol fill="currentColor" viewBox="0 0 1792 1792" id="leplayer-icon-plane"><title>plane</title><path d="M1568 160q44 52 12 148t-108 172l-161 161 160 696q5 19-12 33l-128 96q-7 6-19 6-4 0-7-1-15-3-21-16l-279-508-259 259 53 194q5 17-8 31l-96 96q-9 9-23 9h-2q-15-2-24-13l-189-252-252-189q-11-7-13-23-1-13 9-25l96-97q9-9 23-9 6 0 8 1l194 53 259-259-508-279q-14-8-17-24-2-16 9-27l128-128q14-13 30-8l665 159 160-160q76-76 172-108t148 12z"/></symbol><symbol fill="currentColor" viewBox="0 0 1792 1792" id="leplayer-icon-play"><title>play</title><path d="M1576 927l-1328 738q-23 13-39.5 3t-16.5-36v-1472q0-26 16.5-36t39.5 3l1328 738q23 13 23 31t-23 31z"/></symbol><symbol fill="currentColor" viewBox="0 0 1792 1792" id="leplayer-icon-plus"><title>plus</title><path d="M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"/></symbol><symbol fill="currentColor" viewBox="0 0 1792 1792" id="leplayer-icon-redo"><title>redo</title><path d="M1664 256v448q0 26-19 45t-45 19h-448q-42 0-59-40-17-39 14-69l138-138q-148-137-349-137-104 0-198.5 40.5t-163.5 109.5-109.5 163.5-40.5 198.5 40.5 198.5 109.5 163.5 163.5 109.5 198.5 40.5q119 0 225-52t179-147q7-10 23-12 14 0 25 9l137 138q9 8 9.5 20.5t-7.5 22.5q-109 132-264 204.5t-327 72.5q-156 0-298-61t-245-164-164-245-61-298 61-298 164-245 245-164 298-61q147 0 284.5 55.5t244.5 156.5l130-129q29-31 70-14 39 17 39 59z"/></symbol><symbol fill="currentColor" viewBox="0 0 1792 1792" id="leplayer-icon-refresh"><title>refresh</title><path d="M1639 1056q0 5-1 7-64 268-268 434.5t-478 166.5q-146 0-282.5-55t-243.5-157l-129 129q-19 19-45 19t-45-19-19-45v-448q0-26 19-45t45-19h448q26 0 45 19t19 45-19 45l-137 137q71 66 161 102t187 36q134 0 250-65t186-179q11-17 53-117 8-23 30-23h192q13 0 22.5 9.5t9.5 22.5zm25-800v448q0 26-19 45t-45 19h-448q-26 0-45-19t-19-45 19-45l138-138q-148-137-349-137-134 0-250 65t-186 179q-11 17-53 117-8 23-30 23h-199q-13 0-22.5-9.5t-9.5-22.5v-7q65-268 270-434.5t480-166.5q146 0 284 55.5t245 156.5l130-129q19-19 45-19t45 19 19 45z"/></symbol><symbol fill="currentColor" viewBox="0 0 1792 1792" id="leplayer-icon-trash"><title>trash</title><path d="M704 1376v-704q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v704q0 14 9 23t23 9h64q14 0 23-9t9-23zm256 0v-704q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v704q0 14 9 23t23 9h64q14 0 23-9t9-23zm256 0v-704q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v704q0 14 9 23t23 9h64q14 0 23-9t9-23zm-544-992h448l-48-117q-7-9-17-11h-317q-10 2-17 11zm928 32v64q0 14-9 23t-23 9h-96v948q0 83-47 143.5t-113 60.5h-832q-66 0-113-58.5t-47-141.5v-952h-96q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h309l70-167q15-37 54-63t79-26h320q40 0 79 26t54 63l70 167h309q14 0 23 9t9 23z"/></symbol><symbol fill="currentColor" viewBox="0 0 1792 1792" id="leplayer-icon-undo"><title>undo</title><path d="M1664 896q0 156-61 298t-164 245-245 164-298 61q-172 0-327-72.5t-264-204.5q-7-10-6.5-22.5t8.5-20.5l137-138q10-9 25-9 16 2 23 12 73 95 179 147t225 52q104 0 198.5-40.5t163.5-109.5 109.5-163.5 40.5-198.5-40.5-198.5-109.5-163.5-163.5-109.5-198.5-40.5q-98 0-188 35.5t-160 101.5l137 138q31 30 14 69-17 40-59 40h-448q-26 0-45-19t-19-45v-448q0-42 40-59 39-17 69 14l130 129q107-101 244.5-156.5t284.5-55.5q156 0 298 61t245 164 164 245 61 298z"/></symbol><symbol fill="currentColor" viewBox="0 0 1792 1792" id="leplayer-icon-volume-down"><title>volume-down</title><path d="M1088 352v1088q0 26-19 45t-45 19-45-19l-333-333h-262q-26 0-45-19t-19-45v-384q0-26 19-45t45-19h262l333-333q19-19 45-19t45 19 19 45zm384 544q0 76-42.5 141.5t-112.5 93.5q-10 5-25 5-26 0-45-18.5t-19-45.5q0-21 12-35.5t29-25 34-23 29-35.5 12-57-12-57-29-35.5-34-23-29-25-12-35.5q0-27 19-45.5t45-18.5q15 0 25 5 70 27 112.5 93t42.5 142z"/></symbol><symbol fill="currentColor" viewBox="0 0 1792 1792" id="leplayer-icon-volume-off"><title>volume-off</title><path d="M1280 352v1088q0 26-19 45t-45 19-45-19l-333-333h-262q-26 0-45-19t-19-45v-384q0-26 19-45t45-19h262l333-333q19-19 45-19t45 19 19 45z"/></symbol><symbol fill="currentColor" viewBox="0 0 1792 1792" id="leplayer-icon-volume-up"><title>volume-up</title><path d="M832 352v1088q0 26-19 45t-45 19-45-19l-333-333h-262q-26 0-45-19t-19-45v-384q0-26 19-45t45-19h262l333-333q19-19 45-19t45 19 19 45zm384 544q0 76-42.5 141.5t-112.5 93.5q-10 5-25 5-26 0-45-18.5t-19-45.5q0-21 12-35.5t29-25 34-23 29-35.5 12-57-12-57-29-35.5-34-23-29-25-12-35.5q0-27 19-45.5t45-18.5q15 0 25 5 70 27 112.5 93t42.5 142zm256 0q0 153-85 282.5t-225 188.5q-13 5-25 5-27 0-46-19t-19-45q0-39 39-59 56-29 76-44 74-54 115.5-135.5t41.5-173.5-41.5-173.5-115.5-135.5q-20-15-76-44-39-20-39-59 0-26 19-45t45-19q13 0 26 5 140 59 225 188.5t85 282.5zm256 0q0 230-127 422.5t-338 283.5q-13 5-26 5-26 0-45-19t-19-45q0-36 39-59 7-4 22.5-10.5t22.5-10.5q46-25 82-51 123-91 192-227t69-289-69-289-192-227q-36-26-82-51-7-4-22.5-10.5t-22.5-10.5q-39-23-39-59 0-26 19-45t45-19q13 0 26 5 211 91 338 283.5t127 422.5z"/></symbol></svg>'},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.preset={options:{width:"100%",controls:{common:[["play","volume","divider","timeline","divider","fullscreen"],["rate","divider","backward","divider","source","divider","download"]],fullscreen:[["play","volume","divider","timeline","divider","rate","divider","backward","divider","source","divider","download","divider","fullscreen"]]}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["play","volume","divider","timeline","divider","rate","download","fullscreen"];t.preset={options:{controls:{common:[n,[]],fullscreen:[n]}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.preset={options:{width:"100%",controls:{common:[["play","volume","timeline","rate","source","divider","download","fullscreen"],[]],fullscreen:[["play","volume","timeline","rate","source","divider","download","fullscreen"]]}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.preset={options:{width:"100%",controls:{common:[["play","volume","timeline","rate","source","divider","fullscreen"],[]],fullscreen:[["play","volume","timeline","rate","source","divider","fullscreen"]]}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.preset={options:{width:"100%",controlsOptions:{common:{align:["justify"]}},controls:{common:[["play","timeline","rate","volume","source","fullscreen"]],fullscreen:[["play","timeline","rate","volume","source","fullscreen"]],mini:[["play","timeline","volume","fullscreen"]]}}}},function(e,t,n){"use strict";n(1),n(77),n(78),n(79)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(2),i=r(o),a=window.lePlayer||window.$.lePlayer,l={videoPlayed:[25,50,100],videoPlayedDelta:5,volumeChangeDelay:1e3,rateChangeDelay:2e3};a.plugin("ga",function(e){var t=i.default.extend({},l,e),n=this;if(!window.ga)return void console.error("Google Analytics does not exist");n.on("firstplay",function(e){window.ga("send","event","Player Video Started")}),n.on("controlclick",function(e,t){var n=t.control,r=n.options,o=r.name,i=r.collection;o&&window.ga("send","event","Player Control Click",o,i)}),n.on("sectionsclick",function(e,t){window.ga("send","event","Player Sections","Click",n.view)});var r=null;n.on("volumechange",function(e,n){clearTimeout(r),r=setTimeout(function(e){var t=n.volume;window.ga("send","event","Player Volume Change",Number(t).toFixed(1))},t.volumeChangeDelay)});var o=null;n.on("ratechange",function(e,n){clearTimeout(o),o=setTimeout(function(e){var t=n.rate;window.ga("send","event","Player Rate Change",t)},t.rateChangeDelay)});var a={};n.on("timeupdate",function(){var e=n.video.playedPercentage,r=t.videoPlayedDelta;t.videoPlayed.forEach(function(t){!a[t]&&Math.abs(e-t)<r&&(window.ga("send","event","Player Video Played",t-r+"-"+t+"%"),a[t]=!0)})});var s=!1;n.on("qualitychange",function(e){return s?void(null!=n.video.playbackQuality&&window.ga("send","event","Player Change Quality",n.video.playbackQuality.title)):void(s=!0)})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=function e(t,n,r,o){var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,o)}else if("value"in i&&i.writable)i.value=r;else{var l=i.set;void 0!==l&&l.call(o,r)}return r},c=n(2),f=r(c),p=window.lePlayer||window.$.lePlayer,y=p.getComponent("Entity"),d=function(e){return null==e||null==e.languageCode?e:{language:e.languageCode,title:e.languageCode,tooltip:e.languageName,name:e.languageCode}},h=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._paused=!0,r.src=r.player.options.src,r.player.addClass("leplayer--youtube"),r.element.on("click",r.onClick.bind(r)),
r.element.on("dblclick",r.onDblclick.bind(r)),r}return a(t,e),l(t,[{key:"onClick",value:function(e){this.trigger("click")}},{key:"onDblclick",value:function(){this.trigger("dblclick")}},{key:"increaseRate",value:function(){var e=this.availableRates.indexOf(this.rate);if(!(e+1>=this.availableRates.length))return this.rate=this.availableRates[e+1]}},{key:"decreaseRate",value:function(){var e=this.availableRates.indexOf(this.rate);if(!(e-1<0))return this.rate=this.availableRates[e-1]}},{key:"getAvailableQualityLevels",value:function(){var e=this.ytPlayer.getAvailableQualityLevels(),n=e.indexOf("auto");return n>-1&&e.splice(n,1),e.map(function(e){return{title:t.QUALITY_NAMES[e]||e,name:e}})}},{key:"supportsFullScreen",value:function(){return!0}},{key:"play",value:function(){this.ytPlayer.playVideo(),this.trigger("play")}},{key:"pause",value:function(){this.ytPlayer.pauseVideo(),this.trigger("pause")}},{key:"init",value:function(){var e=this;return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this),t.apiLoaded().then(function(){return e.initYTPlayer()})}},{key:"createElement",value:function(){return this.element=(0,f.default)("<div />").addClass("leplayer__youtube-wrapper").attr("tabindex","0"),this.youtubeElement=(0,f.default)("<div />").addClass("leplayer__youtube"),this.blocker=(0,f.default)("<div />").addClass("leplayer__youtube-blocker"),this.element.append(this.blocker).append(this.youtubeElement)}},{key:"initYTPlayer",value:function(){var e=this;this._initPromise=f.default.Deferred();var t=this.player.options,n={autoplay:t.autoplay?1:0,loop:t.loop?1:0,iv_load_policy:3,controls:0,modestbranding:1,rel:0,showinfo:0,cc_load_policy:0,disablekb:0,fs:0,start:t.time};return YT.ready(function(){e.options.ctx.replaceWith(e.element),e.ytPlayer=new YT.Player(e.youtubeElement[0],{videoId:e.videoId,width:t.width||"100%",playerVars:n,events:{onReady:e.onYTPReady.bind(e),onStateChange:e.onYTPStateChange.bind(e),onPlaybackRateChange:e.onYTPRateChange.bind(e),onPlaybackQualityChange:e.onYTPPlaybackQualityChange.bind(e)}})}),this._initPromise.promise()}},{key:"setAvailablePlaybackRates",value:function(){this.availableRates=this.ytPlayer.getAvailablePlaybackRates(),this.rateMin=this.availableRates[0],this.rateMax=this.availableRates[this.availableRates.length-1]}},{key:"onYTPReady",value:function(e){this._initPromise.resolve(),this._initRate(),this._initVolume(),this.setAvailablePlaybackRates()}},{key:"onYTPRateChange",value:function(e){this.trigger("ratechange")}},{key:"onYTPPlaybackQualityChange",value:function(e){var t=e.data;this._playbackQuality=this.getAvailableQualityLevels().find(function(e){return e.name===t}),this.trigger("qualitychange",this._playbackQuality)}},{key:"onYTPStateChange",value:function(e){var t=e.data;if(t!==this.lastState)switch(this.lastState=t,t){case YT.PlayerState.UNSTARTED:this.trigger("loadstart"),this.trigger("loadedmetadata"),this.trigger("durationchange"),this.trigger("ratechange"),this.trigger("volumechange"),this.trigger("trackschange"),this.player.options.autoplay&&this.trigger("play");break;case YT.PlayerState.ENDED:this.trigger("pause"),this.trigger("ended");break;case YT.PlayerState.PLAYING:this.trigger("timeupdate"),this.trigger("durationchange"),this.trigger("playing"),this.ytPlayer.setPlaybackQuality(this._nextPlaybackQuality),this.isSeeking&&this.onSeeked(),this.loadCaptions(),this.emitTimeupdate();break;case YT.PlayerState.PAUSED:this.trigger("canplay"),this.isSeeking&&this.onSeeked();break;case YT.PlayerState.BUFFERING:this.player.trigger("timeupdate"),this.player.trigger("waiting"),this.ytPlayer.setPlaybackQuality(this._nextPlaybackQuality)}}},{key:"onSeeked",value:function(){clearInterval(this.seekingInterval),this.isSeeking=!1,this.wasPausedBeforeSeek&&this.pause(),this.trigger("seeked")}},{key:"emitTimeupdate",value:function(){var e=this;clearInterval(this.seekingInterval),this.seekingInterval=setInterval(function(){e.lastState===YT.PlayerState.PAUSED?clearInterval(e.seekingInterval):e.currentTime!==e.timeBeforeSeek&&e.trigger("timeupdate")},250)}},{key:"loadCaptions",value:function(){var e=this,t=function(){return null==e.subtitles||0===e.subtitles.length};clearInterval(this._loadCaptionsWatcher),!this._tracksDisable&&this.checkCaptionsExist()&&t()&&(this.ytPlayer.loadModule("captions"),this._loadCaptionsWatcher=setInterval(function(){!t()&&e.checkCaptionsExist()&&(e.trigger("trackschange"),clearInterval(e._loadCaptionsWatcher))},250))}},{key:"checkCaptionsExist",value:function(){try{return null!=this.ytPlayer.getOptions("captions")}catch(e){return!1}}},{key:"src",set:function(e){if(null!=e&&(!this.src||this.src.url!==e.url)){var n=e.url||e.id;this.videoId=t.parseUrl(n),this.player.options.poster?this.poster=this.player.options.poster:this.poster="https://img.youtube.com/vi/"+this.videoId+"/0.jpg"}}},{key:"currentTime",get:function(){return this.ytPlayer?this.ytPlayer.getCurrentTime():0},set:function(e){this.lastState===YT.PlayerState.PAUSED&&(this.timeBeforeSeek=this.currentTime),this.isSeeking||(this.wasPausedBeforeSeek=this.paused);var t=void 0;t=e>=this.duration?this.duration:e<0?0:e,this.isSeeking=!0,this.ytPlayer.seekTo(t,!0),this.player.trigger("timeupdateload",{currentTime:t}),this.trigger("seeking"),this.emitTimeupdate()}},{key:"duration",get:function(){return this.ytPlayer&&this.ytPlayer.getDuration?this.ytPlayer.getDuration():NaN}},{key:"paused",get:function(){return!this.ytPlayer||this.lastState!==YT.PlayerState.PLAYING&&this.lastState!==YT.PlayerState.BUFFERING}},{key:"rate",get:function(){return this.ytPlayer.getPlaybackRate()},set:function(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rate",e,this),this.ytPlayer.setPlaybackRate(e),this.trigger("ratechange")}},{key:"muted",set:function(e){var t=this;e?this.ytPlayer.mute():this.ytPlayer.unMute(),setTimeout(function(){t.trigger("volumechange")},50)},get:function(){return this.ytPlayer.isMuted()}},{key:"subtitles",get:function(){return this.checkCaptionsExist()?(this.ytPlayer.getOption("captions","tracklist")||[]).map(d):[]}},{key:"track",get:function(){return void 0===this._track&&this.checkCaptionsExist()?d(this.ytPlayer.getOption("captions","track")):this._track},set:function(e){return this._track=e,null===e?(this._tracksDisable=!0,this.ytPlayer.unloadModule("captions"),void this.trigger("trackschange")):(this.ytPlayer.setOption("captions","track",{languageCode:e.name}).setOption("captions","reload",!0),this._tracksDisable&&this.ytPlayer.loadModule("captions"),void this.trigger("trackschange"))}},{key:"playbackQuality",set:function(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"playbackQuality",e,this);var n=this.currentTime,r=this.ytPlayer.getPlayerState();r!==YT.PlayerState.UNSTARTED&&r!==YT.PlayerState.CUED&&this.ytPlayer.pauseVideo(),this._nextPlaybackQuality=e,this.ytPlayer.setPlaybackQuality(e),this.ytPlayer.seekTo(n),r!==YT.PlayerState.PAUSED&&this.ytPlayer.playVideo()},get:function(){var e=this;return null==this._playbackQuality&&(this._playbackQuality=this.getAvailableQualityLevels().find(function(t){return t.name===e.ytPlayer.getPlaybackQuality()})),this._playbackQuality}},{key:"volume",get:function(){return this.ytPlayer?this.ytPlayer.getVolume()/100:1},set:function(e){var n=this;u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"volume",e,this),this.ytPlayer.setVolume(100*e),setTimeout(function(){n.trigger("volumechange")},50)}}],[{key:"parseUrl",value:function(e){var n=null,r=t.URL_REGEX,o=e.match(r);return 11===e.length?n=e:o&&11===o[2].length&&(n=o[2]),n}}]),t}(y);h.TEST_VIDEO=document.createElement("video"),h.canControlVolume=function(){try{var e=h.TEST_VIDEO.volume;return h.TEST_VIDEO.volume=e/2+.1,e!==h.TEST_VIDEO.volume}catch(e){return!1}},h.prototype.featureControlVolume=h.canControlVolume(),h.URL_REGEX=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,h.QUALITY_NAMES={tiny:"140p",small:"240p",medium:"360p",large:"480p",hd720:"720p",hd1080:"1080p",highres:"HD",auto:"Авто"},h.apiLoaded=function(){var e=this;return this._loaded?f.default.Deferred().resolve():f.default.getScript("https://www.youtube.com/iframe_api").then(function(){return e._loaded=!0})},p.registerComponent("Youtube",h),p.preset("youtube",{options:{entity:"Youtube",controls:{common:[["play","volume","timeline","rate","backward","source","subtitle","divider","section","fullscreen"],[]],fullscreen:[["play","volume","timeline","rate","backward","source","subtitle","divider","section","fullscreen"]]}}}),p.plugin("youtube",function(e){h.apiLoaded()})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),u=r(s),c=window.lePlayer,f=c.getComponent("Component"),p=c.getComponent("Icon"),y=c.secondsToTime,d=function(e){function t(e,n){o(this,t),n=u.default.extend({},{strokeDasharray:293,size:98},n);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._circleElement=r.element.find("svg circle"),r}return a(t,e),l(t,[{key:"createElement",value:function(){var e=this.options,t=e.strokeDasharray,n=e.size,r=('\n\t\t\t<div class="leplayer-next__play leplayer-play-button">\n                <svg height="100%" version="1.1" viewBox="0 0 '+n+" "+n+'" class="leplayer-next__svg-spinner">\n                    <circle cx="'+-n/2+'" cy="'+n/2+'" fill-opacity="0" r="46.5" stroke="currentColor" stroke-dasharray="'+t+'" stroke-dashoffset="'+-1*t+'" stroke-width="6" transform="rotate(-90)">\n                    </circle>\n                </svg>\n\t\t\t\t<div class="leplayer-next__button leplayer-play-button__button">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t').trim();return this.element=(0,u.default)("<div />").html(r).contents(),this.element.find(".leplayer-next__button").append(new p(this.player,{iconName:"play"}).element),this.element}},{key:"startAnimation",value:function(e){this._circleElement.stop().animate({"stroke-dashoffset":-2*this.options.strokeDasharray},this.options.timeout,e)}},{key:"stopAnimation",value:function(){this._circleElement.stop()}},{key:"radial",set:function(e){this._radial=e,this._circleElement.css("stroke-dashoffset",-(e+1)*this.options.strokeDasharray)},get:function(){return this._radial}}]),t}(f),h=function(e){function t(e,n){o(this,t),n=u.default.extend({},{title:"",description:"",timeout:1e4,auto:!1,fn:function(){}},n);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.cancelButton=r.element.find(".leplayer-next__cancel"),r.player.on("play",function(){return r.hide()}),r.player.on("loadstart",function(){return r.hide()}),r.player.on("ended",function(){return r.show()}),r.player.on("timeupdate",function(){r.player.ended||r.hide()}),r.progressButton.element.on("click",r.next.bind(r)),r.cancelButton.on("click",r.cancel.bind(r)),r}return a(t,e),l(t,[{key:"createElement",value:function(){var e=this.options,t=e.timeout,n=e.title,r=e.description,o=e.poster,i=e.auto,a=e.time,l=('\n\t\t\t<div class="leplayer-next">\n                <div class="leplayer-next__head">Следующее видео</div>\n\t\t\t\t<div class="leplayer-next__box">\n\t\t\t\t\t<div class="leplayer-next__poster">\n\t\t\t\t\t\t<div class="leplayer-next__mini-title">'+n+'</div>\n\t\t\t\t\t\t<div class="leplayer-next__cancel" role="button">Отмена</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="leplayer-next__content">\n                        <div class="leplayer-next__title">'+n+'</div>\n                        <div class="leplayer-next__description">'+r+"</div>\n                        "+(a?'<div class="leplayer-next__time">'+y(a)+"</div>":"")+"\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t").trim();return this.progressButton=new d(this.player,{timeout:t}),this.element=(0,u.default)("<div />").html(l).contents(),this.element.find(".leplayer-next__poster").append(this.progressButton.element),null!=o&&this.element.find(".leplayer-next__poster").css({"background-image":"url("+o+")"}),i&&this.addClass("leplayer-next--auto"),this.element}},{key:"cancel",value:function(){clearTimeout(this._timeout),this.removeClass("leplayer-next--auto")}},{key:"next",value:function(){null!=this.options.url?window.location=this.options.url:this.options.fn&&u.default.isFunction(this.options.fn)&&this.options.fn(this)}},{key:"show",value:function(){var e=this;this.cancelled||(this.element.show(),this.options.auto&&(this.progressButton.startAnimation(),clearTimeout(this._timeout),this._timeout=setTimeout(function(){return e.next()},this.options.timeout)))}},{key:"hide",value:function(){this.element.hide(),this.options.auto&&(this.progressButton.stopAnimation(),this.progressButton.radial=0,clearTimeout(this._timeout))}}]),t}(f);c.plugin("next",function(e){this._nextComponent=new h(this,e),this.innerElement.append(this._nextComponent.element)})}]);