!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){var c=[].concat(a);return b.forEach(function(a){var b=c.indexOf(a);if(b>-1)return void c.splice(b,1)}),c}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=c(1),k=d(j),l=c(2),m=d(l),n=c(3),o=d(n),p=c(5),q=d(p),r=c(8),s=d(r),t=c(9),u=d(t),v=c(4),w=d(v),x=c(10),y=d(x),z=c(6),A=d(z),B=c(11),C=d(B),D=c(12),E=d(D),F=c(13),G=d(F),H=c(14),I=d(H),J=c(15),K=d(J),L=c(7),M=c(16),N=d(M);c(17),c(18),c(20),c(24),c(26),c(27),c(28),c(29),c(31),c(32),c(33),c(34),m["default"].registerControl("divider",function(){return{element:(0,k["default"])("<div/>").addClass("divider")}});var O={autoplay:!1,height:"auto",loop:!1,muted:!1,preload:"metadata",poster:null,svgPath:"../dist/svg/svg-defs.svg",innactivityTimeout:5e3,rate:{step:.25,min:.5,max:4,"default":1},playback:{step:{"short":5,medium:10,"long":30}},controls:{common:[["play","volume","divider","timeline","divider","section","divider","fullscreen"],["rate","divider","backward","divider","source","divider","subtitle","divider","download","divider","keybinding info"]],fullscreen:[["play","volume","divider","timeline","divider","rate","divider","keybinding info","divider","backward","divider","source","divider","subtitle","divider","download","divider","section","divider","fullscreen"]],mini:[["play","volume","divider","fullscreen","divider","timeinfo"]]},volume:{"default":.4,mutelimit:.05,step:.1},keyBinding:[{key:32,info:["Space"],description:"Начать проигрывание / поставить на паузу",fn:function(a){a.video.togglePlay()}},{key:37,info:["←"],description:"Перемотать на 10 секунд назад",fn:function(a){a.video.currentTime-=a.options.playback.step.medium,a.splashIcon.show("undo")}},{key:39,info:["→"],description:"Перемотать на 10 секунд вперёд",fn:function(a){a.video.currentTime+=a.options.playback.step.medium,a.splashIcon.show("redo")}},{shiftKey:!0,info:["Shift","←"],description:"Перейти на предыдущую секцию",key:37,fn:function(a){null!=a.sections&&a.sections.prev()}},{shiftKey:!0,key:39,info:["Shift","→"],description:"Перейти на следующую секцию",fn:function(a){null!=a.sections&&a.sections.next()}},{key:38,info:["↑"],description:"Увеличить громкость",fn:function(a){a.video.volume+=a.options.volume.step,a.splashIcon.show(a._calcVolumeIcon(a.video.volume))}},{key:40,info:["↓"],description:"Уменьшить громкость",fn:function(a){a.video.volume-=a.options.volume.step,a.splashIcon.show(a._calcVolumeIcon(a.video.volume))}},{key:70,info:["f"],description:"Открыть/закрыть полноэкраный режим",fn:function(a){a.toggleFullscreen()}}],miniplayer:{width:"100%",offsetShow:function(a){var b=a.element.offset().top+a.element.outerHeight()-a.getControls("common").element.height();return b}},onPlayerInited:function(){}},P=function(a,b){var c=this;if("video"!=a.prop("tagName").toLowerCase())return console.warn("Incorrect element selected."),this;var d=this,j=I["default"];this._element=a,this.controls={},this.video=null,this.element=(0,L.createEl)("div"),this.innerElement=(0,L.createEl)("div");var l=function(){function a(b,c){f(this,a),this.player=b,this._ctx=c,this._video=c[0],this.element=(0,k["default"])(this._video),this.subtitles=[],this.bufferRanges=[],null==(0,k["default"])(this._video).attr("src")&&(this.source=this.player.options.src)}return i(a,[{key:"init",value:function(){var a=this,b=k["default"].Deferred();return this._initSubtitles(),this._initVideo().done(function(){a._initRate(),a._initVolume(),b.resolve()}),b.promise()}},{key:"startBuffering",value:function(){var a=this,b=this.volume;return this.volume=0,this.play().then(function(){return a.pause()}).then(function(){a.currentTime=0,a.volume=b})}},{key:"supportsFullScreen",value:function(){if("function"==typeof this._video.webkitEnterFullScreen){var a=window.navigator&&window.navigator.userAgent||"";if(/Android/.test(a)||!/Chrome|Mac OS X 10.5/.test(a))return!0}return!1}},{key:"enterFullscreen",value:function(){var a=this,b=this._video;b.paused&&b.networkState<=b.HAVE_METADATA?(this.play(),setTimeout(function(){a.pause(),b.webkitEnterFullScreen()},0)):b.webkitEnterFullScreen()}},{key:"exitFullscreen",value:function(){this._video.webkitExitFullScreen()}},{key:"togglePlay",value:function(){!this._video.played||this._video.paused?this.play():this.pause()}},{key:"seek",value:function(a){this._video.currentTime=a}},{key:"play",value:function(){var a=k["default"].Deferred(),b=this._video.play();return null!=b?b.then(function(){a.resolve()}):a.resolve(),a.promise()}},{key:"pause",value:function(){var a=k["default"].Deferred(),b=this._video.pause();return null!=b?b.then(function(){a.resolve()}):a.resolve(),a.promise()}},{key:"trigger",value:function(a){for(var b,c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return(b=this.player.trigger).call.apply(b,[(0,k["default"])(this._video),"leplayer_"+a].concat(d)),this}},{key:"on",value:function(a){for(var b,c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return(b=(0,k["default"])(this._video).on).call.apply(b,[(0,k["default"])(this._video),"leplayer_"+a].concat(d)),this}},{key:"_initRate",value:function(){this.rate=this.defaultRate}},{key:"_initVolume",value:function(){this.volume=this.defaultVolume}},{key:"_initSubtitles",value:function(){var a=this;this._ctx.children('track[kind="subtitles"]').each(function(){var b=(0,k["default"])(this).attr("srclang"),c=(0,k["default"])(this).attr("label"),d=(0,k["default"])(this).attr("src");c.length>0&&d.length>0&&a.subtitles.push({title:c,src:d,language:b})})}},{key:"_initVideo",value:function(){var a=this,b=k["default"].Deferred();return this._video.readyState>HTMLMediaElement.HAVE_NOTHING?(b.resolve(),this._textTracksHack()):(0,k["default"])(this._video).one("loadedmetadata",function(c){b.resolve(),a._textTracksHack()}),b.notify(),b.promise()}},{key:"_textTracksHack",value:function(){if(0==this._video.textTracks.length&&this.subtitles.length>0){this._ctx.children('track[kind="subtitles"]').remove();for(var a in this.subtitles)this.subtitles.hasOwnProperty(a)&&this._ctx.append((0,k["default"])("<track/>").attr("label",this.subtitles[a].title).attr("src",this.subtitles[a].src).attr("srclang",this.subtitles[a].language).attr("id",this.subtitles[a].language).attr("kind","subtitles"))}}},{key:"currentTime",get:function(){return this._video.currentTime},set:function(a){var b=void 0;b=a>this.duration?this.duration:a<0?0:a,this.player.trigger("timeupdateload",{time:b}),this._video.currentTime=b}},{key:"duration",get:function(){return this._video.duration}},{key:"height",get:function(){return this._video.clientHeight}},{key:"width",get:function(){return this._video.clientWidth}},{key:"rate",get:function(){return this._video.playbackRate},set:function(a){var b=this.player;a<=b.options.rate.max&&a>=b.options.rate.min&&(this._video.playbackRate=a,K["default"].set("rate",a))}},{key:"defaultRate",get:function(){return K["default"].get("rate")||d.options.rate["default"]}},{key:"source",set:function(a){if(null!=a&&(!this.source||this.source.url!==a.url)){var b=this.currentTime,c=this.rate,d=this.paused;console.log(a.url),(0,k["default"])(this._video).attr("src",a.url),this._video=this._ctx[0],this._video.playbackRate=c,this._video.currentTime=b,this._source=a,d?this.pause():this.play()}},get:function(){return this._source}},{key:"track",set:function(a){for(var b=0;b<this._video.textTracks.length;b++)this._video.textTracks[b].language==a?this._video.textTracks[b].mode="showing":this._video.textTracks[b].mode="hidden"}},{key:"paused",get:function(){return this._video.paused}},{key:"volume",get:function(){return this._video.volume},set:function(a){var b=this.player;a>1?this._video.volume=1:a<b.options.volume.mutelimit?this._video.volume=0:(this._video.volume=a,K["default"].set("volume",a)),this._video.mute=a<b.options.volume.mutelimit}},{key:"defaultVolume",get:function(){return K["default"].get("volume")||d.options.volume["default"]}},{key:"buffered",get:function(){return this._video.buffered}},{key:"seekable",get:function(){return this._video.seekable}},{key:"played",get:function(){return this._video.played}},{key:"playedPercentage",get:function(){for(var a=0,b=0;b<this.played.length;b++)a+=this.played.end(b)-this.played.start(b);return a/this.duration*100}}]),a}();this.initControls=function(){for(var a=["common","fullscreen"],b=0;b<a.length;b++){var c=a[b];if(!this.options.controls.hasOwnProperty(c))return;var d=new A["default"](this,{name:c});this.element.append(d.element)}null!=this.controls.common&&(this.controls.common.active=!0)},this.initSections=function(){var a=this,b=k["default"].Deferred();return null==this.options.data?b.reject(null):this.getSectionData().done(function(c){c=[].concat(e(c));var f=a.sectionsContainer&&a.sectionsContainer.length>0;if(null==c||0==c.length)return void b.reject(null);c=a.completeSections(c);var g=new C["default"](a,{items:c,fullscreenOnly:f});if(a.innerElement.append(g.element),f){var h=new C["default"](d,{items:c});a.sectionsContainer.append(h.element)}b.resolve({sectionsComponent:g,items:c})}),b.promise()},this.initHotKeys=function(){var a=this,b=function(a,b){return(a.which===b.key||a.key===b.key)&&!!b.shiftKey==a.shiftKey&&!!b.ctrlKey==a.ctrlKey};(0,k["default"])(this.element).bind("keydown.leplayer.hotkey",function(c){var d=m();d&&a.options.keyBinding.forEach(function(d){if(b(c,d))return c.preventDefault(),d.fn(a),!1})})},this.optionsFromElement=function(){var a=this._element,b=["height","width","poster","autoplay","loop","muted","preload"].reduce(function(b,c){var d=a.attr(c);return null!=d&&(b[c]=a.attr(c)),b},{});return b.sources=[],a.attr("src")&&(b.src={url:a.attr("src"),title:a.attr("data-quality")||a.attr("title")||"default"}),a.find("source").each(function(a,c){c=(0,k["default"])(c),c.attr("data-quality")&&(b.sources=b.sources.concat({url:c.attr("src"),title:c.attr("data-quality")||c.attr("title")||"default"}))}),b},this.initOptions=function(){var a=this,c=this.optionsFromElement();this.options=k["default"].extend(!0,{},O,c,b),this.options.sources&&!Array.isArray(this.options.sources)&&(this.options.sources=[this.options.sources]),null==this.options.src&&this.options.sources.length>0&&(this.options.src=this.options.sources[0]),null==this.options.src&&this.setError(new N["default"]("No sources found")),this.options.controls=k["default"].extend({},O.controls,b.controls);var d=function(b){if(!a.options.excludeControls.hasOwnProperty(b))return{v:void 0};var c=a.options.excludeControls[b];c.forEach(function(c,d){a.options.controls[b]&&a.options.controls[b][d]&&(a.options.controls[b][d]=g(a.options.controls[b][d],c))})};for(var e in this.options.excludeControls){var f=d(e);if("object"===("undefined"==typeof f?"undefined":h(f)))return f.v}};var m=function(){var a=(0,k["default"])(c.element).find(":focus");return a.length>0||(0,k["default"])(c.element).is(":focus")};this.initOptions(),this.createElement(),this.video=new l(this,a),this.initControls(),this.initHotKeys(),this.initSections().then(function(a){c.sections=a.sectionsComponent,c.trigger("sectionsinit",a)}),this.video.init().then(function(){c.trigger("inited"),c._initPlugins()}),this._listenUserActivity();var n=this.video.element;return n.one({play:function(a){c.trigger("firstplay"),c.removeClass("leplayer--virgin")}}),n.on({loadstart:function(a){c.removeClass("leplayer--ended"),c.setError(null),c.trigger("loadstart")},durationchange:function(a){c.trigger("durationchange")},timeupdate:function(a){c.video.currentTime>0&&c.removeClass("leplayer--virgin"),c.trigger("timeupdate",{time:c.video.currentTime,duration:c.video.duration})},seeking:function(a){c._startWaiting(),c.trigger("seeking")},seeked:function(a){c._stopWayting(),c.trigger("seeked")},progress:function(){c.trigger("progress")},dblclick:function(){c.trigger("dblclick")},click:function(){c.trigger("click")},volumechange:function(a){c.trigger("volumechange",{volume:c.video.volume})},play:function(a){c.removeClass("leplayer--ended"),c.removeClass("leplayer--paused"),c.addClass("leplayer--playing"),c.trigger("play")},pause:function(a){c.removeClass("leplayer--playing"),c.addClass("leplayer--paused"),c.trigger("pause")},playing:function(a){c._stopWayting(),c.trigger("playing")},ratechange:function(a){c.trigger("ratechange",{rate:c.video.rate})},canplay:function(a){c.trigger("canplay")},ended:function(a){c.addClass("leplayer--ended"),c.options.loop?(c.currentTime(0),c.video.play()):c.video.paused||c.video.pause(),c.trigger("ended")},canplaythrough:function(a){c._stopWayting(),c.trigger("canplaythrough")},waiting:function(a){c._startWaiting(),c.one("timeupdate",function(){return c._stopWayting()}),c.trigger("waiting")},error:function(a){c.setError(new N["default"](a.target.error.code))}}),this.on("fullscreenchange",this._onFullscreenChange.bind(this)),this.on("click",this._onClick.bind(this)),this.on("dblclick",this._onDbclick.bind(this)),this.on("inited",this._onInited.bind(this)),this.on("play",this._onPlay.bind(this)),this.on("pause",this._onPause.bind(this)),(0,k["default"])(document).on(j.fullscreenchange,this._onEntityFullscrenChange.bind(this)),this};P.plugin=function(a,b){P.prototype[a]=b},P.getComponent=o["default"].getComponent,P.registerComponent=o["default"].registerComponent,P.getControl=m["default"].getControl,P.registerControl=m["default"].registerControl,P.secondsToTime=L.secondsToTime,P.prototype.createElement=function(){var a=this,b=this.options,c=this._element;["controls","poster","height","width"].forEach(function(a){c.removeAttr(a)}),["preload","autoplay","loop","muted"].forEach(function(b){a.options[b]&&(c.attr(b,a.options[b]),c.prop(b,a.options[b]))}),c.find("source[data-quality]").each(function(a,b){(0,k["default"])(b).remove()}),this.element=this.element.addClass("leplayer").attr("tabindex",0).css("width","100%").css("max-width",(b.width||this.video.width)+"px"),this.errorDisplay=new E["default"](this),this.playButton=new s["default"](this),this.loader=(0,k["default"])("<div />").addClass("leplayer-loader-container").append(new w["default"](this,{iconName:"refresh",className:"leplayer-loader-container__icon"}).element),this.splashIcon=new u["default"](this),this.videoContainer=(0,L.createEl)("div",{className:"leplayer-video"}).append(this.errorDisplay.element).append(this.playButton.element).append(this.loader).append(this.splashIcon.element),b.poster&&(this.poster=new G["default"](this),this.videoContainer.append(this.poster.element)),b.miniplayer&&(this.miniPlayer=new q["default"](this));var d=new y["default"](this,{fn:function(a){var b=a.video;return(0,L.secondsToTime)(b.duration-b.currentTime)}});return this.innerElement=(0,k["default"])("<div />").addClass("leplayer__inner").append(this.videoContainer).append((0,L.createEl)("div",{className:"leplayer__info"}).append((0,L.createEl)("div",{className:"leplayer__title",html:this.options.title||""})).append((0,L.createEl)("div",{className:"leplayer__video-info",html:this.options.videoInfo||""})).append((0,L.createEl)("div",{className:"leplayer__last",html:"Видео закончится через "}).append(d.element)).append(this.miniPlayer&&this.miniPlayer.element)),this.element=this.element.append(this.innerElement),this.addClass("leplayer--paused"),this.addClass("leplayer--virgin"),b.sectionContainer&&(this.sectionsContainer=(0,k["default"])(b.sectionContainer)),c.before(this.element),this.videoContainer.append(c),this.element},P.prototype._initPlugins=function(){if(this.options.plugins)for(var a in this.options.plugins){if(!this.options.plugins.hasOwnProperty(a))return;var b=this.options.plugins[a];this[a]?this[a](b):console.error("Plugin '"+a+"' doesn't exist")}return this},P.prototype._view="common",P.prototype.trigger=function(a){for(var b,c=k["default"].Event("leplayer_"+a,{player:this}),d=arguments.length,e=Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return(b=this.element.trigger).call.apply(b,[this.element,c].concat(e)),this},P.prototype.on=function(a){for(var b,c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return(b=this.element.on).call.apply(b,[this.element,"leplayer_"+a].concat(d)),this},P.prototype.one=function(a){for(var b,c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];(b=this.element.one).call.apply(b,[this.element,"leplayer_"+a].concat(d))},P.prototype.addClass=function(a){return this.element.addClass(a),this},P.prototype.removeClass=function(a){return this.element.removeClass(a),this},P.prototype.toggleClass=function(a,b){return this.element.toggleClass(a,b),this},P.prototype.hasClass=function(a){return this.element.hasClass(a)},P.prototype.setView=function(a){return this.element.removeClass("leplayer--"+this._view).addClass("leplayer--"+a),this._view=a,this},P.prototype.getView=function(){return this._view},P.prototype.setError=function(a){return null===a?(this._error=null,this.removeClass("leplayer--error"),this.errorDisplay&&this.errorDisplay.element.hide(),this):(this._error=new N["default"](a),this.addClass("leplayer--error"),this.trigger("error",{error:this._error}),this)},P.prototype.setUserActive=function(a){a!==this.getUserActive&&(this._userActive=a,this.toggleClass("leplayer--user-active",a),this.trigger("useractive"))},P.prototype.getUserActive=function(){return this._userActive||!1},P.prototype.play=function(){return this.video.play()},P.prototype.pause=function(){return this.video.pause()},P.prototype.togglePlay=function(){return this.video.togglePlay()},P.prototype.getError=function(){return this._error||null},P.prototype.getData=function(){var a=new k["default"].Deferred;return void 0!==this._data?(a.resolve(this._data),a.promise()):"string"==typeof this.options.data?k["default"].ajax({url:this.options.data,method:"GET",dataType:"json"}).promise():"object"===h(this.options.data)?(a.resolve(this.options.data),a.promise()):void 0},P.prototype.getSectionData=function(){return this.getData().then(function(a){return a.sections})},P.prototype.requestFullscreen=function(){var a=I["default"];a.requestFullscreen?(this.element[0][a.requestFullscreen](),this.trigger("fullscreenchange",!0)):this.video.supportsFullScreen()&&this.video.enterFullscreen()},P.prototype.exitFullscreen=function(){var a=I["default"];a.exitFullscreen?document[a.exitFullscreen]():this.video.supportsFullScreen()&&this.video.exitFullscreen(),this.trigger("fullscreenchange",!1)},P.prototype.toggleFullscreen=function(){"fullscreen"===this.getView()?this.exitFullscreen():this.requestFullscreen()},P.prototype.getControls=function(a){return this.controls[a]},P.prototype.getHeight=function(){return this.element.height()},P.prototype.getWidth=function(){return this.element.width()},P.prototype.completeSections=function(a){if(null!=a&&0!=a.length){for(var b=[].concat(a),c=0;c<b.length;c++){var d=void 0;d=c<b.length-1?b[c+1].begin:this.video.duration,b[c].end=d}return b}},P.prototype._userActivity=!1,P.prototype._listenUserActivity=function(){var a=this,b=void 0,c=void 0,d=void 0,e=function(b){b.screenX===c&&b.screenY===d||(c=b.screenX,d=b.screenY,a._userActivity=!0)},f=function(c){a._userActivity=!0,clearInterval(b),b=setInterval(function(){a._userActivity=!0},250)},g=function(c){a._userActivity=!0,clearInterval(b)};this.element.on("mousemove",e),this.element.on("mousedown",f),this.element.on("mouseup",g),this.element.on("keydown",function(b){return a._userActivity=!0}),this.element.on("keyup",function(b){return a._userActivity=!0});var h=void 0,i=this.options.innactivityTimeout;setInterval(function(){a._userActivity&&(a._userActivity=!1,a.setUserActive(!0),clearTimeout(h),i>0&&(h=setTimeout(function(){a._userActivity||a.setUserActive(!1)},i)))},250)},P.prototype._waitingTimeouts=[],P.prototype._stopWayting=function(){this._waitingTimeouts.forEach(function(a){return clearTimeout(a)}),this._waitingTimeouts=[],this.removeClass("leplayer--waiting")},P.prototype._startWaiting=function(){var a=this;this._waitingTimeouts.push(setTimeout(function(){a.addClass("leplayer--waiting")},300))},P.prototype._onInited=function(a){this.addClass("leplayer--inited"),this.options.onPlayerInited.call(this,a)},P.prototype._dblclickTimeout=null,P.prototype._onClick=function(a){var b=this;clearTimeout(this._dblclickTimeout),this._dblclickTimeout=setTimeout(function(){b.video.element.focus(),b.togglePlay()},300)},P.prototype._onDbclick=function(a){clearTimeout(this._dblclickTimeout),this.toggleFullscreen()},P.prototype._onFullscreenChange=function(a,b){b?this.setView("fullscreen"):this.setView("common")},P.prototype._onPlay=function(){this.splashIcon.show("play")},P.prototype._onPause=function(){this.splashIcon.show("pause")},P.prototype._onEntityFullscrenChange=function(){var a=I["default"],b=!!document[a.fullscreenElement];this.trigger("fullscreenchange",b)},P.prototype._calcVolumeIcon=function(a){var b=a||this.video.volume;return b<this.options.volume.mutelimit?"volume-off":a<.5?"volume-down":"volume-up"},window.$.fn.lePlayer=function(a){return this.each(function(){return new P((0,k["default"])(this),a)})},window.$.lePlayer=P,window.lePlayer=P},function(a,b){a.exports=$},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function q(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:q(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},j=c(1),k=d(j),l=c(3),m=d(l),n=c(4),o=d(n),p=function(a){function b(a,c){e(this,b);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.disable=null==d.options.disable||d.options.disable,d.player.on("inited",function(a){d.disable=null!=d.options.disable&&d.options.disable}),d.element.on({click:d._onClick.bind(d),leplayer_control_click:d.onClick.bind(d)}),d.player.on("inited",d.onPlayerInited.bind(d)),d}return g(b,a),h(b,[{key:"createElement",value:function(){this.options.iconName&&(this.icon=new o["default"](this.player,{iconName:this.options.iconName}));var a={role:"button",title:this.options.title};return this.element=(0,k["default"])("<div />").addClass(this.buildCSSClass()).append(this.icon&&this.icon.element).attr(a),this.element}},{key:"buildCSSClass",value:function(){return"control "+this.options.className+" "+i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"buildCSSClass",this).call(this)}},{key:"_onClick",value:function(a){return!this.disable&&(this.element.trigger("leplayer_control_click"),void this.player.trigger("controlclick",{control:this}))}},{key:"onClick",value:function(a){a.preventDefault(),"function"==typeof this.options.onClick&&this.options.onClick.call(this,arguments)}},{key:"onPlayerInited",value:function(a,b){}},{key:"disable",set:function(a){this._disable=a,this.element.toggleClass("disabled",a)},get:function(){return this._disable}}],[{key:"registerControl",value:function(a,c){if(null!=a)return null==b._controls&&(b._controls={}),b._controls[a]=c,c}},{key:"getControl",value:function(a){if(null!=a)return b._controls&&b._controls[a]?b._controls[a]:void 0}},{key:"create",value:function(a,b,c){var d=this.getControl(b);return null==d?(console.error("Control "+b+" doesn't exist"),null):new d(a,c)}}]),b}(m["default"]);m["default"].registerComponent("Control",p),p.registerControl("control",p),b["default"]=p},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(1),h=d(g),i=function(){function a(b,c){e(this,a),c=this.options=h["default"].extend({},this.options,c),this.player=b,c.element?this.element=c.element:this.createElement(),1!=this.element.length&&console.error("Component.prototype.element.length must equal 1, not "+this.element.length+"\n",this.element),this.element[0].__node=this}return f(a,[{key:"createElement",value:function(){return""}},{key:"buildCSSClass",value:function(){return""}}],[{key:"registerComponent",value:function(b,c){if(null!=b)return null==a._components&&(a._components={}),a._components[b]=c,c}},{key:"getComponent",value:function(b){if(null!=b)return a._components&&a._components[b]?a._components[b]:void 0}}]),a}();i.registerComponent("Component",i),b["default"]=i},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function o(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:o(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},j=c(1),k=d(j),l=c(3),m=d(l),n=function(a){function b(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e(this,b),c=k["default"].extend({},{className:"",iconName:""},c),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return g(b,a),h(b,[{key:"createElement",value:function(){return this._useTag=document.createElementNS("http://www.w3.org/2000/svg","use"),this._svgTag=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.iconName=this._iconName=this.options.iconName,this._svgTag.appendChild(this._useTag),this.element=(0,k["default"])("<div />").addClass(this.buildCSSClass()).attr("title",this.options.title).append((0,k["default"])(this._svgTag)),this.element}},{key:"buildCSSClass",value:function(){return i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"buildCSSClass",this).call(this)+" leplayer-icon "+this.options.className}},{key:"iconName",set:function(a){var b,c,d=["http://www.w3.org/1999/xlink","href"];(b=this._useTag).removeAttributeNS.apply(b,d.concat([this.player.options.svgPath+"#leplayer-icon-"+this.iconName])),(c=this._useTag).setAttributeNS.apply(c,d.concat([this.player.options.svgPath+"#leplayer-icon-"+a])),this._iconName=a},get:function(){return this._iconName}}]),b}(m["default"]);m["default"].registerComponent("Icon",n),b["default"]=n},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(1),j=d(i),k=c(3),l=d(k),m=c(6),n=d(m),o=c(7),p=function(a){function b(a,c){e(this,b),c=j["default"].extend({},{visible:!1},a.options.miniplayer,c);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return c.visible&&d.show(),(0,j["default"])(window).on("scroll",d.update.bind(d)),(0,j["default"])(window).on("resize",d.update.bind(d)),d.player.on("fullscreenchange",d._onFullscreenChange.bind(d)),d.player.on("inited",d._onPlayerInited.bind(d)),d}return g(b,a),h(b,[{key:"update",value:function(){var a=(0,j["default"])(window).scrollTop();a>this.offsetShow?this.show():this.hide()}},{key:"show",value:function(a){(a||"mini"!==this.player.getView())&&(this.player.element.css("padding-top",this.player.videoContainer.height()),this.player.setView("mini"),this.player.innerElement.css("max-width",this.width),this.player.innerElement.css("height",this.player.video.height))}},{key:"hide",value:function(a){(a||"mini"===this.player.getView())&&(this.player.setView("common"),this.player.innerElement.css("max-width",""),this.player.innerElement.css("height",""),this.player.element.css("padding-top",""))}},{key:"createElement",value:function(){var a=new n["default"](this.player,{name:"mini"});return this.element=(0,o.createEl)("div",{className:"leplayer-miniplayer"}).append(a.element)}},{key:"_onFullscreenChange",value:function(a,b){1==b&&this.hide()}},{key:"_onPlayerInited",value:function(a){var b=(0,j["default"])(window).scrollTop();b>this.offsetShow?this.show(!0):this.hide()}},{key:"offsetShow",get:function(){return j["default"].isFunction(this.options.offsetShow)?this.options.offsetShow(this.player):this.options.offsetShow}},{key:"height",get:function(){return this.player.element.height()}},{key:"width",get:function(){return this.options.width||this.player.element.width()}}]),b}(l["default"]);b["default"]=p},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=c(1),k=d(j),l=c(3),m=d(l),n=c(2),o=d(n),p=c(7),q=function(a){function b(a,c){e(this,b),c=k["default"].extend({},{controls:a.options.controls[c.name]||[],controlOptions:{}},c);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.active=c.active||!1,d.name=c.name,d.player.controls[d.name]=d,d}return g(b,a),i(b,[{key:"_getControlOptions",value:function(a){var b=this.options.controlOptions,c=b.control||{};return b[a]&&(c=k["default"].extend(!0,{},c,b[a])),c}},{key:"addControl",value:function(a,b,c){var d=o["default"].create(this.player,b,h({collection:this.options.name},c));if(null!=d){for(;a>this._rows.length;)this.addRow();var e=this._rows[a];e.append(d.element),null==this.controls&&(this.controls=[]),null==this.controls[a]&&(this.controls[a]={}),this.controls[a][b]=d}}},{key:"getControl",value:function(a,b){if(null!=b){var c=a,d=b;return this.controls[d][c]}for(var e=a,f=0;f<this.controls.length;f++)if(void 0!=this.controls[f][e])return this.controls[f][e];return null}},{key:"addRow",value:function(){var a=(0,p.createEl)("div",{className:"leplayer-controls controls-"+this.options.name});return null==this._rows&&(this._rows=[]),this._rows.push(a),this.element.append(a),a}},{key:"getRow",value:function(a){return this._rows[a||0]}},{key:"createElement",value:function(){var a=this,b=this.options,c=b.name,d=b.controls;return this.element=(0,p.createEl)("div",{className:"leplayer-control-collection leplayer-control-collection--"+c}),d.forEach(function(b,d){var e=a.addRow(),f=!1;b.forEach(function(b){"timeline"==b&&(f=!0),a.addControl(d,b,a._getControlOptions(c))}),f||e.css("width","1px"),e.find(".divider + .divider").remove()}),this.element}},{key:"hide",value:function(){this.element.hide(),this.element.find(".leplayer-controls").hide()}},{key:"show",value:function(){this.element.show(),this.element.find(".leplayer-controls").show()}}]),b}(m["default"]);m["default"].registerComponent("ControlCollection",q),b["default"]=q},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){var c=Math.floor(a/3600),d=Math.floor(a%3600/60),e=Math.floor(a%3600%60),f="";return d<10&&(d="0"+d),e<10&&(e="0"+e),f=d+":"+e,(c>0||b)&&(f=c+":"+f),f}function f(a,b){var c=a/b||0;return c>=1?1:c}function g(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",b=arguments[1];return b&&b.className&&(b["class"]=b.className,delete b.className),(0,i["default"])("<"+a+"/>",b)}Object.defineProperty(b,"__esModule",{value:!0}),b.secondsToTime=e,b.percentify=f,b.createEl=g;var h=c(1),i=d(h)},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function r(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:r(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},j=c(2),k=d(j),l=c(3),m=d(l),n=c(4),o=d(n),p=c(7),q=function(a){function b(a,c){e(this,b);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.element.on("dblclick",d._onDbclick.bind(d)),d}return g(b,a),h(b,[{key:"createElement",value:function(){var a=(0,p.createEl)("div",{className:"leplayer-play-button__button"}).append(new o["default"](this.player,{iconName:"play"}).element);return this.element=(0,p.createEl)("div",{className:this.buildCSSClass}).append(a),this.element}},{key:"onClick",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onClick",this).call(this,a),this.player.trigger("click")}},{key:"_onDbclick",value:function(){this.player.trigger("dblclick")}},{key:"buildCSSClass",value:function(){return"leplayer-play-button"}}]),b}(k["default"]);m["default"].registerComponent("PlayButton",q),k["default"].registerControl("play button",q),b["default"]=q},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(1),j=d(i),k=c(3),l=d(k),m=c(4),n=d(m),o=function(a){function b(){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return g(b,a),h(b,[{key:"show",value:function(a){var b=this;this.icon.iconName=a,this.element.addClass("leplayer-splashicon--active"),setTimeout(function(){return b.element.removeClass("leplayer-splashicon--active")},300)}},{key:"createElement",value:function(){return this.icon=new n["default"](this.player),this.element=(0,j["default"])("<div />").addClass("leplayer-splashicon").append(this.icon.element)}}]),b}(l["default"]);b["default"]=o},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(1),j=d(i),k=c(3),l=d(k),m=c(7),n=function(a){function b(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(this,b),c=j["default"].extend({},{fn:function(a){var b=a.video;return(0,m.secondsToTime)(b.currentTime)}},c);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.player.on("timeupdate",d.updateText.bind(d)),d.player.on("inited",d.updateText.bind(d)),d}return g(b,a),h(b,[{key:"updateText",value:function(a,b){this.element.text(this.options.fn(this.player))}},{key:"createElement",value:function(){return this.element=(0,m.createEl)("div",{className:"leplayer-time"}),this.element}}]),b}(l["default"]);l["default"].registerComponent("Time",n),b["default"]=n},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(1),j=d(i),k=c(3),l=d(k),m=c(7),n=function(a){function b(a,c){var d;e(this,b);var g=c.items,h=void 0===g?[]:g;h=[].concat(h);var i=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return i.activeSection=i.getSectionByIndex(0),i.items=h,i.length=i.items.length,i.setActiveByIndex(0),i.element.find(".leplayer-section").on("click",i.onSectionClick.bind(i)),i.player.on("sectionstoggle",i._onSectionsToggle.bind(i)),i.player.on("timeupdate",i.onTimeUpdate.bind(i)),i.player.on("inited",i.updateSectionDuration.bind(i)),i.player.on("durationchange",i.updateSectionDuration.bind(i)),d=i,f(i,d)}return g(b,a),h(b,[{key:"next",value:function(){var a=parseInt(this.activeSection.attr("data-index")),b=a>=this.length?this.length:a+1;this.setActiveByIndex(b),this.player.video.currentTime=this.items[a].end}},{key:"prev",value:function(){var a=parseInt(this.activeSection.attr("data-index")),b=a<=0?0:a-1;this.setActiveByIndex(b),this.player.video.currentTime=this.items[b].begin}},{key:"createElement",value:function(){return this.element=(0,j["default"])("<div />").addClass("leplayer-sections"),this.options.fullscreenOnly&&this.element.addClass("leplayer-sections--fsonly"),this.element.append(this._createSections(this.options.items)),this.element}},{key:"updateSectionDuration",value:function(){if(null!=this.items&&this.items.length>0){var a=this.items.length;this.items[a-1].end=this.player.video.duration}}},{key:"onSectionClick",value:function(a){var b=this.player.video,c=(0,j["default"])(a.target).closest(".leplayer-section");b.currentTime=c.attr("data-begin"),this.player.trigger("sectionsclick",{section:this.items[c.attr("data-index")]})}},{key:"setActiveByIndex",value:function(a){if(0==this.activeSection.length||this.activeSection.attr("data-index")==a||0==this.getSectionByIndex(a).length)return this;this.activeSection.removeClass("leplayer-section--active"),this.activeSection=this.getSectionByIndex(a),this.activeSection.addClass("leplayer-section--active");var b=this.activeSection.position().top;return this.element.animate({scrollTop:this.element.scrollTop()+b},800),this.player.trigger("sectionschange",{section:this.items[a]}),this}},{key:"getSectionByIndex",value:function(a){return this.element.find('.leplayer-section[data-index="'+a+'"]')}},{key:"onTimeUpdate",value:function(a,b){if(0!=this.activeSection.length){var c=b.time;if("mini"===this.player.getView()){var d=this.activeSection.attr("data-end");this.activeSection.next().find(".time").text((0,m.secondsToTime)(d-c))}for(var e=0;e<this.items.length;e++){var f=this.items[e];if(c<f.end){this.setActiveByIndex(e);break}}}}},{key:"_onSectionsToggle",value:function(a,b){this.element.hasClass("leplayer-sections--hidden")&&b.checked?this.element.removeClass("leplayer-sections--hidden"):b.checked||this.element.addClass("leplayer-sections--hidden")}},{key:"createSection",value:function(a,b){var c=this.items||this.options.items,d=('\n\t\t\t<div class="leplayer-section '+(b?"":"leplayer-section--active")+'"\n\t\t\t\tdata-begin="'+a.begin+'"\n\t\t\t\tdata-index="'+b.toString()+'"\n\t\t\t\tdata-end="'+a.end+'">\n\t\t\t\t<div class="leplayer-section-time">'+(0,m.secondsToTime)(a.begin)+'</div>\n\t\t\t\t<div class="leplayer-section-info">\n\t\t\t\t\t<div class="leplayer-section-next-info">\n\t\t\t\t\t\t'+(a.nextInfo||"Следующая секция начнется через")+'\n\t\t\t\t\t\t<span class="time">'+(0,m.secondsToTime)(c[0].end)+"</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t"+(null!=a.title?'<div class="leplayer-section-title">'+a.title+"</div>":"")+"\n\t\t\t\t\t"+(null!=a.description?'<div class="leplayer-section-description">'+a.description+"</div>":"")+"\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t").trim();return d}},{key:"updateSection",value:function(a,b){this.getSectionByIndex(b).replaceWith(this.createSection(a,b)).on("click",this.onSectionClick.bind(this))}},{key:"_createSections",value:function(a){var b=this,c="";return a.forEach(function(a,d){c+=b.createSection(a,d)}),c}}]),b}(l["default"]);l["default"].registerComponent("Sections",n),b["default"]=n},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(1),j=d(i),k=c(3),l=d(k),m=function(a){function b(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(this,b);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return null!=d.player._error&&(d.message=d.player._error.message,d.element.show()),d.player.on("error",d.onPlayerError.bind(d)),d}return g(b,a),h(b,[{key:"createElement",value:function(){this.element=(0,j["default"])("<div />").addClass("leplayer-error-display")}},{key:"onPlayerError",value:function(a,b){var c=b.error;this.message=c.message,this.element.show()}},{key:"message",set:function(a){this.element.html(a)}}]),b}(l["default"]);l["default"].registerComponent("ErrorDisplay",m),b["default"]=m},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(1),j=d(i),k=c(3),l=d(k),m=function(a){function b(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e(this,b),c=j["default"].extend({},{imgUrl:a.options.poster},c),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return g(b,a),h(b,[{key:"createElement",value:function(){this.element=(0,j["default"])("<div />").css("background-image",'url("'+this.options.imgUrl+'")').addClass("leplayer-poster")}}]),b}(l["default"]);l["default"].registerComponent("Poster",m),b["default"]=m},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});for(var c={},d=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],e=d[0],f=void 0,g=0;g<d.length;g++)if(d[g][1]in document){f=d[g];break}if(f)for(var h=0;h<f.length;h++)c[e[h]]=f[h];b["default"]=c},function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(){c(this,a)}return d(a,null,[{key:"get",value:function(a,b){var c=document.cookie.split(";");for(var d in c){var e=c[d].trim().split("=");if(e[0]=="leplayer_"+a)return e[1]}return b}},{key:"set",value:function(a,b){var c=new Date;c.setDate(c.year+1),document.cookie="leplayer_"+a+"="+b+";expires="+c.toString()}}]),a}();b["default"]=e},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=c(1),h=d(g),i=function k(a){return e(this,k),a instanceof k?a:("number"==typeof a?this.code=a:"string"==typeof a?this.message=a:"object"===("undefined"==typeof a?"undefined":f(a))&&("number"==typeof a.code&&(this.code=a.code),h["default"].extend(this,a)),void(this.message||(this.message=k.defaultMessages[this.code]||"")))};i.prototype.code=0,i.prototype.message="",i.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],i.defaultMessages={1:"Вы прервали загрузку видео.",2:"Загрузка видео прервана из-за потери соединения.",3:"Загрузка видео остановлена из-за проблем с видеофайлом или из-за того, что ваш браузер не поддерживает воспроизведение данного файла.",4:"Видео не может быть загружено из-за проблем с интернет-соединением или проблем на сервере. Или формат файла не поддерживается вашим браузером.",5:"Видео зашифровано, и мы не можем его расшифровать."};for(var j=0;j<i.errorTypes.length;j++)i[i.errorTypes[j]]=j,i.prototype[i.errorTypes[j]]=j;b["default"]=i},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(1),j=d(i),k=c(3),l=d(k),m=c(2),n=d(m),o=function(a){function b(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(this,b),c=j["default"].extend({},{iconName:"play",title:"Воспроизвести видео",className:"play",name:"play"},c);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.player.on("play",function(a){d.play()}),d.player.on("pause",function(a){d.pause()}),d}return g(b,a),h(b,[{key:"pause",value:function(){this.icon.iconName="play",this.element.attr("title",this.options.title)}},{key:"play",value:function(){this.icon.iconName="pause",this.element.attr("title","Поставить на паузу")}},{key:"onClick",value:function(a){this.player.video.togglePlay()}}]),b}(n["default"]);l["default"].registerComponent("PlayControl",o),n["default"].registerControl("play",o),b["default"]=o},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function s(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:s(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},j=c(1),k=d(j),l=c(3),m=d(l),n=c(2),o=d(n),p=c(19),q=d(p),r=function(a){function b(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(this,b),c=k["default"].extend({},{iconName:"volume-down",className:"volume-control",name:"volume"},c);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.player.on("volumechange",function(a,b){d.value=b.volume}),d}return g(b,a),h(b,[{key:"createElement",value:function(){var a=this;i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"createElement",this).call(this);var c=!1;return this.marker=(0,k["default"])("<div/>").addClass("volume-marker"),this.active=(0,k["default"])("<div/>").addClass("volume-active"),this.line=(0,k["default"])("<div/>").addClass("volume-line").append(this.active).append(this.marker).on("click",function(b){if(!c){var d=a.getPosition(b.pageY);d>=0&&d<=1&&(a.player.video.volume=1-d)}}),this.dropdownContent.addClass("volume-slider").append(this.line),this.icon.element.attr("title","Отключить звук"),this.marker.on("mousedown",function(a){1==a.which&&(c=!0)}),(0,k["default"])(document).on({mousemove:function(b){if(c){var d=a.getPosition(b.pageY);d>=0&&d<=1&&(a.player.video.volume=1-d)}},mouseup:function(a){c=!1}}),this.element}},{key:"toggleMuted",value:function(){var a=this.player.video;0==a.volume?a.volume=a.defaultVolume:a.volume=0}},{key:"getPosition",value:function(a){return(a-this.line.offset().top)/this.line.height()}},{key:"onClick",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onClick",this).call(this,a),this.toggleMuted()}},{key:"onPlayerInited",value:function(){this.value=this.player.video.defaultVolume}},{key:"value",set:function(a){this.icon.iconName=this.player._calcVolumeIcon(a);var b=Math.round(100*a).toString()+"%";this.active.css("height",b),this.marker.css("bottom",b)}}]),b}(q["default"]);m["default"].registerComponent("VolumeControl",r),o["default"].registerControl("volume",r),b["default"]=r},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function q(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:q(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},j=c(1),k=d(j),l=c(2),m=d(l),n=c(3),o=d(n),p=function(a){function b(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return g(b,a),h(b,[{key:"createElement",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"createElement",this).call(this),this.dropdownContent=(0,k["default"])("<div />").addClass("control-dropdown__content"),this.element.append(this.dropdownContent)}},{key:"buildCSSClass",value:function(){return"control-dropdown "+i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"buildCSSClass",this).call(this)}},{key:"_onClick",value:function(a){(0,k["default"])(a.target).closest(this.dropdownContent).length>0||i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_onClick",this).call(this,a)}}]),b}(m["default"]);o["default"].registerComponent("ControlDropdown",p),m["default"].registerControl("dropdown",p),b["default"]=p},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function x(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:x(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},j=c(1),k=d(j),l=c(3),m=d(l),n=c(2),o=d(n),p=c(21),q=d(p),r=c(22),s=d(r),t=c(23),u=d(t),v=c(7),w=function(a){function b(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(this,b),c=k["default"].extend({},{name:"timeline",className:"timeline timeline-container"},c);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.marker.element.on("leplayer_mousemove",d._onMarkerMousemove.bind(d)),d.marker.element.on("leplayer_mousedown",d._onMarkerMousedown.bind(d)),d.player.on("sectionsinit",d.onSectionsInit.bind(d)),d.player.on("timeupdate",d._onTimeUpdate.bind(d)),d.player.on("timeupdateload",d._onTimeUpdate.bind(d)),d.player.on("durationchange",d._onDurationChange.bind(d)),d}return g(b,a),h(b,[{key:"_onMarkerMousedown",value:function(a){this.markerShadow.element.hide()}},{key:"_onMarkerMousemove",value:function(a,b){var c=b.x,d=this.getPosition(c),e=this.player.video;d>0&&d<1&&(this.marker.markerTime.show().html((0,v.secondsToTime)(e.duration*d)),e.seek(e.duration*d))}},{key:"_onTimeUpdate",value:function(a,b){var c=b.time,d=this.player.video.duration;this.hardMove(c/d)}},{key:"createElement",value:function(){var a=this;i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"createElement",this).call(this);var c=this.player.video;this.drag=!1,this.currentTime=new q["default"](this.player,{className:"time-current"}),this.currentTime.text="00:00",this.totalTime=new q["default"](this.player,{className:"time-total"}),this.marker=new u["default"](this.player,{drag:!0}),this.markerShadow=new u["default"](this.player,{className:"shadow"}),this.markerShadow.element.hide(),this.playedRanges=(0,k["default"])("<div />").addClass("time-played"),this.bufferedRanges=new s["default"](this.player).element,this.line=(0,k["default"])("<div />").addClass("timeline").append(this.marker.element).append(this.markerShadow.element).append(this.playedRanges).append(this.bufferedRanges).on({mousemove:function(b){if(!a.marker.drag){var d=a.getPosition(b.pageX);d>0&&d<1?(a.markerShadow.element.show().css("left",100*d+"%"),a.markerShadow.markerTime.show().html((0,v.secondsToTime)(c.duration*d))):a.markerShadow.element.hide()}},mouseleave:function(b){a.drag||a.markerShadow.element.hide()},mousedown:function(a){},click:this._onLineClick.bind(this),touchmove:function(a){}}),this.element.addClass("timeline-container").append((0,k["default"])("<div />").addClass("timeline-subcontainer").append(this.currentTime.element).append(this.line).append(this.totalTime.element))}},{key:"_onClick",value:function(a){a.preventDefault()}},{key:"_onLineClick",value:function(a){if(1===a.which&&!this.drag){var b=this.player.video;this.hardMove(this.getPosition(a.pageX)),b.currentTime=b.duration*this.getPosition(a.pageX)}}},{key:"onSectionsInit",value:function(a){var b=this.player.video.duration;isNaN(b)||this.player.sections&&this.updateSectionRanges(this.player.sections.items)}},{key:"updateSectionRanges",value:function(a){null==this.sections||0==this.sections.length?(this.sections=this.createSectionRanges(a),this.line.append(this.sections)):this.sections.html(this.createSectionRanges(a))}},{key:"createSectionRanges",value:function(a){var b=this.player.video.duration,c=(0,k["default"])("<div />").addClass("leplayer-timeline-sections");return a.forEach(function(a){var d=a.end-a.begin,e=(0,k["default"])("<div />").addClass("leplayer-timeline-section").css({width:d/b*100+"%",left:a.begin/b*100+"%"});c.append(e)}),c}},{key:"getPosition",value:function(a){return(a-this.line.offset().left)/this.line.width()}},{key:"hardMove",value:function(a){var b=this.player.video.duration*a;isNaN(b)||(a=100*a,this.marker.element.css("left",a+"%"),this.playedRanges.css("width",a+"%"),this.currentTime.text=(0,v.secondsToTime)(b))}},{key:"move",value:function(){var a=this.player.video,b=(a.currentTime/a.duration*100).toFixed(2),c=a.currentTime;
isNaN(c)||(this.marker.element.css("left",b+"%"),this.playedRanges.css("width",b+"%"),this.currentTime.text=(0,v.secondsToTime)(c))}},{key:"updateLabels",value:function(){var a=this.player.video;this.totalTime.text=(0,v.secondsToTime)(0,Math.floor(a.duration/3600)>0);var b=this.totalTime.element.width();this.totalTime.text=(0,v.secondsToTime)(a.duration),this.currentTime.text=(0,v.secondsToTime)(a.currentTime||0),this.currentTime.element.css({width:b})}},{key:"onPlayerInited",value:function(a){this.updateLabels(),this.player.sections&&this.updateSectionRanges(this.player.sections.items)}},{key:"_initWatchBuffer",value:function(){var a=this;clearInterval(this.watchBufferInterval);var b=this.player.video,c=function(){var c=1,d=0,e=(0,k["default"])("");b.loaded.forEach(function(a){var b=(0,k["default"])("<div />").addClass("time-buffered");b.css({left:100*a[d]+"%",width:100*(a[c]-a[d])+"%"}),e=e.add(b)}),a.buffered.html(e),b.loaded.length&&1-b.loadedSize<=.05&&clearInterval(a.watchBufferInterval)};this.watchBufferInterval=setInterval(c,500)}},{key:"_onDurationChange",value:function(){this.updateLabels(),this.player.sections&&this.updateSectionRanges(this.player.sections.items)}}]),b}(o["default"]);m["default"].registerComponent("TimelineControl",w),o["default"].registerControl("timeline",w),b["default"]=w},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function q(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:q(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},j=c(1),k=d(j),l=c(2),m=d(l),n=c(3),o=d(n),p=function(a){function b(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e(this,b),c=k["default"].extend({},{className:""},c),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return g(b,a),h(b,[{key:"createElement",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"createElement",this).call(this)}},{key:"buildCSSClass",value:function(){return"control-text "+this.options.className}},{key:"text",set:function(a){this._text=a,this.element.html(a)},get:function(){return this._text}}]),b}(m["default"]);o["default"].registerComponent("ControlText",p),m["default"].registerControl("text",p),b["default"]=p},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(7),j=c(3),k=d(j),l=function(a){function b(a,c){e(this,b);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.player.on("progress",d.update.bind(d)),d.player.on("seeked",d.update.bind(d)),d}return g(b,a),h(b,[{key:"createElement",value:function(){return this.range=(0,i.createEl)("div",{className:"leplayer-timeline-buffered__range"}),this.element=(0,i.createEl)("div",{className:"leplayer-timeline-buffered"}).append(this.range)}},{key:"update",value:function(){var a=this.player.video.buffered,b=this.player.video.duration,c=0;a.length>0&&(c=a.end(a.length-1)),b>0&&this.range.css({width:100*(0,i.percentify)(c,b)+"%"})}}]),b}(k["default"]);k["default"].registerComponent("BufferedRanges",l),b["default"]=l},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(1),j=d(i),k=c(3),l=d(k),m=function(a){function b(a,c){e(this,b),c=j["default"].extend({},{drag:!1,className:""},c);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.element.on("mousedown",d._onMousedown.bind(d)),(0,j["default"])(document).on({mousemove:function(a){d.drag&&d.element.trigger("leplayer_mousemove",{x:a.pageX})},mouseup:function(a){d.drag&&(d.drag=!1,d.markerTime.hide(),d.element.trigger("leplayer_mouseup",{x:a.pageX}))}}),d}return g(b,a),h(b,[{key:"_onMousedown",value:function(a){1===a.which&&(a.preventDefault(),this.options.drag&&(this.drag=!0),this.element.trigger("leplayer_mousedown"))}},{key:"createElement",value:function(){return this.markerTime=(0,j["default"])("<div />").addClass("time").hide(),this.element=(0,j["default"])("<div />").addClass("time-marker "+this.options.className).append(this.markerTime)}},{key:"drag",set:function(a){this._drag=a,this.element.toggleClass("time-marker--drag",a)},get:function(){return this._drag}}]),b}(l["default"]);l["default"].registerComponent("Marker",m),b["default"]=m},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function s(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:s(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},j=c(1),k=d(j),l=c(3),m=d(l),n=c(2),o=d(n),p=c(25),q=d(p),r=function(a){function b(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(this,b),c=k["default"].extend({},{iconName:"list-ul",className:"section",name:"section",title:"Показать/скрыть секции",disable:!0},c);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.player.on("sectionsinit",d._onSectionsInit.bind(d)),d}return g(b,a),h(b,[{key:"onChecked",value:function(a,c){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onChecked",this).call(this,a),this.player.trigger("sectionstoggle",{checked:c.checked,view:this.player.getView()})}},{key:"_onSectionsInit",value:function(a){this.options.disable=this.disable=!1,this.checked=!0}}]),b}(q["default"]);m["default"].registerComponent("SectionControl",r),o["default"].registerControl("section",r),b["default"]=r},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function o(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:o(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},j=c(2),k=d(j),l=c(3),m=d(l),n=function(a){function b(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(this,b);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.checked=d.options.checked||!1,d.element.on("leplayer_checked",d.onChecked.bind(d)),d}return g(b,a),h(b,[{key:"onClick",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onClick",this).call(this,a),this.checked=!this.checked}},{key:"onChecked",value:function(a,b){}},{key:"buildCSSClass",value:function(){return"control-checkbox "+i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"buildCSSClass",this).call(this)}},{key:"checked",set:function(a){this.disable||(a=!!a,this._checked=a,this.element.toggleClass("control-checkbox--checked",a),this.element.trigger("leplayer_checked",{checked:a}))},get:function(){return this._checked}}]),b}(k["default"]);m["default"].registerComponent("ControlCheckbox",n),k["default"].registerControl("checkbox",n),b["default"]=n},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function q(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:q(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},j=c(1),k=d(j),l=c(3),m=d(l),n=c(2),o=d(n),p=function(a){function b(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e(this,b),c=k["default"].extend({},{iconName:"arrows-alt",className:"fullscreen",title:"Развернуть/свернуть на полный экран",name:"fullscreen"},c),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return g(b,a),h(b,[{key:"onClick",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onClick",this).call(this,a),this.player.toggleFullscreen()}}]),b}(o["default"]);m["default"].registerComponent("FullscreenControl",p),o["default"].registerControl("fullscreen",p),b["default"]=p},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function u(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:u(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},j=c(1),k=d(j),l=c(3),m=d(l),n=c(2),o=d(n),p=c(21),q=d(p),r=c(15),s=d(r),t=function(a){function b(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(this,b),c=k["default"].extend({},{className:"control-container"},c);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.player.on("ratechange",function(a,b){d.value=b.rate}),d}return g(b,a),h(b,[{key:"createElement",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"createElement",this).call(this);var a=this.player.video;this.downControl=new o["default"](this.player,{className:"rate-down",name:"rate-down",iconName:"backward",collection:this.options.collection,title:"Уменьшить скорость проигрывания",onClick:function(b){a.rate-=this.player.options.rate.step}}),this.upControl=new o["default"](this.player,{className:"rate-up",name:"rate-up",iconName:"forward",collection:this.options.collection,title:"Увеличить скорость проигрывания",onClick:function(b){a.rate+=this.player.options.rate.step}}),this.currentRate=new q["default"](this.player,{className:"rate-current",onClick:function(b){a.rate=this.player.options.rate["default"]}}),this.element.append(this.downControl.element).append(this.currentRate.element).append(this.upControl.element)}},{key:"buildCSSClass",value:function(){return this.options.className}},{key:"onPlayerInited",value:function(){this.value=this.player.video.defaultRate}},{key:"_onClick",value:function(a){a.preventDefault()}},{key:"init",value:function(){var a=s["default"].get("rate",this.player.options.rate["default"]);this.show(a)}},{key:"show",value:function(a){var b=this.player.video;a=a||b.rate,a=parseFloat(a).toFixed(2).toString().replace(/,/g,"."),this.currentRate.text="×"+a}},{key:"value",set:function(a){var b=this.player.video,c=this.player.options;return!this.disable&&(this.upControl.disable=!1,this.downControl.disable=!1,b.rate<=c.rate.min?this.downControl.disable=!0:b.rate>=c.rate.max&&(this.upControl.disable=!0),void this.show())}},{key:"disable",set:function(a){this._disable=a,this.downControl.disable=a,this.upControl.disable=a}}]),b}(o["default"]);m["default"].registerComponent("RateControl",t),o["default"].registerControl("rate",t),b["default"]=t},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function q(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:q(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},j=c(1),k=d(j),l=c(3),m=d(l),n=c(2),o=d(n),p=function(a){function b(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e(this,b),c=k["default"].extend({},{iconName:"undo",className:"backward",name:"backward",title:"Отмотать назад на "+a.options.playback.step.medium+" секунд"},c),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return g(b,a),h(b,[{key:"onClick",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onClick",this).call(this,a),this.player.video.currentTime-=this.player.options.playback.step.medium,this.player.splashIcon.show("undo")}}]),b}(o["default"]);m["default"].registerComponent("BackwardControl",p),o["default"].registerControl("backward",p),b["default"]=p},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function s(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:s(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},j=c(1),k=d(j),l=c(3),m=d(l),n=c(2),o=d(n),p=c(30),q=d(p),r=function(a){function b(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e(this,b),c=k["default"].extend({},{name:"source",iconName:"bullseye",title:"Качество",className:"source-control",disable:!0},c),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return g(b,a),h(b,[{key:"onClick",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onClick",this).call(this,a);var c=this.getByIndex(0);this.player.video.source={url:c.data("url"),title:c.data("title")},this.active=c}},{key:"onItemClick",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onItemClick",this).call(this,a);var c=(0,k["default"])(a.target);this.player.video.source={url:c.data("url"),title:c.data("title")}}},{key:"onPlayerInited",value:function(a,b){var c=this,d=this.player.options.sources;d.length>1&&(d.forEach(function(a){c.addItem(a.title,{url:a.url,title:a.title})}),this.setActiveByIndex(0),this.disable=!1)}}]),b}(q["default"]);m["default"].registerComponent("SourceControl",r),o["default"].registerControl("source",r),b["default"]=r},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function s(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:s(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},j=c(1),k=d(j),l=c(3),m=d(l),n=c(2),o=d(n),p=c(19),q=d(p),r=function(a){function b(a,c){e(this,b);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d._active=null,d.list=[],d}return g(b,a),h(b,[{key:"getByIndex",value:function(a){return this.list[a]}},{key:"setActiveByIndex",value:function(a){return this.active&&this.active.removeClass("control-container__item--active"),this._active=this.list[a].addClass("control-container__item--active"),this._active}},{key:"addItem",value:function(a,b){var c=(0,k["default"])("<div />").addClass("control-container__item").data(b).on("click",this.onItemClick.bind(this)).append(a);return this.list.push(c),this.dropdownContent.append(c),c}},{key:"onItemClick",value:function(a){this.active=a.currentTarget}},{key:"buildCSSClass",value:function(){return i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"buildCSSClass",this).call(this)+" control-container"}},{key:"active",get:function(){var a=this;return this._active&&this._active.length>0?this._active:(this.list.forEach(function(b){b.hasClass("control-container__item--active")&&(a._active=b)}),this._active)},set:function(a){return this.active&&this.active.removeClass("control-container__item--active"),a&&(0,k["default"])(a).addClass("control-container__item--active"),this._active=a,this._active}}]),b}(q["default"]);m["default"].registerComponent("ControlContainer",r),o["default"].registerControl("container",r),b["default"]=r},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function s(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:s(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},j=c(1),k=d(j),l=c(3),m=d(l),n=c(2),o=d(n),p=c(30),q=d(p),r=function(a){function b(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e(this,b),c=k["default"].extend({},{iconName:"commenting-o",title:"Субтитры",name:"subtitle",className:"subtitle-control",disable:!0},c),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return g(b,a),h(b,[{key:"onClick",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onClick",this).call(this,a);var c=this.player.video;this.active=null,c.track=-1}},{key:"onItemClick",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onItemClick",this).call(this,a);var c=(0,k["default"])(a.target),d=this.player.video;c.data("language")&&(d.track=c.data("language"))}},{key:"onPlayerInited",value:function(a,b){var c=this.player.video;if(c.subtitles.length>0){for(var d in c.subtitles)if(c.subtitles.hasOwnProperty(d)){var e=c.subtitles[d];this.addItem(e.title,{src:e.src,language:e.language})}this.disable=!1}}}]),b}(q["default"]);m["default"].registerComponent("SubtitleControl",r),o["default"].registerControl("subtitle",r),b["default"]=r},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function s(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:s(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},j=c(1),k=d(j),l=c(2),m=d(l),n=c(3),o=d(n),p=c(4),q=d(p),r=function(a){function b(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(this,b),c=k["default"].extend({title:"Скачать видео",className:"download",name:"download"},c);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.player.on("loadstart",d.onLoadStart.bind(d)),d}return g(b,a),h(b,[{key:"createElement",value:function(){this.element=(0,k["default"])("<a />").attr({href:"",target:"_blank",download:!0,title:this.options.title}).addClass(this.buildCSSClass()).append(new q["default"](this.player,{iconName:"download"}).element)}},{key:"buildCSSClass",value:function(){return""+i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"buildCSSClass",this).call(this)}},{key:"onLoadStart",value:function(a,b){this.link=this.player.video.source.url}},{key:"link",set:function(a){var b=document.createElement("a");b.href=a;var c=b.pathname.split("/");c=c[c.length-1],this.element.attr({href:a,download:c})}}]),b}(m["default"]);o["default"].registerComponent("DownloadControl",r),m["default"].registerControl("download",r),b["default"]=r},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function s(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:s(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},j=c(1),k=d(j),l=c(3),m=d(l),n=c(2),o=d(n),p=c(19),q=d(p),r=function(a){function b(a,c){return e(this,b),c=k["default"].extend({},{iconName:"info",title:"Инфо",className:"info-control",name:"info"},c),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return g(b,a),h(b,[{key:"createElement",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"createElement",this).call(this);var a=this.player.options.keyBinding,c="";for(var d in a)if(a.hasOwnProperty(d)){var e=a[d],f="",g="";e.info.forEach(function(a,b){0!=b&&(g+=" + "),g+='<kbd class="leplayer-key">'+a+"</kbd>"}),f='\n\t\t\t\t<div class="info-control__item">\n\t\t\t\t\t'+g+" - "+e.description+"\n\t\t\t\t</div>\n\t\t\t",c+=f}this.dropdownContent.addClass("info-control__content").append(c)}}]),b}(q["default"]);m["default"].registerComponent("KeyBindingInfoControl",r),o["default"].registerControl("keybinding info",r),b["default"]=r},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(1),j=d(i),k=c(3),l=d(k),m=c(2),n=d(m),o=c(21),p=d(o),q=c(7),r=function(a){function b(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(this,b),c=j["default"].extend({},{className:"timeline timeline-container",name:"time-info"},c);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.player.on("timeupdate",function(a,b){var c=b.time;d._currentTimeControl.text=(0,q.secondsToTime)(c)}),d}return g(b,a),h(b,[{key:"createElement",value:function(){return this._currentTimeControl=new p["default"](this.player,{className:"control-time__current"}),this._totalTimeControl=new p["default"](this.player,{className:"control-time__total"}),this.element=(0,j["default"])("<div/>").addClass("control-time"),
this.element.append(this._currentTimeControl.element).append(this._totalTimeControl.element),this.element}},{key:"onPlayerInited",value:function(a){var b=this.player.video;this._currentTimeControl.text=(0,q.secondsToTime)(b.currentTime),this._totalTimeControl.text=(0,q.secondsToTime)(b.duration)}},{key:"_onClick",value:function(a){a.preventDefault()}},{key:"currentTime",set:function(a){}}]),b}(n["default"]);l["default"].registerComponent("TimeInfoControl",r),n["default"].registerControl("timeinfo",r),b["default"]=r}]);