!function(a){"use strict";var b=function(b,c){var d=a.extend(!0,{autoplay:!1,height:"auto",loop:!1,muted:!1,preload:"metadata",poster:null,width:"auto",rate:{step:.25,min:.5,max:4},playback:{step:{"short":5,medium:30,"long":60}},volume:{step:.1},controls:[{element:null,controls:["play","volume","divider","timeline","divider","fullscreen"]},{element:null,controls:["rate","divider","backward","divider","sources","divider","subtitles","divider","download"]}]},c),e=[],f=[],g=null,h={},i=null,j=null,k=function(a,b){var c=document.cookie.split(";");for(var d in c){var e=c[d].trim().split("=");if(e[0]=="leplayer_"+a)return e[1]}return b},l=function(a,b){var c=new Date;c.setDate(c.year+1),document.cookie="leplayer_"+a+"="+b+";expires="+c.toString()},m=function(b,c){return a("<div />").addClass("control "+b).append(a("<i />").addClass("fa fa-"+c))},n=function(b){switch(b){case"backward":return h.backward=m("backward","undo").click(function(){x(g.currentTime-d.playback.step.medium>0?g.currentTime-d.playback.step.medium:0)}),h.backward;case"divider":return a("<div />").addClass("divider");case"download":return h.download=a("<a />").attr("href","").attr("target","_blank").attr("download",e[0]).addClass("control download").append(a("<i />").addClass("fa fa-download")),h.download;case"forward":return h.forward=m("forward","redo"),h.forward;case"fullscreen":return h.fullscreen=m("fullscreen","arrows-alt").click(function(){v()}),h.fullscreen;case"play":return h.play=m("play","play").click(function(){u()}),h.play;case"rate":return h.rate={down:a("<div />").addClass("control rate-down").append(a("<i />").addClass("fa fa-backward")).click(function(){h.rate.decrease()}),up:a("<div />").addClass("control rate-down").append(a("<i />").addClass("fa fa-forward")).click(function(){h.rate.increase()}),current:a("<div />").addClass("control-text rate-current"),display:function(){this.current.html("Ã—"+g.playbackRate.toFixed(2))},increase:function(){g.playbackRate<d.rate.max?(this.down.removeClass("disabled"),g.playbackRate+=d.rate.step,this.display(),l("rate",g.playbackRate)):this.up.addClass("disabled")},decrease:function(){g.playbackRate>d.rate.min?(this.up.removeClass("disabled"),g.playbackRate-=d.rate.step,this.display(),l("rate",g.playbackRate)):this.down.addClass("disabled")}},a("<div />").addClass("control-container").append(h.rate.down).append(h.rate.current).append(h.rate.up);case"sources":if(e.length>1){h.sources={list:[],icon:a("<div />").addClass("control-icon").append(a("<i />").addClass("fa fa-bullseye")),setActive:function(a){for(var b in this.list)this.list[b].data("index")==a?this.list[b].addClass("active"):this.list[b].removeClass("active")}};var c=a("<div/>").addClass("control-inner");for(var i in e)h.sources.list.push(a("<div />").addClass("inner-item").data("index",i).html(e[i].title).click(function(){y(a(this).data("index"))}));for(var i in h.sources.list)c.append(h.sources.list[i]);return a("<div />").addClass("control control-container").append(h.sources.icon).append(c)}return null;case"subtitles":if(f.length>0){h.subtitles={list:[],icon:a("<div />").addClass("control-icon").append(a("<i />").addClass("fa fa-commenting-o")).click(function(){z(""),a(this).html(a("<i />").addClass("fa fa-commenting-o"))})};var c=a("<div/>").addClass("control-inner");for(var i in f)h.subtitles.list.push(a("<div />").addClass("inner-item").data("src",f[i].src).data("language",f[i].language).html(f[i].title).click(function(){z(a(this).data("language")),h.subtitles.icon.html(a(this).html())}));for(var i in h.subtitles.list)c.append(h.subtitles.list[i]);return a("<div />").addClass("control control-container").append(h.subtitles.icon).append(c)}return null;case"timeline":return h.time={current:a("<div />").addClass("control-text time-current").html("00:00"),total:a("<div />").addClass("control-text time-total"),line:a("<div />").addClass("timeline").click(function(a){x(g.duration*h.time.getPosition(a.pageX))}).mousemove(function(a){var b=h.time.getPosition(a.pageX);b>0&&1>b?(h.time.markerShadow.show(),h.time.markerShadow.css("left",100*b+"%"),h.time.markerShadowTime.html(w(g.duration*b))):h.time.markerShadow.hide()}).mouseleave(function(){h.time.markerShadow.hide()}),marker:a("<div />").addClass("time-marker"),markerShadow:a("<div />").addClass("time-marker shadow").append().hide(),markerShadowTime:a("<div/>").addClass("time"),played:a("<div />").addClass("time-played"),move:function(){var a=(g.currentTime/g.duration*100).toFixed(2)+"%";this.marker.css("left",a),this.played.css("width",a),this.current.html(w(g.currentTime))},getPosition:function(a){return(a-this.line.offset().left)/this.line.width()}},h.time.line.append(h.time.marker).append(h.time.markerShadow.append(h.time.markerShadowTime)).append(h.time.played),a("<div />").addClass("timeline-container").append(a("<div />").addClass("timeline-subcontainer").append(h.time.current).append(h.time.line).append(h.time.total));case"volume":var j=!1,n={bottom:0,height:0,top:0};return h.volume={active:a("<div/>").addClass("volume-active"),marker:a("<div/>").addClass("volume-marker").on("mousedown",function(a){j=!0,n.height=h.volume.line.height(),n.top=h.volume.line.offset().top,n.bottom=n.top+n.height}),icon:a("<div/>").addClass("control-icon").append(a("<i />").addClass("fa fa-volume-down")).click(function(){h.volume.toggleMuted()}),set:function(a){var b=this.icon.children(".fa").eq(0);b.removeClass(),.05>a?(g.muted=!0,b.addClass("fa fa-volume-off")):(g.muted=!1,g.volume=a,.5>a?b.addClass("fa fa-volume-down"):b.addClass("fa fa-volume-up"),l("volume",a));var c=Math.round(100*a).toString()+"%";this.active.css("height",c),this.marker.css("bottom",c)},toggleMuted:function(){1==g.muted?this.set(k("volume",.4)):this.set(0)}},h.volume.line=a("<div/>").addClass("volume-line").append(h.volume.active).append(h.volume.marker).click(function(a){n.height=h.volume.line.height(),n.top=h.volume.line.offset().top,n.bottom=n.top+n.height,a.pageY>=n.top&&a.pageY<=n.bottom&&h.volume.set((n.bottom-a.pageY)/n.height)}),h.volume.container=a("<div />").addClass("control control-container").append(h.volume.icon).append(a("<div />").addClass("control-inner volume-slider").append(h.volume.line)),a(document).on("mousemove",function(a){j&&a.pageY>=n.top&&a.pageY<=n.bottom&&h.volume.set((n.bottom-a.pageY)/n.height)}).on("mouseup",function(a){j=!1}),h.volume.container;default:return null}},o=function(){if("video"!=b.prop("tagName").toLowerCase())return console.warn("Incorrect element selected."),this;if(b.children("source").each(function(){var b=a(this).attr("src");b&&e.push({src:b,title:a(this).attr("title")})}),0==e.length){var c=b.attr("src");c&&e.push(b.attr("src"))}return 0==e.length?(console.warn("No sources found."),this):(s(),q(),t(),p(),r(),void y(0))},p=function(){for(var b in d.controls){var c=d.controls[b].element,e=!1;if(null==c&&(c=a("<div />").addClass("leplayer-controls")),0==c.length)console.warn("Error creating controls.");else{for(var f in d.controls[b].controls){var j=n(d.controls[b].controls[f]);null!=j&&j.length>0?(c.append(j),"timeline"==d.controls[b].controls[f]&&(e=!0)):console.warn("Cannot create "+d.controls[b].controls[f]+" control.")}e||c.css("width","1px"),i.append(c)}}g.playbackRate=k("rate",1),h.rate.display(),h.volume.set(k("volume",.4)),h.time.line.width()<20&&h.time.line.hide()},q=function(){j=a("<div />").addClass("play-overlay");var c=a("<div />").addClass("leplayer-video").append(j);i=a("<div />").addClass("leplayer-container").append(c).css("width",b.width()+"px"),b.before(i),c.append(b),g=b[0],g.addEventListener("loadedmetadata",function(a){j.css("line-height",a.target.clientHeight+"px").html('<i class="fa fa-play"></i>'),i.css("width",a.target.clientWidth+"px"),"undefined"!=typeof h.time&&h.time.total.html(w(g.duration))}),g.ontimeupdate=function(){h.time.move()},j.click(function(){u()})},r=function(){b.keypress(function(a){32==a.charCode&&u()}).click(function(){u()})},s=function(){b.removeAttr("controls");var a=b.attr("height");a&&(d.height=a+"px",b.removeAttr("height")),b.css("height",d.height);var c=b.attr("width");c&&(d.width=c+"px",b.removeAttr("width")),b.css("width",d.width);var e=b.attr("poster");e?d.poster=e:d.poster&&b.attr("poster",d.poster);var f=["autoplay","loop","muted"];for(var g in f){var h=b.attr(f[g]);h?d[f[g]]=!0:d[f[g]]?b.attr(f[g],""):b.removeAttr(f[g]),b.prop(f[g],d[f[g]])}var i=b.attr("preload");i&&(i=i.toLowerCase(),"none"==i||"metadata"==i?d.preload=i:d.preload="auto"),b.attr("preload",d.preload)},t=function(){if(b.children('track[kind="subtitles"]').each(function(){var b=a(this).attr("srclang"),c=a(this).attr("label"),d=a(this).attr("src");c.length>0&&d.length>0&&f.push({title:c,src:d,language:b})}),0==g.textTracks.length&&f.length>0){b.children('track[kind="subtitles"]').remove();for(var c in f)b.append(a("<track/>").attr("label",f[c].title).attr("src",f[c].src).attr("srclang",f[c].language).attr("id",f[c].language).attr("kind","subtitles"))}},u=function(){!g.played||g.paused?(j.hide(),g.play(),"undefined"!=typeof h.play&&h.play.children(".fa").removeClass("fa-play").addClass("fa-pause")):(j.show(),g.pause(),"undefined"!=typeof h.play&&h.play.children(".fa").removeClass("fa-pause").addClass("fa-play"))},v=function(){g.requestFullScreen?g.requestFullScreen():g.webkitRequestFullScreen?g.webkitRequestFullScreen():g.mozRequestFullScreen?g.mozRequestFullScreen():console.warn("Cannot toggle fullscreen.")},w=function(a){var b=Math.floor(a/3600),c=Math.floor(a%3600/60),d=Math.floor(a%3600%60),e="";return b>0&&(e=b+":"),10>c&&(e+="0"),e+=c+":",10>d&&(e+="0"),e+=d},x=function(a){g.currentTime=a},y=function(a){"undefined"!=typeof e[a]&&(b.attr("src",e[a].src),"undefined"!=typeof h.sources&&h.sources.setActive(a),"undefined"!=typeof h.download&&h.download.attr("href",e[a].src))},z=function(a){if(g.textTracks.length>0)for(var b=0;b<g.textTracks.length;b++)g.textTracks[b].language==a?g.textTracks[b].mode="showing":g.textTracks[b].mode="hidden"};return o(),this};a.fn.lePlayer=function(c){return this.each(function(){b(a(this),c)})}}(jQuery);