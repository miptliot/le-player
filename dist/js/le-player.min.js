!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b){"use strict";function c(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function d(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var f=function i(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:i(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(a){var b=function(b,i){var j="backward",k="divider",l="download",m="forward",n="fullscreen",o="play",p="rate",q="source",r="subtitle",s="timeline",t="volume",u=a.extend({},{autoplay:!1,height:"auto",loop:!1,muted:!1,preload:"metadata",poster:null,svgPath:"../dist/svg/svg-defs.svg",width:"auto",fullscreen:{hideTimelineTime:7e3},rate:{step:.25,min:.5,max:4,"default":1},playback:{step:{"short":5,medium:30,"long":60}},controls:{common:[["play","volume","divider","timeline","divider","fullscreen"],["rate","divider","backward","divider","source","divider","subtitle","divider","download"]],fullscreen:[["play","volume","divider","timeline","divider","rate","divider","backward","divider","source","divider","subtitle","divider","download","divider","fullscreen"]]},volume:{"default":.4,mutelimit:.05,step:.1},keyBinding:{play:{key:32,fn:function(a){a.togglePlay()}},backwardMedium:{key:37,fn:function(a){a.currentTime-=u.playback.step.medium}},forwardMedium:{key:39,fn:function(a){a.currentTime+=u.playback.step.medium}},backwardShort:{shiftKey:!0,key:37,fn:function(a){a.currentTime-=u.playback.step["short"]}},forwardShort:{shiftKey:!0,key:39,fn:function(a){a.currentTime+=u.playback.step["short"]}},volumeUp:{key:38,fn:function(a){a.volume+=u.volume.step}},volumeDown:{key:40,fn:function(a){a.volume-=u.volume.step}}}},i),v=function(){function b(){e(this,b),this._collection=Q.fullscreen,this._hideTimeout=null,this.fullscreenEnabled=!1}return h(b,[{key:"enabled",value:function(){return!!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitSupportsFullscreen||document.webkitFullscreenEnabled||document.createElement("video").webkitRequestFullScreen)}},{key:"init",value:function(){var b=this;return this.enabled()?void a(document).on({fullscreenchange:function(a){b.toggleElements(!(!document.fullScreen&&!document.fullscreenElement))},webkitfullscreenchange:function(a){b.toggleElements(!!document.webkitIsFullScreen)},mozfullscreenchange:function(a){b.toggleElements(!!document.mozFullScreen)},msfullscreenchange:function(a){b.toggleElements(!!document.msFullscreenElement)},webkitbeginfullscreen:function(a){b.toggleElements(!0)},webkitendfullscreen:function(a){b.toggleElements(!1)}}):null}},{key:"is",value:function(){return!!(document.fullScreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement||this.fullscreenEnabled)}},{key:"showElements",value:function(){var b=this;R.addClass("fullscreen"),Q.fullscreen.show(),Q.common.hide(),Q.mini.hide(),clearTimeout(this._hideTimeout),this._hideTimeout=setTimeout(function(){b._collection.element.hide()},u.fullscreen.hideTimelineTime),a(R).on({"mousemove.leplayer.fullscreen-hide-timeline":function(c){return a(c.currentTarget).hasClass("fullscreen")?(clearTimeout(b._hideTimeout),b._collection.element.show(),void(b._hideTimeout=setTimeout(function(){b._collection.element.hide()},u.fullscreen.hideTimelineTime))):!1},"mouseleave.leplayer.fullscreen-hide-timeline":function(c){return a(c.currentTarget).hasClass("fullscreen")?(clearTimeout(b._hideTimeout),void b._collection.element.hide()):!1}})}},{key:"hideElements",value:function(){R.removeClass("fullscreen"),Q.fullscreen.hide(),Q.common.show(),Q.mini.hide(),clearTimeout(this._hideTimeout),a(R).off(".leplayer.fullscreen-hide-timeline")}},{key:"toggle",value:function(){var a=R[0];this.is()?(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),this.hideElements(),this.fullscreenEnabled=!1):(a.requestFullScreen?a.requestFullScreen():a.webkitRequestFullScreen?a.webkitRequestFullScreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.msExitFullscreen&&a.msRequestFullscreen(),this.showElements(),this.fullscreEnabled=!0)}},{key:"toggleElements",value:function(a){a?this.showElements():this.hideElements()}}]),b}(),w=function(){function b(a){e(this,b),this._ctx=a,this._video=a[0],this.fullscreen=new v,this.subtitles=[],this.playbackRate=this._video.playbackRate}return h(b,[{key:"init",value:function(){var b=this,c=a.Deferred();return this._initSubtitles(),this._initVideo().done(function(){b.fullscreen.init(),Q.init(),b._initRate(),b._initVolume(),c.resolve()}),this._initCustomEvents(),this._initHtmlEvents(),c.notify(),c.promise()}},{key:"togglePlay",value:function(){return this._video.readyState<2?(S.hide(),void U("Error!")):void(!this._video.played||this._video.paused?this.play():this.pause())}},{key:"seek",value:function(a){this._video.currentTime=a}},{key:"play",value:function(){return S.hide(),Q.play(),this._video.play()}},{key:"pause",value:function(){return S.show(),Q.pause(),this._video.pause()}},{key:"trigger",value:function(b){for(var c,d=arguments.length,e=Array(d>1?d-1:0),f=1;d>f;f++)e[f-1]=arguments[f];(c=a(this._video).trigger).call.apply(c,[a(this._video),b+".leplayer"].concat(e))}},{key:"_initRate",value:function(){this.rate=K.get("rate",u.rate["default"])}},{key:"_initVolume",value:function(){this.volume=K.get("volume",u.volume["default"])}},{key:"_initSubtitles",value:function(){var b=this;this._ctx.children('track[kind="subtitles"]').each(function(){var c=a(this).attr("srclang"),d=a(this).attr("label"),e=a(this).attr("src");d.length>0&&e.length>0&&b.subtitles.push({title:d,src:e,language:c})})}},{key:"_initVideo",value:function(){var b=this,c=a.Deferred();return this._video.readyState>HTMLMediaElement.HAVE_NOTHING?(c.resolve(),this._onLoadedMetaData()):a(this._video).one("loadedmetadata",function(a){c.resolve(),b._onLoadedMetaData()}),c.notify(),c.promise()}},{key:"_onLoadedMetaData",value:function(){if(R.css("width","100%").css("max-width",this._video.clientWidth+"px"),0==this._video.textTracks.length&&this.subtitles.length>0){this._ctx.children('track[kind="subtitles"]').remove();for(var b in this.subtitles)this.subtitles.hasOwnProperty(b)&&this._ctx.append(a("<track/>").attr("label",this.subtitles[b].title).attr("src",this.subtitles[b].src).attr("srclang",this.subtitles[b].language).attr("id",this.subtitles[b].language).attr("kind","subtitles"))}this.trigger("loadedmetadata")}},{key:"_initHtmlEvents",value:function(){var b=this,c=a(this._video),d=null;c.on({timeupdate:function(){Q.moveTimeMarker()},ended:function(){b.pause()},dblclick:function(){clearTimeout(d),b.fullscreen.toggle()},click:function(){clearTimeout(d),d=setTimeout(function(){R.focus(),b.togglePlay()},300)}})}},{key:"_initCustomEvents",value:function(){var b=a(this._video);b.on({"inited.leplayer":function(a){}})}},{key:"currentTime",get:function(){return this._video.currentTime},set:function(a){a>this.duration?this._video.currentTime=this.duration:0>a?this._video.currentTime=0:this._video.currentTime=a}},{key:"duration",get:function(){return this._video.duration}},{key:"height",get:function(){return this._video.clientHeight}},{key:"rate",get:function(){return this._video.playbackRate},set:function(a){a<=u.rate.max&&a>=u.rate.min&&(this._video.playbackRate=a),Q.rate=this._video.playbackRate}},{key:"width",get:function(){return this._video.clientWidth}},{key:"source",set:function(a){var b=this,c=this._video.currentTime,d=this._video.playbackRate,e=!this._video.played||this._video.paused;this._ctx.attr("src",a),this._video=this._ctx[0],this._video.playbackRate=d,this._video.currentTime=c,e?this.pause():this.play(),setTimeout(function(){Q.totalTime=$(b._video.duration)},100)}},{key:"track",set:function(a){for(var b=0;b<this._video.textTracks.length;b++)this._video.textTracks[b].language==a?this._video.textTracks[b].mode="showing":this._video.textTracks[b].mode="hidden"}},{key:"volume",get:function(){return this._video.volume},set:function(a){a>1?this._video.volume=1:a<u.volume.mutelimit?this._video.volume=0:this._video.volume=a,this._video.mute=a<u.volume.mutelimit,Q.volume=this._video.volume}}]),b}(),x=function(){function b(c,d){e(this,b),d&&(this.icon=new N(d),this.icon.element.on({click:this._onIconClick.bind(this),leplayer_icon_click:this.onIconClick.bind(this)})),this.element=a("<div />").addClass("control "+c).append(this.icon&&this.icon.element).on({click:this._onClick.bind(this),leplayer_click:this.onClick.bind(this)})}return h(b,[{key:"disable",value:function(){this.disabled=!0,this.element.addClass("disabled")}},{key:"_onClick",value:function(a){return this.disabled?!1:void this.element.trigger("leplayer_click")}},{key:"_onIconClick",value:function(a){return this.disabled?!1:void this.icon.element.trigger("leplayer_icon_click")}},{key:"onClick",value:function(a){a.preventDefault()}},{key:"onIconClick",value:function(a){a.preventDefault()}}],[{key:"divider",value:function(){return a("<div />").addClass("divider")}},{key:"create",value:function(a){switch(a){case j:return new A;case k:return this.divider();case l:return new B;case m:return new C;case n:return new D;case o:return new E;case p:return new F;case q:return new G;case r:return new H;case s:return new I;case t:return new J;default:return null}}}]),b}(),y=function(){function b(c){e(this,b),this.element=a("<div />").addClass("control-text "+c)}return h(b,[{key:"text",set:function(a){this.element.html(a)}}]),b}(),z=function(b){function f(b,d){e(this,f);var g=c(this,Object.getPrototypeOf(f).call(this,b,d));return g.iconClass=d,g.listElement=a("<div/>").addClass("control-inner"),g.element.addClass("control-container").append(g.listElement),g._index=0,g.list=[],g}return d(f,b),h(f,[{key:"addItem",value:function(b,c){var d=this,e=a("<div />").addClass("inner-item").data("index",this._index).html(b).on("click",function(){d.onItemClick(e.data("index"))});if("object"==("undefined"==typeof c?"undefined":g(c)))for(var f in c)e.data(f,c[f]);return this._index++,this.list.push(e),this.listElement.append(e),e}},{key:"getByIndex",value:function(a){for(var b in this.list)if(this.list[b].data("index")==a)return this.list[b];return null}},{key:"onItemClick",value:function(a){this.active=a}},{key:"active",get:function(){for(var a in this.list)if(this.list[a].hasClass("active"))return this.list[a];return null},set:function(a){var b=!1;for(var c in this.list)this.list[c].data("index")==a?(this.list[c].addClass("active"),this.icon.element.html(this.list[c].html()),b=!0):this.list[c].removeClass("active");b||(this.icon.iconName=this.iconClass)}}]),f}(x),A=function(a){function b(){return e(this,b),c(this,Object.getPrototypeOf(b).call(this,"backward","undo"))}return d(b,a),h(b,[{key:"onClick",value:function(a){f(Object.getPrototypeOf(b.prototype),"onClick",this).call(this,a),P.currentTime-=u.playback.step.medium}}]),b}(x),B=function(b){function f(){e(this,f);var b=c(this,Object.getPrototypeOf(f).call(this,"","")),d=new N("download");return b.element=a("<a />").attr("href","").attr("target","_blank").attr("download","").addClass("control download").append(d.element),b}return d(f,b),h(f,[{key:"link",set:function(a){this.element.attr("href",a)}}]),f}(x),C=function(a){function b(){return e(this,b),c(this,Object.getPrototypeOf(b).call(this,"forward","redo"))}return d(b,a),b}(x),D=function(a){function b(){return e(this,b),c(this,Object.getPrototypeOf(b).call(this,"fullscreen","arrows-alt"))}return d(b,a),h(b,[{key:"onClick",value:function(a){f(Object.getPrototypeOf(b.prototype),"onClick",this).call(this,a),P.fullscreen.toggle()}}]),b}(x),E=function(a){function b(){return e(this,b),c(this,Object.getPrototypeOf(b).call(this,"play","play"))}return d(b,a),h(b,[{key:"pause",value:function(){this.icon.iconName="play"}},{key:"play",value:function(){this.icon.iconName="pause"}},{key:"onClick",value:function(a){f(Object.getPrototypeOf(b.prototype),"onClick",this).call(this,a),P.togglePlay()}}]),b}(x),F=function(b){function f(){e(this,f);var b=c(this,Object.getPrototypeOf(f).call(this));return b.down=new x("rate-down","backward"),b.up=new x("rate-up","forward"),b.current=new y("rate-current"),b.down.element.click(function(a){P.rate-=u.rate.step}),b.up.element.click(function(a){P.rate+=u.rate.step}),b.element=a("<div />").addClass("control-container").append(b.down.element).append(b.current.element).append(b.up.element),b}return d(f,b),h(f,[{key:"set",value:function(a){return this.disabled?!1:(this.up.element.removeClass("disabled"),this.down.element.removeClass("disabled"),P.rate<=u.rate.min?this.down.element.addClass("disabled"):P.rate>=u.rate.max&&this.up.element.addClass("disabled"),void this.show())}},{key:"init",value:function(){var a=K.get("rate",u.rate["default"]);this.show(a)}},{key:"show",value:function(a){a=a||P.rate,a=parseFloat(a).toFixed(2).toString().replace(/,/g,"."),this.current.text="×"+a}},{key:"disable",value:function(){this.disabled=!0,this.down.disable.apply(this.down,arguments),this.up.disable.apply(this.up,arguments)}}]),f}(x),G=function(a){function b(){e(this,b);var a=c(this,Object.getPrototypeOf(b).call(this,"source-control","bullseye"));if(O.length>1)for(var d in O)a.addItem(O[d].title,{src:O[d].src});else a.disable();return a}return d(b,a),h(b,[{key:"set",value:function(a){var b=this.getByIndex(a);null!=b&&(P.source=b.data("src"),Q.download=b.data("src"))}},{key:"onItemClick",value:function(a){f(Object.getPrototypeOf(b.prototype),"onItemClick",this).call(this,a),this.set(a)}}]),b}(z),H=function(a){function b(){return e(this,b),c(this,Object.getPrototypeOf(b).call(this,"subtitle-control","commenting-o"))}return d(b,a),h(b,[{key:"init",value:function(){if(P.subtitles.length>0){for(var a in P.subtitles)if(P.subtitles.hasOwnProperty(a)){var b=P.subtitles[a];this.addItem(b.title,{src:b.src,language:b.language})}}else this.disable()}},{key:"onIconClick",value:function(a){f(Object.getPrototypeOf(b.prototype),"onIconClick",this).call(this,a),this.onItemClick(-1)}},{key:"onItemClick",value:function(a){f(Object.getPrototypeOf(b.prototype),"onItemClick",this).call(this,a);var c=this.getByIndex(a);null!=c?P.track=c.data("language"):P.track=-1}}]),b}(z),I=function(b){function f(){e(this,f);var b=c(this,Object.getPrototypeOf(f).call(this,"timeline"));P.duration;return b.drag=!1,b.current=new y("time-current"),b.total=new y("time-total"),b.marker=a("<div />").addClass("time-marker"),b.markerShadow=a("<div />").addClass("time-marker shadow").append().hide(),b.markerShadowTime=a("<div />").addClass("time"),b.markerTime=a("<div />").addClass("time").hide(),b.played=a("<div />").addClass("time-played"),b.current.text="00:00",b.line=a("<div />").addClass("timeline").append(b.marker.append(b.markerTime)).append(b.markerShadow.append(b.markerShadowTime)).append(b.played).on({mousemove:function(a){if(!b.drag){var c=b.getPosition(a.pageX);c>0&&1>c?(b.markerShadow.show(),b.markerShadow.css("left",100*c+"%"),b.markerShadowTime.html($(P.duration*c))):b.markerShadow.hide()}},mouseleave:function(a){b.drag||b.markerShadow.hide()},mousedown:function(a){},click:function(a){1===a.which&&(b.drag||P.seek(P.duration*b.getPosition(a.pageX)))},touchmove:function(a){}}),b.element.addClass("timeline-container").append(a("<div />").addClass("timeline-subcontainer").append(b.current.element).append(b.line).append(b.total.element)),b.marker.on("mousedown",function(a){1===a.which&&(a.preventDefault(),b.markerShadow.hide(),b.drag=!0)}),a(document).on({mousemove:function(a){if(b.drag){var c=b.getPosition(a.pageX);c>0&&1>c&&(b.markerTime.show().html($(P.duration*c)),P.seek(P.duration*c))}},mouseup:function(a){b.markerTime.hide(),b.drag=!1}}),b}return d(f,b),h(f,[{key:"getPosition",value:function(a){return(a-this.line.offset().left)/this.line.width()}},{key:"move",value:function(){var a=(P.currentTime/P.duration*100).toFixed(2);100==a&&Q.pause(),this.marker.css("left",a+"%"),this.played.css("width",a+"%"),this.current.text=$(P.currentTime)}}]),f}(x),J=function(b){function g(){e(this,g);var b=c(this,Object.getPrototypeOf(g).call(this,"volume-control","volume-down"));return b.marker=a("<div/>").addClass("volume-marker"),b.active=a("<div/>").addClass("volume-active"),b.line=a("<div/>").addClass("volume-line").append(b.active).append(b.marker).on("click",function(a){if(!b.drag){var c=b.getPosition(a.pageY);c>=0&&1>=c&&(P.volume=1-c)}}),b.element.addClass("control-container").append(a("<div />").addClass("control-inner volume-slider").append(b.line)),b.drag=!1,b.marker.on("mousedown",function(a){1==a.which&&(b.drag=!0)}),a(document).on({mousemove:function(a){if(b.drag){var c=b.getPosition(a.pageY);c>=0&&1>=c&&(P.volume=1-c)}},mouseup:function(a){b.drag=!1}}),b}return d(g,b),h(g,[{key:"toggleMuted",value:function(){1==P.muted?this.value=K.get("volume",u.volume["default"]):this.value=0}},{key:"getPosition",value:function(a){return(a-this.line.offset().top)/this.line.height()}},{key:"onIconClick",value:function(a){f(Object.getPrototypeOf(g.prototype),"onIconClick",this).call(this,a),this.toggleMuted()}},{key:"value",set:function(a){a<u.volume.mutelimit?this.icon.iconName="volume-off":.5>a?this.icon.iconName="volume-down":this.icon.iconName="volume-up";var b=Math.round(100*a).toString()+"%";this.active.css("height",b),this.marker.css("bottom",b)}}]),g}(x),K=function(){function a(){e(this,a)}return h(a,null,[{key:"get",value:function(a,b){var c=document.cookie.split(";");for(var d in c){var e=c[d].trim().split("=");if(e[0]=="leplayer_"+a)return e[1]}return b}},{key:"set",value:function(a,b){var c=new Date;c.setDate(c.year+1),document.cookie="leplayer_"+a+"="+b+";expires="+c.toString()}}]),a}(),L=function(){function b(a,c){e(this,b),this.items={},this.active=c||!1,this.name=a}return h(b,[{key:"disable",value:function(){for(var a in this.items)this.items.hasOwnProperty(a)&&this.items[a].disable()}},{key:"add",value:function(a){return a==k?x.create(a):(this.items[a]=x.create(a),this.items[a].element)}},{key:"has",value:function(a){return"object"==g(this.items[a])}},{key:"hide",value:function(){this.element.hide()}},{key:"init",value:function(){this.element=R.find(".controls-"+this.name);for(var b in this.items)this.items.hasOwnProperty(b)&&a.isFunction(this.items[b].init)&&this.items[b].init();this.initTimeline(),this.totalTime=$(P.duration),this.download=O[0].src}},{key:"initTimeline",value:function(){this.has(s)&&this.items.timeline.element.width()<20&&this.items.timeline.element.hide()}},{key:"moveTimeMarker",value:function(){this.has(s)&&this.items.timeline.move()}},{key:"pause",value:function(){this.has(o)&&this.items.play.pause()}},{key:"play",value:function(){this.has(o)&&this.items.play.play()}},{key:"show",value:function(){R.find(".controls-"+this.name).show()}},{key:"download",set:function(a){this.has(l)&&(this.items.download.link=a)}},{key:"rate",set:function(a){this.has(p)&&this.items.rate.set(a)}},{key:"source",set:function(a){this.has(q)&&this.items.source.set(a)}},{key:"totalTime",set:function(a){this.has(s)&&(this.items.timeline.total.text=a)}},{key:"volume",set:function(a){this.has(t)&&(this.items.volume.value=a)}}]),b}(),M=function(){function a(){e(this,a),this.collections={common:new L("common"),mini:new L("mini"),fullscreen:new L("fullscreen")},this.collections.common.active=!0}return h(a,[{key:"disable",value:function(){for(var a in this.collections)this.collections[a].disable()}},{key:"has",value:function(a){return"object"==g(this.collections[a])}},{key:"init",value:function(){for(var a in this.collections)this.collections[a].init();this.collections.common.show(),this.collections.mini.hide(),this.collections.fullscreen.hide()}},{key:"moveTimeMarker",value:function(){for(var a in this.collections)this.collections[a].moveTimeMarker()}},{key:"pause",value:function(){for(var a in this.collections)this.collections[a].pause()}},{key:"play",value:function(){for(var a in this.collections)this.collections[a].play()}},{key:"common",get:function(){return this.collections.common}},{key:"fullscreen",get:function(){return this.collections.fullscreen}},{key:"mini",get:function(){return this.collections.mini}},{key:"download",set:function(a){for(var b in this.collections)this.collections[b].download=a}},{key:"rate",set:function(a){K.set("rate",a);for(var b in this.collections)this.collections[b].rate=a}},{key:"source",set:function(a){for(var b in this.collections)this.collections[b].source=a}},{key:"totalTime",set:function(a){for(var b in this.collections)this.collections[b].totalTime=a}},{key:"volume",set:function(a){for(var b in this.collections)this.collections[b].volume=a;K.set("volume",a)}}]),a}(),N=function(){function b(c){e(this,b),this._useTag=document.createElementNS("http://www.w3.org/2000/svg","use"),this._svgTag=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.iconName=this._iconName=c,this._svgTag.appendChild(this._useTag),this.element=a("<div />").addClass("leplayer-icon").append(a(this._svgTag))}return h(b,[{key:"iconName",set:function(a){var b,c,d=["http://www.w3.org/1999/xlink","href"];(b=this._useTag).removeAttributeNS.apply(b,d.concat([u.svgPath+"#leplayer-icon-"+this.iconName])),(c=this._useTag).setAttributeNS.apply(c,d.concat([u.svgPath+"#leplayer-icon-"+a])),this._iconName=a},get:function(){return this._iconName}}]),b}(),O=[],P=(u.volume["default"],null),Q=new M,R=null,S=null,T=function(b){var c=void 0;return c=a("<div />").addClass("leplayer-notification").append(b.text)},U=function(b){var c=T({text:b});c=a("<div />").addClass("leplayer-notification").append(b),R.append(c)},V=function(){if("video"!=b.prop("tagName").toLowerCase())return console.warn("Incorrect element selected."),this;if(Z(),b.children("source").each(function(){var b=a(this).attr("src");b&&O.push({src:b,title:a(this).attr("title")})}),0==O.length){var c=b.attr("src");c&&O.push({src:c,title:a(this).attr("title")||"default"})}return 0==O.length?(console.warn("No sources found."),this):(P=new w(b),X(),W(),P.init().done(function(){P.trigger("inited")}),void Y())},W=function(){for(var b in u.controls)if(Q.has(b))for(var c in u.controls[b]){var d=u.controls[b][c],e=!1,f=a("<div />").addClass("leplayer-controls controls-"+b);for(var g in d){var h=d[g];if(h==k||!Q.collections[b].has(h)){var i=Q.collections[b].add(h);null!=i?(f.append(i),h==s&&(e=!0)):console.warn("Cannot create "+h+" control for collection "+b+".")}}e||f.css("width","1px"),f.find(".divider + .divider").remove(),R.append(f)}},X=function(){var c=void 0,d=new N("play");S=a("<div />").addClass("play-overlay").append(d.element),c=a("<div />").addClass("leplayer-video").append(S),R=a("<div />").addClass("leplayer-container").append(c).attr("tabindex",0).css("width",b.width()+"px"),b.before(R),c.append(b),S.on({click:function(a){b.trigger("click")},dblclick:function(a){b.trigger("dblclick")}})},Y=function(){var b=function(a,b){return(a.which===b.key||a.key===b.key)&&!!b.shiftKey==a.shiftKey&&!!b.ctrlKey==a.ctrlKey};a(R).bind("keydown.leplayer.hotkey",function(c){var d=_();d&&a.each(u.keyBinding,function(a,d){return b(c,d)?(c.preventDefault(),d.fn(P),!1):void 0})})},Z=function(){var c=void 0,d=void 0,e=void 0,f=void 0,g=void 0;b.removeAttr("controls"),c=b.attr("height"),c&&(u.height=c+"px",b.removeAttr("height")),b.css("height",u.height),d=b.attr("width"),d&&(u.width=d+"px",b.removeAttr("width")),b.css("width",u.width),e=b.attr("poster"),e?u.poster=e:u.poster&&b.attr("poster",u.poster),f=["autoplay","loop","muted"],f.forEach(function(a){var c=b.attr(a);c?u[a]=!0:u[a]?b.attr(a,""):b.removeAttr(a),b.prop(a,u[a])}),g=b.attr("preload"),g&&(g=g.toLowerCase(),"none"==g||"metadata"==g?u.preload=g:u.preload="auto"),u.sources&&(Array.isArray(u.sources)?u.sources.forEach(function(c){console.log(c);var d=a("<source />");"string"==typeof c?d.attr("src",c):d.attr("src",c.src),d.attr("title",c.title||"default"),b.append(d)}):"string"==typeof u.sources&&b.attr("src",u.sources)),b.attr("preload",u.preload)},$=function(a){var b=Math.floor(a/3600),c=Math.floor(a%3600/60),d=Math.floor(a%3600%60),e="";return b>0&&(e=b+":"),10>c&&(e+="0"),e+=c+":",10>d&&(e+="0"),e+=d},_=function(){var b=a(R).find(":focus");return b.length>0||a(R).is(":focus")};return V(),this};window.$.fn.lePlayer=function(c){return this.each(function(){return new b(a(this),c)})}}(jQuery)}]);